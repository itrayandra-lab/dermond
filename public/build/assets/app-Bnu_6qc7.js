var qu="2.1.15";const pe="[data-trix-attachment]",ks={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},gt={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(e){return Io(e.parentNode)===gt[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(e){return Io(e.parentNode)===gt[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},Io=e=>{var t;return e==null||(t=e.tagName)===null||t===void 0?void 0:t.toLowerCase()},No=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),ir=No&&parseInt(No[1]);var _n={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:ir&&ir>12,samsungAndroid:ir&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every((e=>e in InputEvent.prototype))},nl={ADD_ATTR:["language"],SAFE_FOR_XML:!1,RETURN_DOM:!0},I={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a captionâ€¦",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URLâ€¦",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const $u=[I.bytes,I.KB,I.MB,I.GB,I.TB,I.PB];var il={prefix:"IEC",precision:2,formatter(e){switch(e){case 0:return"0 ".concat(I.bytes);case 1:return"1 ".concat(I.byte);default:let t;this.prefix==="SI"?t=1e3:this.prefix==="IEC"&&(t=1024);const n=Math.floor(Math.log(e)/Math.log(t)),i=(e/Math.pow(t,n)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(i," ").concat($u[n])}}};const ki="\uFEFF",Qt="Â ",rl=function(e){for(const t in e){const n=e[t];this[t]=n}return this},_s=document.documentElement,Gu=_s.matches,Z=function(e){let{onElement:t,matchingSelector:n,withCallback:i,inPhase:r,preventDefault:s,times:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=t||_s,l=n,c=r==="capturing",u=function(d){o!=null&&--o==0&&u.destroy();const v=ee(d.target,{matchingSelector:l});v!=null&&(i?.call(v,d,v),s&&d.preventDefault())};return u.destroy=()=>a.removeEventListener(e,u,c),a.addEventListener(e,u,c),u},vn=function(e){let{onElement:t,bubbles:n,cancelable:i,attributes:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=t??_s;n=n!==!1,i=i!==!1;const o=document.createEvent("Events");return o.initEvent(e,n,i),r!=null&&rl.call(o,r),s.dispatchEvent(o)},sl=function(e,t){if(e?.nodeType===1)return Gu.call(e,t)},ee=function(e){let{matchingSelector:t,untilNode:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.parentNode;if(e!=null){if(t==null)return e;if(e.closest&&n==null)return e.closest(t);for(;e&&e!==n;){if(sl(e,t))return e;e=e.parentNode}}},Os=e=>document.activeElement!==e&&de(e,document.activeElement),de=function(e,t){if(e&&t)for(;t;){if(t===e)return!0;t=t.parentNode}},rr=function(e){var t;if((t=e)===null||t===void 0||!t.parentNode)return;let n=0;for(e=e.previousSibling;e;)n++,e=e.previousSibling;return n},ne=e=>{var t;return e==null||(t=e.parentNode)===null||t===void 0?void 0:t.removeChild(e)},pi=function(e){let{onlyNodesOfType:t,usingFilter:n,expandEntityReferences:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(()=>{switch(t){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(e,r,n??null,i===!0)},mt=e=>{var t;return e==null||(t=e.tagName)===null||t===void 0?void 0:t.toLowerCase()},j=function(e){let t,n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="object"?(i=e,e=i.tagName):i={attributes:i};const r=document.createElement(e);if(i.editable!=null&&(i.attributes==null&&(i.attributes={}),i.attributes.contenteditable=i.editable),i.attributes)for(t in i.attributes)n=i.attributes[t],r.setAttribute(t,n);if(i.style)for(t in i.style)n=i.style[t],r.style[t]=n;if(i.data)for(t in i.data)n=i.data[t],r.dataset[t]=n;return i.className&&i.className.split(" ").forEach((s=>{r.classList.add(s)})),i.textContent&&(r.textContent=i.textContent),i.childNodes&&[].concat(i.childNodes).forEach((s=>{r.appendChild(s)})),r};let rn;const yn=function(){if(rn!=null)return rn;rn=[];for(const e in gt){const t=gt[e];t.tagName&&rn.push(t.tagName)}return rn},sr=e=>Be(e?.firstChild),Fo=function(e){let{strict:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return t?Be(e):Be(e)||!Be(e.firstChild)&&(function(n){return yn().includes(mt(n))&&!yn().includes(mt(n.firstChild))})(e)},Be=e=>Ku(e)&&e?.data==="block",Ku=e=>e?.nodeType===Node.COMMENT_NODE,je=function(e){let{name:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e)return xn(e)?e.data===ki?!t||e.parentNode.dataset.trixCursorTarget===t:void 0:je(e.firstChild)},me=e=>sl(e,pe),ol=e=>xn(e)&&e?.data==="",xn=e=>e?.nodeType===Node.TEXT_NODE,Ds={level2Enabled:!0,getLevel(){return this.level2Enabled&&_n.supportsInputEvents?2:0},pickFiles(e){const t=j("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});t.addEventListener("change",(()=>{e(t.files),ne(t)})),ne(document.getElementById(this.fileInputId)),document.body.appendChild(t),t.click()}};var si={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},Ae={bold:{tagName:"strong",inheritable:!0,parser(e){const t=window.getComputedStyle(e);return t.fontWeight==="bold"||t.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:e=>window.getComputedStyle(e).fontStyle==="italic"},href:{groupTagName:"a",parser(e){const t="a:not(".concat(pe,")"),n=e.closest(t);if(n)return n.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},al={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(I.bold,'" tabindex="-1">').concat(I.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(I.italic,'" tabindex="-1">').concat(I.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(I.strike,'" tabindex="-1">').concat(I.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(I.link,'" tabindex="-1">').concat(I.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(I.heading1,'" tabindex="-1">').concat(I.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(I.quote,'" tabindex="-1">').concat(I.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(I.code,'" tabindex="-1">').concat(I.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(I.bullets,'" tabindex="-1">').concat(I.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(I.numbers,'" tabindex="-1">').concat(I.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(I.outdent,'" tabindex="-1">').concat(I.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(I.indent,'" tabindex="-1">').concat(I.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(I.attachFiles,'" tabindex="-1">').concat(I.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(I.undo,'" tabindex="-1">').concat(I.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(I.redo,'" tabindex="-1">').concat(I.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(I.urlPlaceholder,'" aria-label="').concat(I.url,`" data-trix-validate-href required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(I.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(I.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const Wr={interval:5e3};var On=Object.freeze({__proto__:null,attachments:ks,blockAttributes:gt,browser:_n,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},dompurify:nl,fileSize:il,input:Ds,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:I,parser:si,textAttributes:Ae,toolbar:al,undo:Wr});class st{static proxyMethod(t){const{name:n,toMethod:i,toProperty:r,optional:s}=Ju(t);this.prototype[n]=function(){let o,a;var l,c;return i?a=s?(l=this[i])===null||l===void 0?void 0:l.call(this):this[i]():r&&(a=this[r]),s?(o=(c=a)===null||c===void 0?void 0:c[n],o?Bo.call(o,a,arguments):void 0):(o=a[n],Bo.call(o,a,arguments))}}}const Ju=function(e){const t=e.match(Xu);if(!t)throw new Error("can't parse @proxyMethod expression: ".concat(e));const n={name:t[4]};return t[2]!=null?n.toMethod=t[1]:n.toProperty=t[1],t[3]!=null&&(n.optional=!0),n},{apply:Bo}=Function.prototype,Xu=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var or,ar,lr;class Rn extends st{static box(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t instanceof this?t:this.fromUCS2String(t?.toString())}static fromUCS2String(t){return new this(t,qr(t))}static fromCodepoints(t){return new this($r(t),t)}constructor(t,n){super(...arguments),this.ucs2String=t,this.codepoints=n,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(t){return $r(this.codepoints.slice(0,Math.max(0,t))).length}offsetFromUCS2Offset(t){return qr(this.ucs2String.slice(0,Math.max(0,t))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(t){return this.slice(t,t+1)}isEqualTo(t){return this.constructor.box(t).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const Yu=((or=Array.from)===null||or===void 0?void 0:or.call(Array,"ðŸ‘¼").length)===1,Zu=((ar=" ".codePointAt)===null||ar===void 0?void 0:ar.call(" ",0))!=null,Qu=((lr=String.fromCodePoint)===null||lr===void 0?void 0:lr.call(String,32,128124))===" ðŸ‘¼";let qr,$r;qr=Yu&&Zu?e=>Array.from(e).map((t=>t.codePointAt(0))):function(e){const t=[];let n=0;const{length:i}=e;for(;n<i;){let r=e.charCodeAt(n++);if(55296<=r&&r<=56319&&n<i){const s=e.charCodeAt(n++);(64512&s)==56320?r=((1023&r)<<10)+(1023&s)+65536:n--}t.push(r)}return t},$r=Qu?e=>String.fromCodePoint(...Array.from(e||[])):function(e){return(()=>{const t=[];return Array.from(e).forEach((n=>{let i="";n>65535&&(n-=65536,i+=String.fromCharCode(n>>>10&1023|55296),n=56320|1023&n),t.push(i+String.fromCharCode(n))})),t})().join("")};let td=0;class Te extends st{static fromJSONString(t){return this.fromJSON(JSON.parse(t))}constructor(){super(...arguments),this.id=++td}hasSameConstructorAs(t){return this.constructor===t?.constructor}isEqualTo(t){return this===t}inspect(){const t=[],n=this.contentsForInspection()||{};for(const i in n){const r=n[i];t.push("".concat(i,"=").concat(r))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(t.length?" ".concat(t.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return Rn.box(this)}getCacheKey(){return this.id.toString()}}const Se=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Ps=function(e){const t=e.slice(0);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.splice(...i),t},ed=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,nd=(function(){const e=j("input",{dir:"auto",name:"x",dirName:"x.dir"}),t=j("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),n=j("form");n.appendChild(e),n.appendChild(t);const i=(function(){try{return new FormData(n).has(t.dirName)}catch{return!1}})(),r=(function(){try{return e.matches(":dir(ltr),:dir(rtl)")}catch{return!1}})();return i?function(s){return t.value=s,new FormData(n).get(t.dirName)}:r?function(s){return e.value=s,e.matches(":dir(rtl)")?"rtl":"ltr"}:function(s){const o=s.trim().charAt(0);return ed.test(o)?"rtl":"ltr"}})();let cr=null,ur=null,dr=null,$n=null;const Gr=()=>(cr||(cr=rd().concat(id())),cr),rt=e=>gt[e],id=()=>(ur||(ur=Object.keys(gt)),ur),Kr=e=>Ae[e],rd=()=>(dr||(dr=Object.keys(Ae)),dr),ll=function(e,t){sd(e).textContent=t.replace(/%t/g,e)},sd=function(e){const t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("data-tag-name",e.toLowerCase());const n=od();return n&&t.setAttribute("nonce",n),document.head.insertBefore(t,document.head.firstChild),t},od=function(){const e=jo("trix-csp-nonce")||jo("csp-nonce");if(e){const{nonce:t,content:n}=e;return t==""?n:t}},jo=e=>document.head.querySelector("meta[name=".concat(e,"]")),zo={"application/x-trix-feature-detection":"test"},cl=function(e){const t=e.getData("text/plain"),n=e.getData("text/html");if(!t||!n)return t?.length;{const{body:i}=new DOMParser().parseFromString(n,"text/html");if(i.textContent===t)return!i.querySelector("*")}},ul=/Mac|^iP/.test(navigator.platform)?e=>e.metaKey:e=>e.ctrlKey,Ms=e=>setTimeout(e,1),dl=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={};for(const n in e){const i=e[n];t[n]=i}return t},We=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0},q=function(e){if(e!=null)return Array.isArray(e)||(e=[e,e]),[Uo(e[0]),Uo(e[1]!=null?e[1]:e[0])]},Gt=function(e){if(e==null)return;const[t,n]=q(e);return Jr(t,n)},mi=function(e,t){if(e==null||t==null)return;const[n,i]=q(e),[r,s]=q(t);return Jr(n,r)&&Jr(i,s)},Uo=function(e){return typeof e=="number"?e:dl(e)},Jr=function(e,t){return typeof e=="number"?e===t:We(e,t)};class hl extends st{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(t){if(!this.selectionManagers.includes(t))return this.selectionManagers.push(t),this.start()}unregisterSelectionManager(t){if(this.selectionManagers=this.selectionManagers.filter((n=>n!==t)),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map((t=>t.selectionDidChange()))}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}}const Ee=new hl,fl=function(){const e=window.getSelection();if(e.rangeCount>0)return e},An=function(){var e;const t=(e=fl())===null||e===void 0?void 0:e.getRangeAt(0);if(t&&!ad(t))return t},pl=function(e){const t=window.getSelection();return t.removeAllRanges(),t.addRange(e),Ee.update()},ad=e=>Vo(e.startContainer)||Vo(e.endContainer),Vo=e=>!Object.getPrototypeOf(e),gn=e=>e.replace(new RegExp("".concat(ki),"g"),"").replace(new RegExp("".concat(Qt),"g")," "),Is=new RegExp("[^\\S".concat(Qt,"]")),Ns=e=>e.replace(new RegExp("".concat(Is.source),"g")," ").replace(/\ {2,}/g," "),Ho=function(e,t){if(e.isEqualTo(t))return["",""];const n=hr(e,t),{length:i}=n.utf16String;let r;if(i){const{offset:s}=n,o=e.codepoints.slice(0,s).concat(e.codepoints.slice(s+i));r=hr(t,Rn.fromCodepoints(o))}else r=hr(t,e);return[n.utf16String.toString(),r.utf16String.toString()]},hr=function(e,t){let n=0,i=e.length,r=t.length;for(;n<i&&e.charAt(n).isEqualTo(t.charAt(n));)n++;for(;i>n+1&&e.charAt(i-1).isEqualTo(t.charAt(r-1));)i--,r--;return{utf16String:e.slice(n,i),offset:n}};class Ct extends Te{static fromCommonAttributesOfObjects(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!t.length)return new this;let n=sn(t[0]),i=n.getKeys();return t.slice(1).forEach((r=>{i=n.getKeysCommonToHash(sn(r)),n=n.slice(i)})),n}static box(t){return sn(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=oi(t)}add(t,n){return this.merge(ld(t,n))}remove(t){return new Ct(oi(this.values,t))}get(t){return this.values[t]}has(t){return t in this.values}merge(t){return new Ct(cd(this.values,ud(t)))}slice(t){const n={};return Array.from(t).forEach((i=>{this.has(i)&&(n[i]=this.values[i])})),new Ct(n)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(t){return t=sn(t),this.getKeys().filter((n=>this.values[n]===t.values[n]))}isEqualTo(t){return Se(this.toArray(),sn(t).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const t=[];for(const n in this.values){const i=this.values[n];t.push(t.push(n,i))}this.array=t.slice(0)}return this.array}toObject(){return oi(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const ld=function(e,t){const n={};return n[e]=t,n},cd=function(e,t){const n=oi(e);for(const i in t){const r=t[i];n[i]=r}return n},oi=function(e,t){const n={};return Object.keys(e).sort().forEach((i=>{i!==t&&(n[i]=e[i])})),n},sn=function(e){return e instanceof Ct?e:new Ct(e)},ud=function(e){return e instanceof Ct?e.values:e};class Fs{static groupObjects(){let t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:i,asTree:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r&&i==null&&(i=0);const s=[];return Array.from(n).forEach((o=>{var a;if(t){var l,c,u;if((l=o.canBeGrouped)!==null&&l!==void 0&&l.call(o,i)&&(c=(u=t[t.length-1]).canBeGroupedWith)!==null&&c!==void 0&&c.call(u,o,i))return void t.push(o);s.push(new this(t,{depth:i,asTree:r})),t=null}(a=o.canBeGrouped)!==null&&a!==void 0&&a.call(o,i)?t=[o]:s.push(o)})),t&&s.push(new this(t,{depth:i,asTree:r})),s}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:n,asTree:i}=arguments.length>1?arguments[1]:void 0;this.objects=t,i&&(this.depth=n,this.objects=this.constructor.groupObjects(this.objects,{asTree:i,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const t=["objectGroup"];return Array.from(this.getObjects()).forEach((n=>{t.push(n.getCacheKey())})),t.join("/")}}class dd extends st{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(t).forEach((n=>{const i=JSON.stringify(n);this.objects[i]==null&&(this.objects[i]=n)}))}find(t){const n=JSON.stringify(t);return this.objects[n]}}class hd{constructor(t){this.reset(t)}add(t){const n=Wo(t);this.elements[n]=t}remove(t){const n=Wo(t),i=this.elements[n];if(i)return delete this.elements[n],i}reset(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(t).forEach((n=>{this.add(n)})),t}}const Wo=e=>e.dataset.trixStoreKey;class gi extends st{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise(((t,n)=>(this.performing=!0,this.perform(((i,r)=>{this.succeeded=i,this.performing=!1,this.performed=!0,this.succeeded?t(r):n(r)})))))),this.promise}perform(t){return t(!1)}release(){var t,n;(t=this.promise)===null||t===void 0||(n=t.cancel)===null||n===void 0||n.call(t),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}gi.proxyMethod("getPromise().then"),gi.proxyMethod("getPromise().catch");class Re extends st{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=t,this.options=n,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map((t=>t.cloneNode(!0)))}invalidate(){var t;return this.nodes=null,this.childViews=[],(t=this.parentView)===null||t===void 0?void 0:t.invalidate()}invalidateViewForObject(t){var n;return(n=this.findViewForObject(t))===null||n===void 0?void 0:n.invalidate()}findOrCreateCachedChildView(t,n,i){let r=this.getCachedViewForObject(n);return r?this.recordChildView(r):(r=this.createChildView(...arguments),this.cacheViewForObject(r,n)),r}createChildView(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n instanceof Fs&&(i.viewClass=t,t=fd);const r=new t(n,i);return this.recordChildView(r)}recordChildView(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t}getAllChildViews(){let t=[];return this.childViews.forEach((n=>{t.push(n),t=t.concat(n.getAllChildViews())})),t}findElement(){return this.findElementForObject(this.object)}findElementForObject(t){const n=t?.id;if(n)return this.rootView.element.querySelector("[data-trix-id='".concat(n,"']"))}findViewForObject(t){for(const n of this.getAllChildViews())if(n.object===t)return n}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(t){var n;return(n=this.getViewCache())===null||n===void 0?void 0:n[t.getCacheKey()]}cacheViewForObject(t,n){const i=this.getViewCache();i&&(i[n.getCacheKey()]=t)}garbageCollectCachedViews(){const t=this.getViewCache();if(t){const n=this.getAllChildViews().concat(this).map((i=>i.object.getCacheKey()));for(const i in t)n.includes(i)||delete t[i]}}}class fd extends Re{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach((t=>{this.findOrCreateCachedChildView(this.viewClass,t,this.options)})),this.childViews}createNodes(){const t=this.createContainerElement();return this.getChildViews().forEach((n=>{Array.from(n.getNodes()).forEach((i=>{t.appendChild(i)}))})),[t]}createContainerElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(t)}}/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:ml,setPrototypeOf:qo,isFrozen:pd,getPrototypeOf:md,getOwnPropertyDescriptor:gd}=Object;let{freeze:yt,seal:kt,create:gl}=Object,{apply:Xr,construct:Yr}=typeof Reflect<"u"&&Reflect;yt||(yt=function(e){return e}),kt||(kt=function(e){return e}),Xr||(Xr=function(e,t,n){return e.apply(t,n)}),Yr||(Yr=function(e,t){return new e(...t)});const Gn=xt(Array.prototype.forEach),bd=xt(Array.prototype.lastIndexOf),$o=xt(Array.prototype.pop),on=xt(Array.prototype.push),vd=xt(Array.prototype.splice),ai=xt(String.prototype.toLowerCase),fr=xt(String.prototype.toString),Go=xt(String.prototype.match),an=xt(String.prototype.replace),yd=xt(String.prototype.indexOf),xd=xt(String.prototype.trim),_t=xt(Object.prototype.hasOwnProperty),pt=xt(RegExp.prototype.test),ln=(Ko=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Yr(Ko,t)});var Ko;function xt(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return Xr(e,t,i)}}function U(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ai;qo&&qo(e,null);let i=t.length;for(;i--;){let r=t[i];if(typeof r=="string"){const s=n(r);s!==r&&(pd(t)||(t[i]=s),r=s)}e[r]=!0}return e}function Ad(e){for(let t=0;t<e.length;t++)_t(e,t)||(e[t]=null);return e}function le(e){const t=gl(null);for(const[n,i]of ml(e))_t(e,n)&&(Array.isArray(i)?t[n]=Ad(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=le(i):t[n]=i);return t}function cn(e,t){for(;e!==null;){const n=gd(e,t);if(n){if(n.get)return xt(n.get);if(typeof n.value=="function")return xt(n.value)}e=md(e)}return function(){return null}}const Jo=yt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),pr=yt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),mr=yt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Sd=yt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),gr=yt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ed=yt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Xo=yt(["#text"]),Yo=yt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),br=yt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Zo=yt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Kn=yt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),wd=kt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Cd=kt(/<%[\w\W]*|[\w\W]*%>/gm),Td=kt(/\$\{[\w\W]*/gm),Rd=kt(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ld=kt(/^aria-[\-\w]+$/),bl=kt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kd=kt(/^(?:\w+script|data):/i),_d=kt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),vl=kt(/^html$/i),Od=kt(/^[a-z][.\w]*(-[.\w]+)+$/i);var Qo=Object.freeze({__proto__:null,ARIA_ATTR:Ld,ATTR_WHITESPACE:_d,CUSTOM_ELEMENT:Od,DATA_ATTR:Rd,DOCTYPE_NAME:vl,ERB_EXPR:Cd,IS_ALLOWED_URI:bl,IS_SCRIPT_OR_DATA:kd,MUSTACHE_EXPR:wd,TMPLIT_EXPR:Td});const Dd=1,Pd=3,Md=7,Id=8,Nd=9,Fd=function(){return typeof window>"u"?null:window};var bi=(function e(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Fd();const n=m=>e(m);if(n.version="3.2.5",n.removed=[],!t||!t.document||t.document.nodeType!==Nd||!t.Element)return n.isSupported=!1,n;let{document:i}=t;const r=i,s=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:v,DOMParser:f,trustedTypes:p}=t,y=c.prototype,b=cn(y,"cloneNode"),h=cn(y,"remove"),g=cn(y,"nextSibling"),x=cn(y,"childNodes"),S=cn(y,"parentNode");if(typeof a=="function"){const m=i.createElement("template");m.content&&m.content.ownerDocument&&(i=m.content.ownerDocument)}let E,_="";const{implementation:k,createNodeIterator:w,createDocumentFragment:P,getElementsByTagName:R}=i,{importNode:L}=r;let C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported=typeof ml=="function"&&typeof S=="function"&&k&&k.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:F,TMPLIT_EXPR:K,DATA_ATTR:ut,ARIA_ATTR:B,IS_SCRIPT_OR_DATA:D,ATTR_WHITESPACE:V,CUSTOM_ELEMENT:X}=Qo;let{IS_ALLOWED_URI:Y}=Qo,$=null;const _e=U({},[...Jo,...pr,...mr,...gr,...Xo]);let tt=null;const Qe=U({},[...Yo,...br,...Zo,...Kn]);let nt=Object.seal(gl(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),tn=null,$i=null,po=!0,Gi=!0,mo=!1,go=!0,Oe=!1,Ki=!0,oe=!1,Ji=!1,Xi=!1,De=!1,jn=!1,zn=!1,bo=!0,vo=!1,Yi=!0,en=!1,Pe={},Me=null;const yo=U({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let xo=null;const Ao=U({},["audio","video","img","source","image","track"]);let Zi=null;const So=U({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Un="http://www.w3.org/1998/Math/MathML",Vn="http://www.w3.org/2000/svg",Vt="http://www.w3.org/1999/xhtml";let Ie=Vt,Qi=!1,tr=null;const zu=U({},[Un,Vn,Vt],fr);let Hn=U({},["mi","mo","mn","ms","mtext"]),Wn=U({},["annotation-xml"]);const Uu=U({},["title","style","font","a","script"]);let nn=null;const Vu=["application/xhtml+xml","text/html"];let lt=null,Ne=null;const Hu=i.createElement("form"),Eo=function(m){return m instanceof RegExp||m instanceof Function},er=function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Ne||Ne!==m){if(m&&typeof m=="object"||(m={}),m=le(m),nn=Vu.indexOf(m.PARSER_MEDIA_TYPE)===-1?"text/html":m.PARSER_MEDIA_TYPE,lt=nn==="application/xhtml+xml"?fr:ai,$=_t(m,"ALLOWED_TAGS")?U({},m.ALLOWED_TAGS,lt):_e,tt=_t(m,"ALLOWED_ATTR")?U({},m.ALLOWED_ATTR,lt):Qe,tr=_t(m,"ALLOWED_NAMESPACES")?U({},m.ALLOWED_NAMESPACES,fr):zu,Zi=_t(m,"ADD_URI_SAFE_ATTR")?U(le(So),m.ADD_URI_SAFE_ATTR,lt):So,xo=_t(m,"ADD_DATA_URI_TAGS")?U(le(Ao),m.ADD_DATA_URI_TAGS,lt):Ao,Me=_t(m,"FORBID_CONTENTS")?U({},m.FORBID_CONTENTS,lt):yo,tn=_t(m,"FORBID_TAGS")?U({},m.FORBID_TAGS,lt):{},$i=_t(m,"FORBID_ATTR")?U({},m.FORBID_ATTR,lt):{},Pe=!!_t(m,"USE_PROFILES")&&m.USE_PROFILES,po=m.ALLOW_ARIA_ATTR!==!1,Gi=m.ALLOW_DATA_ATTR!==!1,mo=m.ALLOW_UNKNOWN_PROTOCOLS||!1,go=m.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Oe=m.SAFE_FOR_TEMPLATES||!1,Ki=m.SAFE_FOR_XML!==!1,oe=m.WHOLE_DOCUMENT||!1,De=m.RETURN_DOM||!1,jn=m.RETURN_DOM_FRAGMENT||!1,zn=m.RETURN_TRUSTED_TYPE||!1,Xi=m.FORCE_BODY||!1,bo=m.SANITIZE_DOM!==!1,vo=m.SANITIZE_NAMED_PROPS||!1,Yi=m.KEEP_CONTENT!==!1,en=m.IN_PLACE||!1,Y=m.ALLOWED_URI_REGEXP||bl,Ie=m.NAMESPACE||Vt,Hn=m.MATHML_TEXT_INTEGRATION_POINTS||Hn,Wn=m.HTML_INTEGRATION_POINTS||Wn,nt=m.CUSTOM_ELEMENT_HANDLING||{},m.CUSTOM_ELEMENT_HANDLING&&Eo(m.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(nt.tagNameCheck=m.CUSTOM_ELEMENT_HANDLING.tagNameCheck),m.CUSTOM_ELEMENT_HANDLING&&Eo(m.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(nt.attributeNameCheck=m.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),m.CUSTOM_ELEMENT_HANDLING&&typeof m.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(nt.allowCustomizedBuiltInElements=m.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Oe&&(Gi=!1),jn&&(De=!0),Pe&&($=U({},Xo),tt=[],Pe.html===!0&&(U($,Jo),U(tt,Yo)),Pe.svg===!0&&(U($,pr),U(tt,br),U(tt,Kn)),Pe.svgFilters===!0&&(U($,mr),U(tt,br),U(tt,Kn)),Pe.mathMl===!0&&(U($,gr),U(tt,Zo),U(tt,Kn))),m.ADD_TAGS&&($===_e&&($=le($)),U($,m.ADD_TAGS,lt)),m.ADD_ATTR&&(tt===Qe&&(tt=le(tt)),U(tt,m.ADD_ATTR,lt)),m.ADD_URI_SAFE_ATTR&&U(Zi,m.ADD_URI_SAFE_ATTR,lt),m.FORBID_CONTENTS&&(Me===yo&&(Me=le(Me)),U(Me,m.FORBID_CONTENTS,lt)),Yi&&($["#text"]=!0),oe&&U($,["html","head","body"]),$.table&&(U($,["tbody"]),delete tn.tbody),m.TRUSTED_TYPES_POLICY){if(typeof m.TRUSTED_TYPES_POLICY.createHTML!="function")throw ln('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof m.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ln('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=m.TRUSTED_TYPES_POLICY,_=E.createHTML("")}else E===void 0&&(E=(function(O,T){if(typeof O!="object"||typeof O.createPolicy!="function")return null;let H=null;const W="data-tt-policy-suffix";T&&T.hasAttribute(W)&&(H=T.getAttribute(W));const z="dompurify"+(H?"#"+H:"");try{return O.createPolicy(z,{createHTML:at=>at,createScriptURL:at=>at})}catch{return console.warn("TrustedTypes policy "+z+" could not be created."),null}})(p,s)),E!==null&&typeof _=="string"&&(_=E.createHTML(""));yt&&yt(m),Ne=m}},wo=U({},[...pr,...mr,...Sd]),Co=U({},[...gr,...Ed]),It=function(m){on(n.removed,{element:m});try{S(m).removeChild(m)}catch{h(m)}},qn=function(m,O){try{on(n.removed,{attribute:O.getAttributeNode(m),from:O})}catch{on(n.removed,{attribute:null,from:O})}if(O.removeAttribute(m),m==="is")if(De||jn)try{It(O)}catch{}else try{O.setAttribute(m,"")}catch{}},To=function(m){let O=null,T=null;if(Xi)m="<remove></remove>"+m;else{const z=Go(m,/^[\r\n\t ]+/);T=z&&z[0]}nn==="application/xhtml+xml"&&Ie===Vt&&(m='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+m+"</body></html>");const H=E?E.createHTML(m):m;if(Ie===Vt)try{O=new f().parseFromString(H,nn)}catch{}if(!O||!O.documentElement){O=k.createDocument(Ie,"template",null);try{O.documentElement.innerHTML=Qi?_:H}catch{}}const W=O.body||O.documentElement;return m&&T&&W.insertBefore(i.createTextNode(T),W.childNodes[0]||null),Ie===Vt?R.call(O,oe?"html":"body")[0]:oe?O.documentElement:W},Ro=function(m){return w.call(m.ownerDocument||m,m,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},nr=function(m){return m instanceof v&&(typeof m.nodeName!="string"||typeof m.textContent!="string"||typeof m.removeChild!="function"||!(m.attributes instanceof d)||typeof m.removeAttribute!="function"||typeof m.setAttribute!="function"||typeof m.namespaceURI!="string"||typeof m.insertBefore!="function"||typeof m.hasChildNodes!="function")},Lo=function(m){return typeof l=="function"&&m instanceof l};function Ht(m,O,T){Gn(m,(H=>{H.call(n,O,T,Ne)}))}const ko=function(m){let O=null;if(Ht(C.beforeSanitizeElements,m,null),nr(m))return It(m),!0;const T=lt(m.nodeName);if(Ht(C.uponSanitizeElement,m,{tagName:T,allowedTags:$}),m.hasChildNodes()&&!Lo(m.firstElementChild)&&pt(/<[/\w!]/g,m.innerHTML)&&pt(/<[/\w!]/g,m.textContent)||m.nodeType===Md||Ki&&m.nodeType===Id&&pt(/<[/\w]/g,m.data))return It(m),!0;if(!$[T]||tn[T]){if(!tn[T]&&Oo(T)&&(nt.tagNameCheck instanceof RegExp&&pt(nt.tagNameCheck,T)||nt.tagNameCheck instanceof Function&&nt.tagNameCheck(T)))return!1;if(Yi&&!Me[T]){const H=S(m)||m.parentNode,W=x(m)||m.childNodes;if(W&&H)for(let z=W.length-1;z>=0;--z){const at=b(W[z],!0);at.__removalCount=(m.__removalCount||0)+1,H.insertBefore(at,g(m))}}return It(m),!0}return m instanceof c&&!(function(H){let W=S(H);W&&W.tagName||(W={namespaceURI:Ie,tagName:"template"});const z=ai(H.tagName),at=ai(W.tagName);return!!tr[H.namespaceURI]&&(H.namespaceURI===Vn?W.namespaceURI===Vt?z==="svg":W.namespaceURI===Un?z==="svg"&&(at==="annotation-xml"||Hn[at]):!!wo[z]:H.namespaceURI===Un?W.namespaceURI===Vt?z==="math":W.namespaceURI===Vn?z==="math"&&Wn[at]:!!Co[z]:H.namespaceURI===Vt?!(W.namespaceURI===Vn&&!Wn[at])&&!(W.namespaceURI===Un&&!Hn[at])&&!Co[z]&&(Uu[z]||!wo[z]):!(nn!=="application/xhtml+xml"||!tr[H.namespaceURI]))})(m)?(It(m),!0):T!=="noscript"&&T!=="noembed"&&T!=="noframes"||!pt(/<\/no(script|embed|frames)/i,m.innerHTML)?(Oe&&m.nodeType===Pd&&(O=m.textContent,Gn([M,F,K],(H=>{O=an(O,H," ")})),m.textContent!==O&&(on(n.removed,{element:m.cloneNode()}),m.textContent=O)),Ht(C.afterSanitizeElements,m,null),!1):(It(m),!0)},_o=function(m,O,T){if(bo&&(O==="id"||O==="name")&&(T in i||T in Hu))return!1;if(!(Gi&&!$i[O]&&pt(ut,O))){if(!(po&&pt(B,O))){if(!tt[O]||$i[O]){if(!(Oo(m)&&(nt.tagNameCheck instanceof RegExp&&pt(nt.tagNameCheck,m)||nt.tagNameCheck instanceof Function&&nt.tagNameCheck(m))&&(nt.attributeNameCheck instanceof RegExp&&pt(nt.attributeNameCheck,O)||nt.attributeNameCheck instanceof Function&&nt.attributeNameCheck(O))||O==="is"&&nt.allowCustomizedBuiltInElements&&(nt.tagNameCheck instanceof RegExp&&pt(nt.tagNameCheck,T)||nt.tagNameCheck instanceof Function&&nt.tagNameCheck(T))))return!1}else if(!Zi[O]){if(!pt(Y,an(T,V,""))){if((O!=="src"&&O!=="xlink:href"&&O!=="href"||m==="script"||yd(T,"data:")!==0||!xo[m])&&!(mo&&!pt(D,an(T,V,"")))){if(T)return!1}}}}}return!0},Oo=function(m){return m!=="annotation-xml"&&Go(m,X)},Do=function(m){Ht(C.beforeSanitizeAttributes,m,null);const{attributes:O}=m;if(!O||nr(m))return;const T={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:tt,forceKeepAttr:void 0};let H=O.length;for(;H--;){const W=O[H],{name:z,namespaceURI:at,value:Wt}=W,Nt=lt(z);let ft=z==="value"?Wt:xd(Wt);if(T.attrName=Nt,T.attrValue=ft,T.keepAttr=!0,T.forceKeepAttr=void 0,Ht(C.uponSanitizeAttribute,m,T),ft=T.attrValue,!vo||Nt!=="id"&&Nt!=="name"||(qn(z,m),ft="user-content-"+ft),Ki&&pt(/((--!?|])>)|<\/(style|title)/i,ft)){qn(z,m);continue}if(T.forceKeepAttr||(qn(z,m),!T.keepAttr))continue;if(!go&&pt(/\/>/i,ft)){qn(z,m);continue}Oe&&Gn([M,F,K],(Mo=>{ft=an(ft,Mo," ")}));const Po=lt(m.nodeName);if(_o(Po,Nt,ft)){if(E&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!at)switch(p.getAttributeType(Po,Nt)){case"TrustedHTML":ft=E.createHTML(ft);break;case"TrustedScriptURL":ft=E.createScriptURL(ft)}try{at?m.setAttributeNS(at,z,ft):m.setAttribute(z,ft),nr(m)?It(m):$o(n.removed)}catch{}}}Ht(C.afterSanitizeAttributes,m,null)},Wu=function m(O){let T=null;const H=Ro(O);for(Ht(C.beforeSanitizeShadowDOM,O,null);T=H.nextNode();)Ht(C.uponSanitizeShadowNode,T,null),ko(T),Do(T),T.content instanceof o&&m(T.content);Ht(C.afterSanitizeShadowDOM,O,null)};return n.sanitize=function(m){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=null,H=null,W=null,z=null;if(Qi=!m,Qi&&(m="<!-->"),typeof m!="string"&&!Lo(m)){if(typeof m.toString!="function")throw ln("toString is not a function");if(typeof(m=m.toString())!="string")throw ln("dirty is not a string, aborting")}if(!n.isSupported)return m;if(Ji||er(O),n.removed=[],typeof m=="string"&&(en=!1),en){if(m.nodeName){const Nt=lt(m.nodeName);if(!$[Nt]||tn[Nt])throw ln("root node is forbidden and cannot be sanitized in-place")}}else if(m instanceof l)T=To("<!---->"),H=T.ownerDocument.importNode(m,!0),H.nodeType===Dd&&H.nodeName==="BODY"||H.nodeName==="HTML"?T=H:T.appendChild(H);else{if(!De&&!Oe&&!oe&&m.indexOf("<")===-1)return E&&zn?E.createHTML(m):m;if(T=To(m),!T)return De?null:zn?_:""}T&&Xi&&It(T.firstChild);const at=Ro(en?m:T);for(;W=at.nextNode();)ko(W),Do(W),W.content instanceof o&&Wu(W.content);if(en)return m;if(De){if(jn)for(z=P.call(T.ownerDocument);T.firstChild;)z.appendChild(T.firstChild);else z=T;return(tt.shadowroot||tt.shadowrootmode)&&(z=L.call(r,z,!0)),z}let Wt=oe?T.outerHTML:T.innerHTML;return oe&&$["!doctype"]&&T.ownerDocument&&T.ownerDocument.doctype&&T.ownerDocument.doctype.name&&pt(vl,T.ownerDocument.doctype.name)&&(Wt="<!DOCTYPE "+T.ownerDocument.doctype.name+`>
`+Wt),Oe&&Gn([M,F,K],(Nt=>{Wt=an(Wt,Nt," ")})),E&&zn?E.createHTML(Wt):Wt},n.setConfig=function(){er(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),Ji=!0},n.clearConfig=function(){Ne=null,Ji=!1},n.isValidAttribute=function(m,O,T){Ne||er({});const H=lt(m),W=lt(O);return _o(H,W,T)},n.addHook=function(m,O){typeof O=="function"&&on(C[m],O)},n.removeHook=function(m,O){if(O!==void 0){const T=bd(C[m],O);return T===-1?void 0:vd(C[m],T,1)[0]}return $o(C[m])},n.removeHooks=function(m){C[m]=[]},n.removeAllHooks=function(){C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n})();bi.addHook("uponSanitizeAttribute",(function(e,t){/^data-trix-/.test(t.attrName)&&(t.forceKeepAttr=!0)}));const Bd="style href src width height language class".split(" "),jd="javascript:".split(" "),zd="script iframe form noscript".split(" ");class _i extends st{static setHTML(t,n,i){const r=new this(n,i).sanitize(),s=r.getHTML?r.getHTML():r.outerHTML;t.innerHTML=s}static sanitize(t,n){const i=new this(t,n);return i.sanitize(),i}constructor(t){let{allowedAttributes:n,forbiddenProtocols:i,forbiddenElements:r,purifyOptions:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=n||Bd,this.forbiddenProtocols=i||jd,this.forbiddenElements=r||zd,this.purifyOptions=s||{},this.body=Ud(t)}sanitize(){this.sanitizeElements(),this.normalizeListElementNesting();const t=Object.assign({},nl,this.purifyOptions);return bi.setConfig(t),this.body=bi.sanitize(this.body),this.body}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const t=pi(this.body),n=[];for(;t.nextNode();){const i=t.currentNode;switch(i.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(i)?n.push(i):this.sanitizeElement(i);break;case Node.COMMENT_NODE:n.push(i)}}return n.forEach((i=>ne(i))),this.body}sanitizeElement(t){return t.hasAttribute("href")&&this.forbiddenProtocols.includes(t.protocol)&&t.removeAttribute("href"),Array.from(t.attributes).forEach((n=>{let{name:i}=n;this.allowedAttributes.includes(i)||i.indexOf("data-trix")===0||t.removeAttribute(i)})),t}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach((t=>{const n=t.previousElementSibling;n&&mt(n)==="li"&&n.appendChild(t)})),this.body}elementIsRemovable(t){if(t?.nodeType===Node.ELEMENT_NODE)return this.elementIsForbidden(t)||this.elementIsntSerializable(t)}elementIsForbidden(t){return this.forbiddenElements.includes(mt(t))}elementIsntSerializable(t){return t.getAttribute("data-trix-serialize")==="false"&&!me(t)}}const Ud=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";e=e.replace(/<\/html[^>]*>[^]*$/i,"</html>");const t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=e,Array.from(t.head.querySelectorAll("style")).forEach((n=>{t.body.appendChild(n)})),t.body},{css:Jt}=On;class Bs extends Re{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let t;const n=t=j({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),i=this.getHref();return i&&(t=j({tagName:"a",editable:!1,attributes:{href:i,tabindex:-1}}),n.appendChild(t)),this.attachment.hasContent()?_i.setHTML(t,this.attachment.getContent()):this.createContentNodes().forEach((r=>{t.appendChild(r)})),t.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=j({tagName:"progress",attributes:{class:Jt.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),n.appendChild(this.progressElement)),[ta("left"),n,ta("right")]}createCaptionElement(){const t=j({tagName:"figcaption",className:Jt.attachmentCaption}),n=this.attachmentPiece.getCaption();if(n)t.classList.add("".concat(Jt.attachmentCaption,"--edited")),t.textContent=n;else{let i,r;const s=this.getCaptionConfig();if(s.name&&(i=this.attachment.getFilename()),s.size&&(r=this.attachment.getFormattedFilesize()),i){const o=j({tagName:"span",className:Jt.attachmentName,textContent:i});t.appendChild(o)}if(r){i&&t.appendChild(document.createTextNode(" "));const o=j({tagName:"span",className:Jt.attachmentSize,textContent:r});t.appendChild(o)}}return t}getClassName(){const t=[Jt.attachment,"".concat(Jt.attachment,"--").concat(this.attachment.getType())],n=this.attachment.getExtension();return n&&t.push("".concat(Jt.attachment,"--").concat(n)),t.join(" ")}getData(){const t={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:n}=this.attachmentPiece;return n.isEmpty()||(t.trixAttributes=JSON.stringify(n)),this.attachment.isPending()&&(t.trixSerialize=!1),t}getHref(){if(!Vd(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var t;const n=this.attachment.getType(),i=dl((t=ks[n])===null||t===void 0?void 0:t.caption);return n==="file"&&(i.name=!0),i}findProgressElement(){var t;return(t=this.findElement())===null||t===void 0?void 0:t.querySelector("progress")}attachmentDidChangeUploadProgress(){const t=this.attachment.getUploadProgress(),n=this.findProgressElement();n&&(n.value=t)}}const ta=e=>j({tagName:"span",textContent:ki,data:{trixCursorTarget:e,trixSerialize:!1}}),Vd=function(e,t){const n=j("div");return _i.setHTML(n,e||""),n.querySelector(t)};class yl extends Bs{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=j({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const t=super.createCaptionElement(...arguments);return t.textContent||t.setAttribute("data-trix-placeholder",I.captionPlaceholder),t}refresh(t){var n;if(t||(t=(n=this.findElement())===null||n===void 0?void 0:n.querySelector("img")),t)return this.updateAttributesForImage(t)}updateAttributesForImage(t){const n=this.attachment.getURL(),i=this.attachment.getPreviewURL();if(t.src=i||n,i===n)t.removeAttribute("data-trix-serialized-attributes");else{const a=JSON.stringify({src:n});t.setAttribute("data-trix-serialized-attributes",a)}const r=this.attachment.getWidth(),s=this.attachment.getHeight();r!=null&&(t.width=r),s!=null&&(t.height=s);const o=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/");t.dataset.trixStoreKey=o}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class xl extends Re{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let t=this.attachment?this.createAttachmentNodes():this.createStringNodes();const n=this.createElement();if(n){const i=(function(r){for(;(s=r)!==null&&s!==void 0&&s.firstElementChild;){var s;r=r.firstElementChild}return r})(n);Array.from(t).forEach((r=>{i.appendChild(r)})),t=[n]}return t}createAttachmentNodes(){const t=this.attachment.isPreviewable()?yl:Bs;return this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var t;if((t=this.textConfig)!==null&&t!==void 0&&t.plaintext)return[document.createTextNode(this.string)];{const n=[],i=this.string.split(`
`);for(let r=0;r<i.length;r++){const s=i[r];if(r>0){const o=j("br");n.push(o)}if(s.length){const o=document.createTextNode(this.preserveSpaces(s));n.push(o)}}return n}}createElement(){let t,n,i;const r={};for(n in this.attributes){i=this.attributes[n];const o=Kr(n);if(o){if(o.tagName){var s;const a=j(o.tagName);s?(s.appendChild(a),s=a):t=s=a}if(o.styleProperty&&(r[o.styleProperty]=i),o.style)for(n in o.style)i=o.style[n],r[n]=i}}if(Object.keys(r).length)for(n in t||(t=j("span")),r)i=r[n],t.style[n]=i;return t}createContainerElement(){for(const t in this.attributes){const n=this.attributes[t],i=Kr(t);if(i&&i.groupTagName){const r={};return r[t]=n,j(i.groupTagName,r)}}}preserveSpaces(t){return this.context.isLast&&(t=t.replace(/\ $/,Qt)),t=t.replace(/(\S)\ {3}(\S)/g,"$1 ".concat(Qt," $2")).replace(/\ {2}/g,"".concat(Qt," ")).replace(/\ {2}/g," ".concat(Qt)),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,Qt)),t}}class Al extends Re{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const t=[],n=Fs.groupObjects(this.getPieces()),i=n.length-1;for(let s=0;s<n.length;s++){const o=n[s],a={};s===0&&(a.isFirst=!0),s===i&&(a.isLast=!0),Hd(r)&&(a.followsWhitespace=!0);const l=this.findOrCreateCachedChildView(xl,o,{textConfig:this.textConfig,context:a});t.push(...Array.from(l.getNodes()||[]));var r=o}return t}getPieces(){return Array.from(this.text.getPieces()).filter((t=>!t.hasAttribute("blockBreak")))}}const Hd=e=>/\s$/.test(e?.toString()),{css:ea}=On;class Sl extends Re{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const t=[document.createComment("block")];if(this.block.isEmpty())t.push(j("br"));else{var n;const i=(n=rt(this.block.getLastAttribute()))===null||n===void 0?void 0:n.text,r=this.findOrCreateCachedChildView(Al,this.block.text,{textConfig:i});t.push(...Array.from(r.getNodes()||[])),this.shouldAddExtraNewlineElement()&&t.push(j("br"))}if(this.attributes.length)return t;{let i;const{tagName:r}=gt.default;this.block.isRTL()&&(i={dir:"rtl"});const s=j({tagName:r,attributes:i});return t.forEach((o=>s.appendChild(o))),[s]}}createContainerElement(t){const n={};let i;const r=this.attributes[t],{tagName:s,htmlAttributes:o=[]}=rt(r);if(t===0&&this.block.isRTL()&&Object.assign(n,{dir:"rtl"}),r==="attachmentGallery"){const a=this.block.getBlockBreakPosition();i="".concat(ea.attachmentGallery," ").concat(ea.attachmentGallery,"--").concat(a)}return Object.entries(this.block.htmlAttributes).forEach((a=>{let[l,c]=a;o.includes(l)&&(n[l]=c)})),j({tagName:s,className:i,attributes:n})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class Oi extends Re{static render(t){const n=j("div"),i=new this(t,{element:n});return i.render(),i.sync(),n}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new hd,this.setDocument(this.object)}setDocument(t){t.isEqualTo(this.document)||(this.document=this.object=t)}render(){if(this.childViews=[],this.shadowElement=j("div"),!this.document.isEmpty()){const t=Fs.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(t).forEach((n=>{const i=this.findOrCreateCachedChildView(Sl,n);Array.from(i.getNodes()).map((r=>this.shadowElement.appendChild(r)))}))}}isSynced(){return Wd(this.shadowElement,this.element)}sync(){const t=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()}didSync(){return this.elementStore.reset(na(this.element)),Ms((()=>this.garbageCollectCachedViews()))}createDocumentFragmentForSync(){const t=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach((n=>{t.appendChild(n.cloneNode(!0))})),Array.from(na(t)).forEach((n=>{const i=this.elementStore.remove(n);i&&n.parentNode.replaceChild(i,n)})),t}}const na=e=>e.querySelectorAll("[data-trix-store-key]"),Wd=(e,t)=>ia(e.innerHTML)===ia(t.innerHTML),ia=e=>e.replace(/&nbsp;/g," ");function bt(e,t,n){return(t=qd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qd(e){var t=(function(n,i){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var s=r.call(n,i);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)})(e,"string");return typeof t=="symbol"?t:String(t)}function G(e,t){return $d(e,El(e,t,"get"))}function js(e,t,n){return Gd(e,El(e,t,"set"),n),n}function El(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function $d(e,t){return t.get?t.get.call(e):t.value}function Gd(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function Jn(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function wl(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Sn(e,t,n){wl(e,t),t.set(e,n)}class Le extends Te{static registerType(t,n){n.type=t,this.types[t]=n}static fromJSON(t){const n=this.types[t.type];if(n)return n.fromJSON(t)}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=Ct.box(n)}copyWithAttributes(t){return new this.constructor(this.getValue(),t)}copyWithAdditionalAttributes(t){return this.copyWithAttributes(this.attributes.merge(t))}copyWithoutAttribute(t){return this.copyWithAttributes(this.attributes.remove(t))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(t){return this.attributes.get(t)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(t){return this.attributes.has(t)}hasSameStringValueAsPiece(t){return t&&this.toString()===t.toString()}hasSameAttributesAsPiece(t){return t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))}isBlockBreak(){return!1}isEqualTo(t){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(t){return this.getAttribute("href")===t.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(t){return!1}}bt(Le,"types",{});class Cl extends gi{constructor(t){super(...arguments),this.url=t}perform(t){const n=new Image;n.onload=()=>(n.width=this.width=n.naturalWidth,n.height=this.height=n.naturalHeight,t(!0,n)),n.onerror=()=>t(!1),n.src=this.url}}class qe extends Te{static attachmentForFile(t){const n=new this(this.attributesForFile(t));return n.setFile(t),n}static attributesForFile(t){return new Ct({filename:t.name,filesize:t.size,contentType:t.type})}static fromJSON(t){return new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.releaseFile=this.releaseFile.bind(this),this.attributes=Ct.box(t),this.didChangeAttributes()}getAttribute(t){return this.attributes.get(t)}hasAttribute(t){return this.attributes.has(t)}getAttributes(){return this.attributes.toObject()}setAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.attributes.merge(t);var i,r,s,o;if(!this.attributes.isEqualTo(n))return this.attributes=n,this.didChangeAttributes(),(i=this.previewDelegate)===null||i===void 0||(r=i.attachmentDidChangeAttributes)===null||r===void 0||r.call(i,this),(s=this.delegate)===null||s===void 0||(o=s.attachmentDidChangeAttributes)===null||o===void 0?void 0:o.call(s,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):qe.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const t=this.attributes.get("filesize");return typeof t=="number"?il.formatter(t):""}getExtension(){var t;return(t=this.getFilename().match(/\.(\w+)$/))===null||t===void 0?void 0:t[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(t){if(this.file=t,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(t){var n,i;if(this.uploadProgress!==t)return this.uploadProgress=t,(n=this.uploadProgressDelegate)===null||n===void 0||(i=n.attachmentDidChangeUploadProgress)===null||i===void 0?void 0:i.call(n,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(t){var n,i,r,s;if(t!==this.getPreviewURL())return this.previewURL=t,(n=this.previewDelegate)===null||n===void 0||(i=n.attachmentDidChangeAttributes)===null||i===void 0||i.call(n,this),(r=this.delegate)===null||r===void 0||(s=r.attachmentDidChangePreviewURL)===null||s===void 0?void 0:s.call(r,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(t,n){if(t&&t!==this.getPreviewURL())return this.preloadingURL=t,new Cl(t).then((i=>{let{width:r,height:s}=i;return this.getWidth()&&this.getHeight()||this.setAttributes({width:r,height:s}),this.preloadingURL=null,this.setPreviewURL(t),n?.()})).catch((()=>(this.preloadingURL=null,n?.())))}}bt(qe,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class ze extends Le{static fromJSON(t){return new this(qe.fromJSON(t.attachment),t.attributes)}constructor(t){super(...arguments),this.attachment=t,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(t){this.hasAttribute(t)&&(this.attachment.hasAttribute(t)||this.attachment.setAttributes(this.attributes.slice([t])),this.attributes=this.attributes.remove(t))}removeProhibitedAttributes(){const t=this.attributes.slice(ze.permittedAttributes);t.isEqualTo(this.attributes)||(this.attributes=t)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(t){var n;return super.isEqualTo(t)&&this.attachment.id===(t==null||(n=t.attachment)===null||n===void 0?void 0:n.id)}toString(){return"ï¿¼"}toJSON(){const t=super.toJSON(...arguments);return t.attachment=this.attachment,t}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}bt(ze,"permittedAttributes",["caption","presentation"]),Le.registerType("attachment",ze);class zs extends Le{static fromJSON(t){return new this(t.string,t.attributes)}constructor(t){super(...arguments),this.string=(n=>n.replace(/\r\n?/g,`
`))(t),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const t=super.toJSON(...arguments);return t.string=this.string,t}canBeConsolidatedWith(t){return t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)}consolidateWith(t){return new this.constructor(this.toString()+t.toString(),this.attributes)}splitAtOffset(t){let n,i;return t===0?(n=null,i=this):t===this.length?(n=this,i=null):(n=new this.constructor(this.string.slice(0,t),this.attributes),i=new this.constructor(this.string.slice(t),this.attributes)),[n,i]}toConsole(){let{string:t}=this;return t.length>15&&(t=t.slice(0,14)+"â€¦"),JSON.stringify(t.toString())}}Le.registerType("string",zs);class vi extends Te{static box(t){return t instanceof this?t:new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=t.slice(0),this.length=this.objects.length}indexOf(t){return this.objects.indexOf(t)}splice(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new this.constructor(Ps(this.objects,...n))}eachObject(t){return this.objects.map(((n,i)=>t(n,i)))}insertObjectAtIndex(t,n){return this.splice(n,0,t)}insertSplittableListAtIndex(t,n){return this.splice(n,0,...t.objects)}insertSplittableListAtPosition(t,n){const[i,r]=this.splitObjectAtPosition(n);return new this.constructor(i).insertSplittableListAtIndex(t,r)}editObjectAtIndex(t,n){return this.replaceObjectAtIndex(n(this.objects[t]),t)}replaceObjectAtIndex(t,n){return this.splice(n,1,t)}removeObjectAtIndex(t){return this.splice(t,1)}getObjectAtIndex(t){return this.objects[t]}getSplittableListInRange(t){const[n,i,r]=this.splitObjectsAtRange(t);return new this.constructor(n.slice(i,r+1))}selectSplittableList(t){const n=this.objects.filter((i=>t(i)));return new this.constructor(n)}removeObjectsInRange(t){const[n,i,r]=this.splitObjectsAtRange(t);return new this.constructor(n).splice(i,r-i+1)}transformObjectsInRange(t,n){const[i,r,s]=this.splitObjectsAtRange(t),o=i.map(((a,l)=>r<=l&&l<=s?n(a):a));return new this.constructor(o)}splitObjectsAtRange(t){let n,[i,r,s]=this.splitObjectAtPosition(Jd(t));return[i,n]=new this.constructor(i).splitObjectAtPosition(Xd(t)+s),[i,r,n-1]}getObjectAtPosition(t){const{index:n}=this.findIndexAndOffsetAtPosition(t);return this.objects[n]}splitObjectAtPosition(t){let n,i;const{index:r,offset:s}=this.findIndexAndOffsetAtPosition(t),o=this.objects.slice(0);if(r!=null)if(s===0)n=r,i=0;else{const a=this.getObjectAtIndex(r),[l,c]=a.splitAtOffset(s);o.splice(r,1,l,c),n=r+1,i=l.getLength()-s}else n=o.length,i=0;return[o,n,i]}consolidate(){const t=[];let n=this.objects[0];return this.objects.slice(1).forEach((i=>{var r,s;(r=(s=n).canBeConsolidatedWith)!==null&&r!==void 0&&r.call(s,i)?n=n.consolidateWith(i):(t.push(n),n=i)})),n&&t.push(n),new this.constructor(t)}consolidateFromIndexToIndex(t,n){const i=this.objects.slice(0).slice(t,n+1),r=new this.constructor(i).consolidate().toArray();return this.splice(t,i.length,...r)}findIndexAndOffsetAtPosition(t){let n,i=0;for(n=0;n<this.objects.length;n++){const r=i+this.objects[n].getLength();if(i<=t&&t<r)return{index:n,offset:t-i};i=r}return{index:null,offset:null}}findPositionAtIndexAndOffset(t,n){let i=0;for(let r=0;r<this.objects.length;r++){const s=this.objects[r];if(r<t)i+=s.getLength();else if(r===t){i+=n;break}}return i}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach((t=>this.endPosition+=t.getLength()))),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(t){return super.isEqualTo(...arguments)||Kd(this.objects,t?.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map((t=>t.inspect())).join(", "),"]")}}}const Kd=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(e.length!==t.length)return!1;let n=!0;for(let i=0;i<e.length;i++){const r=e[i];n&&!r.isEqualTo(t[i])&&(n=!1)}return n},Jd=e=>e[0],Xd=e=>e[1];class Ot extends Te{static textForAttachmentWithAttributes(t,n){return new this([new ze(t,n)])}static textForStringWithAttributes(t,n){return new this([new zs(t,n)])}static fromJSON(t){return new this(Array.from(t).map((n=>Le.fromJSON(n))))}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const n=t.filter((i=>!i.isEmpty()));this.pieceList=new vi(n)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(t){return new this.constructor(t.consolidate().toArray())}copyUsingObjectMap(t){const n=this.getPieces().map((i=>t.find(i)||i));return new this.constructor(n)}appendText(t){return this.insertTextAtPosition(t,this.getLength())}insertTextAtPosition(t,n){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,n))}removeTextAtRange(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))}replaceTextAtRange(t,n){return this.removeTextAtRange(n).insertTextAtPosition(t,n[0])}moveTextFromRangeToPosition(t,n){if(t[0]<=n&&n<=t[1])return;const i=this.getTextAtRange(t),r=i.getLength();return t[0]<n&&(n-=r),this.removeTextAtRange(t).insertTextAtPosition(i,n)}addAttributeAtRange(t,n,i){const r={};return r[t]=n,this.addAttributesAtRange(r,i)}addAttributesAtRange(t,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,(i=>i.copyWithAdditionalAttributes(t))))}removeAttributeAtRange(t,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,(i=>i.copyWithoutAttribute(t))))}setAttributesAtRange(t,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,(i=>i.copyWithAttributes(t))))}getAttributesAtPosition(t){var n;return((n=this.pieceList.getObjectAtPosition(t))===null||n===void 0?void 0:n.getAttributes())||{}}getCommonAttributes(){const t=Array.from(this.pieceList.toArray()).map((n=>n.getAttributes()));return Ct.fromCommonAttributesOfObjects(t).toObject()}getCommonAttributesAtRange(t){return this.getTextAtRange(t).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(t,n){let i,r=i=n;const s=this.getLength();for(;r>0&&this.getCommonAttributesAtRange([r-1,i])[t];)r--;for(;i<s&&this.getCommonAttributesAtRange([n,i+1])[t];)i++;return[r,i]}getTextAtRange(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))}getStringAtRange(t){return this.pieceList.getSplittableListInRange(t).toString()}getStringAtPosition(t){return this.getStringAtRange([t,t+1])}startsWithString(t){return this.getStringAtRange([0,t.length])===t}endsWithString(t){const n=this.getLength();return this.getStringAtRange([n-t.length,n])===t}getAttachmentPieces(){return this.pieceList.toArray().filter((t=>!!t.attachment))}getAttachments(){return this.getAttachmentPieces().map((t=>t.attachment))}getAttachmentAndPositionById(t){let n=0;for(const r of this.pieceList.toArray()){var i;if(((i=r.attachment)===null||i===void 0?void 0:i.id)===t)return{attachment:r.attachment,position:n};n+=r.length}return{attachment:null,position:null}}getAttachmentById(t){const{attachment:n}=this.getAttachmentAndPositionById(t);return n}getRangeOfAttachment(t){const n=this.getAttachmentAndPositionById(t.id),i=n.position;if(t=n.attachment)return[i,i+1]}updateAttributesForAttachment(t,n){const i=this.getRangeOfAttachment(n);return i?this.addAttributesAtRange(t,i):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(t){var n;return super.isEqualTo(t)||(t==null||(n=t.pieceList)===null||n===void 0?void 0:n.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(t){return this.pieceList.eachObject(t)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(t){return this.pieceList.getObjectAtPosition(t)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const t=this.pieceList.selectSplittableList((n=>n.isSerializable()));return this.copyWithPieceList(t)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map((t=>JSON.parse(t.toConsole()))))}getDirection(){return nd(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class jt extends Te{static fromJSON(t){return new this(Ot.fromJSON(t.text),t.attributes,t.htmlAttributes)}constructor(t,n,i){super(...arguments),this.text=Yd(t||new Ot),this.attributes=n||[],this.htmlAttributes=i||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(t){return!!super.isEqualTo(t)||this.text.isEqualTo(t?.text)&&Se(this.attributes,t?.attributes)&&We(this.htmlAttributes,t?.htmlAttributes)}copyWithText(t){return new jt(t,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(t){return new jt(this.text,t,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(t){const n=t.find(this.text);return n?this.copyWithText(n):this.copyWithText(this.text.copyUsingObjectMap(t))}addAttribute(t){const n=this.attributes.concat(ra(t));return this.copyWithAttributes(n)}addHTMLAttribute(t,n){const i=Object.assign({},this.htmlAttributes,{[t]:n});return new jt(this.text,this.attributes,i)}removeAttribute(t){const{listAttribute:n}=rt(t),i=oa(oa(this.attributes,t),n);return this.copyWithAttributes(i)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return sa(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(t){return this.attributes[t-1]}hasAttribute(t){return this.attributes.includes(t)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return sa(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter((t=>rt(t).nestable))}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const t=this.getLastNestableAttribute();return t?this.removeAttribute(t):this}increaseNestingLevel(){const t=this.getLastNestableAttribute();if(t){const n=this.attributes.lastIndexOf(t),i=Ps(this.attributes,n+1,0,...ra(t));return this.copyWithAttributes(i)}return this}getListItemAttributes(){return this.attributes.filter((t=>rt(t).listAttribute))}isListItem(){var t;return(t=rt(this.getLastAttribute()))===null||t===void 0?void 0:t.listAttribute}isTerminalBlock(){var t;return(t=rt(this.getLastAttribute()))===null||t===void 0?void 0:t.terminal}breaksOnReturn(){var t;return(t=rt(this.getLastAttribute()))===null||t===void 0?void 0:t.breakOnReturn}findLineBreakInDirectionFromPosition(t,n){const i=this.toString();let r;switch(t){case"forward":r=i.indexOf(`
`,n);break;case"backward":r=i.slice(0,n).lastIndexOf(`
`)}if(r!==-1)return r}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(t){return!this.hasAttributes()&&!t.hasAttributes()&&this.getDirection()===t.getDirection()}consolidateWith(t){const n=Ot.textForStringWithAttributes(`
`),i=this.getTextWithoutBlockBreak().appendText(n);return this.copyWithText(i.appendText(t.text))}splitAtOffset(t){let n,i;return t===0?(n=null,i=this):t===this.getLength()?(n=this,i=null):(n=this.copyWithText(this.text.getTextAtRange([0,t])),i=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[n,i]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return Tl(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(t){return this.attributes[t]}canBeGroupedWith(t,n){const i=t.getAttributes(),r=i[n],s=this.attributes[n];return s===r&&!(rt(s).group===!1&&!(()=>{if(!$n){$n=[];for(const o in gt){const{listAttribute:a}=gt[o];a!=null&&$n.push(a)}}return $n})().includes(i[n+1]))&&(this.getDirection()===t.getDirection()||t.isEmpty())}}const Yd=function(e){return e=Zd(e),e=th(e)},Zd=function(e){let t=!1;const n=e.getPieces();let i=n.slice(0,n.length-1);const r=n[n.length-1];return r?(i=i.map((s=>s.isBlockBreak()?(t=!0,eh(s)):s)),t?new Ot([...i,r]):e):e},Qd=Ot.textForStringWithAttributes(`
`,{blockBreak:!0}),th=function(e){return Tl(e)?e:e.appendText(Qd)},Tl=function(e){const t=e.getLength();return t===0?!1:e.getTextAtRange([t-1,t]).isBlockBreak()},eh=e=>e.copyWithoutAttribute("blockBreak"),ra=function(e){const{listAttribute:t}=rt(e);return t?[t,e]:[e]},sa=e=>e.slice(-1)[0],oa=function(e,t){const n=e.lastIndexOf(t);return n===-1?e:Ps(e,n,1)};class Rt extends Te{static fromJSON(t){return new this(Array.from(t).map((n=>jt.fromJSON(n))))}static fromString(t,n){const i=Ot.textForStringWithAttributes(t,n);return new this([new jt(i)])}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),t.length===0&&(t=[new jt]),this.blockList=vi.box(t)}isEmpty(){const t=this.getBlockAtIndex(0);return this.blockList.length===1&&t.isEmpty()&&!t.hasAttributes()}copy(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(t)}copyUsingObjectsFromDocument(t){const n=new dd(t.getObjects());return this.copyUsingObjectMap(n)}copyUsingObjectMap(t){const n=this.getBlocks().map((i=>t.find(i)||i.copyUsingObjectMap(t)));return new this.constructor(n)}copyWithBaseBlockAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=this.getBlocks().map((i=>{const r=t.concat(i.getAttributes());return i.copyWithAttributes(r)}));return new this.constructor(n)}replaceBlock(t,n){const i=this.blockList.indexOf(t);return i===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(n,i))}insertDocumentAtRange(t,n){const{blockList:i}=t;n=q(n);let[r]=n;const{index:s,offset:o}=this.locationFromPosition(r);let a=this;const l=this.getBlockAtPosition(r);return Gt(n)&&l.isEmpty()&&!l.hasAttributes()?a=new this.constructor(a.blockList.removeObjectAtIndex(s)):l.getBlockBreakPosition()===o&&r++,a=a.removeTextAtRange(n),new this.constructor(a.blockList.insertSplittableListAtPosition(i,r))}mergeDocumentAtRange(t,n){let i,r;n=q(n);const[s]=n,o=this.locationFromPosition(s),a=this.getBlockAtIndex(o.index).getAttributes(),l=t.getBaseBlockAttributes(),c=a.slice(-l.length);if(Se(l,c)){const v=a.slice(0,-l.length);i=t.copyWithBaseBlockAttributes(v)}else i=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(a);const u=i.getBlockCount(),d=i.getBlockAtIndex(0);if(Se(a,d.getAttributes())){const v=d.getTextWithoutBlockBreak();if(r=this.insertTextAtRange(v,n),u>1){i=new this.constructor(i.getBlocks().slice(1));const f=s+v.getLength();r=r.insertDocumentAtRange(i,f)}}else r=this.insertDocumentAtRange(i,n);return r}insertTextAtRange(t,n){n=q(n);const[i]=n,{index:r,offset:s}=this.locationFromPosition(i),o=this.removeTextAtRange(n);return new this.constructor(o.blockList.editObjectAtIndex(r,(a=>a.copyWithText(a.text.insertTextAtPosition(t,s)))))}removeTextAtRange(t){let n;t=q(t);const[i,r]=t;if(Gt(t))return this;const[s,o]=Array.from(this.locationRangeFromRange(t)),a=s.index,l=s.offset,c=this.getBlockAtIndex(a),u=o.index,d=o.offset,v=this.getBlockAtIndex(u);if(r-i==1&&c.getBlockBreakPosition()===l&&v.getBlockBreakPosition()!==d&&v.text.getStringAtPosition(d)===`
`)n=this.blockList.editObjectAtIndex(u,(f=>f.copyWithText(f.text.removeTextAtRange([d,d+1]))));else{let f;const p=c.text.getTextAtRange([0,l]),y=v.text.getTextAtRange([d,v.getLength()]),b=p.appendText(y);f=a!==u&&l===0&&c.getAttributeLevel()>=v.getAttributeLevel()?v.copyWithText(b):c.copyWithText(b);const h=u+1-a;n=this.blockList.splice(a,h,f)}return new this.constructor(n)}moveTextFromRangeToPosition(t,n){let i;t=q(t);const[r,s]=t;if(r<=n&&n<=s)return this;let o=this.getDocumentAtRange(t),a=this.removeTextAtRange(t);const l=r<n;l&&(n-=o.getLength());const[c,...u]=o.getBlocks();return u.length===0?(i=c.getTextWithoutBlockBreak(),l&&(n+=1)):i=c.text,a=a.insertTextAtRange(i,n),u.length===0?a:(o=new this.constructor(u),n+=i.getLength(),a.insertDocumentAtRange(o,n))}addAttributeAtRange(t,n,i){let{blockList:r}=this;return this.eachBlockAtRange(i,((s,o,a)=>r=r.editObjectAtIndex(a,(function(){return rt(t)?s.addAttribute(t,n):o[0]===o[1]?s:s.copyWithText(s.text.addAttributeAtRange(t,n,o))})))),new this.constructor(r)}addAttribute(t,n){let{blockList:i}=this;return this.eachBlock(((r,s)=>i=i.editObjectAtIndex(s,(()=>r.addAttribute(t,n))))),new this.constructor(i)}removeAttributeAtRange(t,n){let{blockList:i}=this;return this.eachBlockAtRange(n,(function(r,s,o){rt(t)?i=i.editObjectAtIndex(o,(()=>r.removeAttribute(t))):s[0]!==s[1]&&(i=i.editObjectAtIndex(o,(()=>r.copyWithText(r.text.removeAttributeAtRange(t,s)))))})),new this.constructor(i)}updateAttributesForAttachment(t,n){const i=this.getRangeOfAttachment(n),[r]=Array.from(i),{index:s}=this.locationFromPosition(r),o=this.getTextAtIndex(s);return new this.constructor(this.blockList.editObjectAtIndex(s,(a=>a.copyWithText(o.updateAttributesForAttachment(t,n)))))}removeAttributeForAttachment(t,n){const i=this.getRangeOfAttachment(n);return this.removeAttributeAtRange(t,i)}setHTMLAttributeAtPosition(t,n,i){const r=this.getBlockAtPosition(t),s=r.addHTMLAttribute(n,i);return this.replaceBlock(r,s)}insertBlockBreakAtRange(t){let n;t=q(t);const[i]=t,{offset:r}=this.locationFromPosition(i),s=this.removeTextAtRange(t);return r===0&&(n=[new jt]),new this.constructor(s.blockList.insertSplittableListAtPosition(new vi(n),i))}applyBlockAttributeAtRange(t,n,i){const r=this.expandRangeToLineBreaksAndSplitBlocks(i);let s=r.document;i=r.range;const o=rt(t);if(o.listAttribute){s=s.removeLastListAttributeAtRange(i,{exceptAttributeName:t});const a=s.convertLineBreaksToBlockBreaksInRange(i);s=a.document,i=a.range}else s=o.exclusive?s.removeBlockAttributesAtRange(i):o.terminal?s.removeLastTerminalAttributeAtRange(i):s.consolidateBlocksAtRange(i);return s.addAttributeAtRange(t,n,i)}removeLastListAttributeAtRange(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:i}=this;return this.eachBlockAtRange(t,(function(r,s,o){const a=r.getLastAttribute();a&&rt(a).listAttribute&&a!==n.exceptAttributeName&&(i=i.editObjectAtIndex(o,(()=>r.removeAttribute(a))))})),new this.constructor(i)}removeLastTerminalAttributeAtRange(t){let{blockList:n}=this;return this.eachBlockAtRange(t,(function(i,r,s){const o=i.getLastAttribute();o&&rt(o).terminal&&(n=n.editObjectAtIndex(s,(()=>i.removeAttribute(o))))})),new this.constructor(n)}removeBlockAttributesAtRange(t){let{blockList:n}=this;return this.eachBlockAtRange(t,(function(i,r,s){i.hasAttributes()&&(n=n.editObjectAtIndex(s,(()=>i.copyWithoutAttributes())))})),new this.constructor(n)}expandRangeToLineBreaksAndSplitBlocks(t){let n;t=q(t);let[i,r]=t;const s=this.locationFromPosition(i),o=this.locationFromPosition(r);let a=this;const l=a.getBlockAtIndex(s.index);if(s.offset=l.findLineBreakInDirectionFromPosition("backward",s.offset),s.offset!=null&&(n=a.positionFromLocation(s),a=a.insertBlockBreakAtRange([n,n+1]),o.index+=1,o.offset-=a.getBlockAtIndex(s.index).getLength(),s.index+=1),s.offset=0,o.offset===0&&o.index>s.index)o.index-=1,o.offset=a.getBlockAtIndex(o.index).getBlockBreakPosition();else{const c=a.getBlockAtIndex(o.index);c.text.getStringAtRange([o.offset-1,o.offset])===`
`?o.offset-=1:o.offset=c.findLineBreakInDirectionFromPosition("forward",o.offset),o.offset!==c.getBlockBreakPosition()&&(n=a.positionFromLocation(o),a=a.insertBlockBreakAtRange([n,n+1]))}return i=a.positionFromLocation(s),r=a.positionFromLocation(o),{document:a,range:t=q([i,r])}}convertLineBreaksToBlockBreaksInRange(t){t=q(t);let[n]=t;const i=this.getStringAtRange(t).slice(0,-1);let r=this;return i.replace(/.*?\n/g,(function(s){n+=s.length,r=r.insertBlockBreakAtRange([n-1,n])})),{document:r,range:t}}consolidateBlocksAtRange(t){t=q(t);const[n,i]=t,r=this.locationFromPosition(n).index,s=this.locationFromPosition(i).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(r,s))}getDocumentAtRange(t){t=q(t);const n=this.blockList.getSplittableListInRange(t).toArray();return new this.constructor(n)}getStringAtRange(t){let n;const i=t=q(t);return i[i.length-1]!==this.getLength()&&(n=-1),this.getDocumentAtRange(t).toString().slice(0,n)}getBlockAtIndex(t){return this.blockList.getObjectAtIndex(t)}getBlockAtPosition(t){const{index:n}=this.locationFromPosition(t);return this.getBlockAtIndex(n)}getTextAtIndex(t){var n;return(n=this.getBlockAtIndex(t))===null||n===void 0?void 0:n.text}getTextAtPosition(t){const{index:n}=this.locationFromPosition(t);return this.getTextAtIndex(n)}getPieceAtPosition(t){const{index:n,offset:i}=this.locationFromPosition(t);return this.getTextAtIndex(n).getPieceAtPosition(i)}getCharacterAtPosition(t){const{index:n,offset:i}=this.locationFromPosition(t);return this.getTextAtIndex(n).getStringAtRange([i,i+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(t){return this.blockList.eachObject(t)}eachBlockAtRange(t,n){let i,r;t=q(t);const[s,o]=t,a=this.locationFromPosition(s),l=this.locationFromPosition(o);if(a.index===l.index)return i=this.getBlockAtIndex(a.index),r=[a.offset,l.offset],n(i,r,a.index);for(let c=a.index;c<=l.index;c++)if(i=this.getBlockAtIndex(c),i){switch(c){case a.index:r=[a.offset,i.text.getLength()];break;case l.index:r=[0,l.offset];break;default:r=[0,i.text.getLength()]}n(i,r,c)}}getCommonAttributesAtRange(t){t=q(t);const[n]=t;if(Gt(t))return this.getCommonAttributesAtPosition(n);{const i=[],r=[];return this.eachBlockAtRange(t,(function(s,o){if(o[0]!==o[1])return i.push(s.text.getCommonAttributesAtRange(o)),r.push(aa(s))})),Ct.fromCommonAttributesOfObjects(i).merge(Ct.fromCommonAttributesOfObjects(r)).toObject()}}getCommonAttributesAtPosition(t){let n,i;const{index:r,offset:s}=this.locationFromPosition(t),o=this.getBlockAtIndex(r);if(!o)return{};const a=aa(o),l=o.text.getAttributesAtPosition(s),c=o.text.getAttributesAtPosition(s-1),u=Object.keys(Ae).filter((d=>Ae[d].inheritable));for(n in c)i=c[n],(i===l[n]||u.includes(n))&&(a[n]=i);return a}getRangeOfCommonAttributeAtPosition(t,n){const{index:i,offset:r}=this.locationFromPosition(n),s=this.getTextAtIndex(i),[o,a]=Array.from(s.getExpandedRangeForAttributeAtOffset(t,r)),l=this.positionFromLocation({index:i,offset:o}),c=this.positionFromLocation({index:i,offset:a});return q([l,c])}getBaseBlockAttributes(){let t=this.getBlockAtIndex(0).getAttributes();for(let n=1;n<this.getBlockCount();n++){const i=this.getBlockAtIndex(n).getAttributes(),r=Math.min(t.length,i.length);t=(()=>{const s=[];for(let o=0;o<r&&i[o]===t[o];o++)s.push(i[o]);return s})()}return t}getAttachmentById(t){for(const n of this.getAttachments())if(n.id===t)return n}getAttachmentPieces(){let t=[];return this.blockList.eachObject((n=>{let{text:i}=n;return t=t.concat(i.getAttachmentPieces())})),t}getAttachments(){return this.getAttachmentPieces().map((t=>t.attachment))}getRangeOfAttachment(t){let n=0;const i=this.blockList.toArray();for(let r=0;r<i.length;r++){const{text:s}=i[r],o=s.getRangeOfAttachment(t);if(o)return q([n+o[0],n+o[1]]);n+=s.getLength()}}getLocationRangeOfAttachment(t){const n=this.getRangeOfAttachment(t);return this.locationRangeFromRange(n)}getAttachmentPieceForAttachment(t){for(const n of this.getAttachmentPieces())if(n.attachment===t)return n}findRangesForBlockAttribute(t){let n=0;const i=[];return this.getBlocks().forEach((r=>{const s=r.getLength();r.hasAttribute(t)&&i.push([n,n+s]),n+=s})),i}findRangesForTextAttribute(t){let{withValue:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=0,r=[];const s=[];return this.getPieces().forEach((o=>{const a=o.getLength();(function(l){return n?l.getAttribute(t)===n:l.hasAttribute(t)})(o)&&(r[1]===i?r[1]=i+a:s.push(r=[i,i+a])),i+=a})),s}locationFromPosition(t){const n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t));if(n.index!=null)return n;{const i=this.getBlocks();return{index:i.length-1,offset:i[i.length-1].getLength()}}}positionFromLocation(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)}locationRangeFromPosition(t){return q(this.locationFromPosition(t))}locationRangeFromRange(t){if(!(t=q(t)))return;const[n,i]=Array.from(t),r=this.locationFromPosition(n),s=this.locationFromPosition(i);return q([r,s])}rangeFromLocationRange(t){let n;t=q(t);const i=this.positionFromLocation(t[0]);return Gt(t)||(n=this.positionFromLocation(t[1])),q([i,n])}isEqualTo(t){return this.blockList.isEqualTo(t?.blockList)}getTexts(){return this.getBlocks().map((t=>t.text))}getPieces(){const t=[];return Array.from(this.getTexts()).forEach((n=>{t.push(...Array.from(n.getPieces()||[]))})),t}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const t=[];return this.blockList.eachObject((n=>t.push(n.copyWithText(n.text.toSerializableText())))),new this.constructor(t)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map((t=>JSON.parse(t.text.toConsole()))))}}const aa=function(e){const t={},n=e.getLastAttribute();return n&&(t[n]=!0),t},vr=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{string:e=gn(e),attributes:t,type:"string"}},la=(e,t)=>{try{return JSON.parse(e.getAttribute("data-trix-".concat(t)))}catch{return{}}};class Ln extends st{static parse(t,n){const i=new this(t,n);return i.parse(),i}constructor(t){let{referenceElement:n,purifyOptions:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=t,this.referenceElement=n,this.purifyOptions=i,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return Rt.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer(),_i.setHTML(this.containerElement,this.html,{purifyOptions:this.purifyOptions});const t=pi(this.containerElement,{usingFilter:ih});for(;t.nextNode();)this.processNode(t.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=j({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return ne(this.containerElement)}processNode(t){switch(t.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(t))return this.appendBlockForTextNode(t),this.processTextNode(t);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}}appendBlockForTextNode(t){const n=t.parentNode;if(n===this.currentBlockElement&&this.isBlockElement(t.previousSibling))return this.appendStringWithAttributes(`
`);if(n===this.containerElement||this.isBlockElement(n)){var i;const r=this.getBlockAttributes(n),s=this.getBlockHTMLAttributes(n);Se(r,(i=this.currentBlock)===null||i===void 0?void 0:i.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(r,n,s),this.currentBlockElement=n)}}appendBlockForElement(t){const n=this.isBlockElement(t),i=de(this.currentBlockElement,t);if(n&&!this.isBlockElement(t.firstChild)){if(!this.isInsignificantTextNode(t.firstChild)||!this.isBlockElement(t.firstElementChild)){const r=this.getBlockAttributes(t),s=this.getBlockHTMLAttributes(t);if(t.firstChild){if(i&&Se(r,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(r,t,s),this.currentBlockElement=t}}}else if(this.currentBlockElement&&!i&&!n){const r=this.findParentBlockElement(t);if(r)return this.appendBlockForElement(r);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(t){let{parentElement:n}=t;for(;n&&n!==this.containerElement;){if(this.isBlockElement(n)&&this.blockElements.includes(n))return n;n=n.parentElement}return null}processTextNode(t){let n=t.data;var i;return ca(t.parentNode)||(n=Ns(n),Rl((i=t.previousSibling)===null||i===void 0?void 0:i.textContent)&&(n=rh(n))),this.appendStringWithAttributes(n,this.getTextAttributes(t.parentNode))}processElement(t){let n;if(me(t)){if(n=la(t,"attachment"),Object.keys(n).length){const i=this.getTextAttributes(t);this.appendAttachmentWithAttributes(n,i),t.innerHTML=""}return this.processedElements.push(t)}switch(mt(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(t)),this.processedElements.push(t);case"img":n={url:t.getAttribute("src"),contentType:"image"};const i=(r=>{const s=r.getAttribute("width"),o=r.getAttribute("height"),a={};return s&&(a.width=parseInt(s,10)),o&&(a.height=parseInt(o,10)),a})(t);for(const r in i){const s=i[r];n[r]=s}return this.appendAttachmentWithAttributes(n,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(si.tableRowSeparator);break;case"td":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(si.tableCellSeparator)}}appendBlockForAttributesWithElement(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.blockElements.push(n);const r=(function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},htmlAttributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}}})(t,i);return this.blocks.push(r),r}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(t,n){return this.appendPiece(vr(t,n))}appendAttachmentWithAttributes(t,n){return this.appendPiece((function(i){return{attachment:i,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}})(t,n))}appendPiece(t){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)}appendStringToTextAtIndex(t,n){const{text:i}=this.blocks[n],r=i[i.length-1];if(r?.type!=="string")return i.push(vr(t));r.string+=t}prependStringToTextAtIndex(t,n){const{text:i}=this.blocks[n],r=i[0];if(r?.type!=="string")return i.unshift(vr(t));r.string=t+r.string}getTextAttributes(t){let n;const i={};for(const r in Ae){const s=Ae[r];if(s.tagName&&ee(t,{matchingSelector:s.tagName,untilNode:this.containerElement}))i[r]=!0;else if(s.parser){if(n=s.parser(t),n){let o=!1;for(const a of this.findBlockElementAncestors(t))if(s.parser(a)===n){o=!0;break}o||(i[r]=n)}}else s.styleProperty&&(n=t.style[s.styleProperty],n&&(i[r]=n))}if(me(t)){const r=la(t,"attributes");for(const s in r)n=r[s],i[s]=n}return i}getBlockAttributes(t){const n=[];for(;t&&t!==this.containerElement;){for(const r in gt){const s=gt[r];var i;s.parse!==!1&&mt(t)===s.tagName&&((i=s.test)!==null&&i!==void 0&&i.call(s,t)||!s.test)&&(n.push(r),s.listAttribute&&n.push(s.listAttribute))}t=t.parentNode}return n.reverse()}getBlockHTMLAttributes(t){const n={},i=Object.values(gt).find((r=>r.tagName===mt(t)));return(i?.htmlAttributes||[]).forEach((r=>{t.hasAttribute(r)&&(n[r]=t.getAttribute(r))})),n}findBlockElementAncestors(t){const n=[];for(;t&&t!==this.containerElement;){const i=mt(t);yn().includes(i)&&n.push(t),t=t.parentNode}return n}isBlockElement(t){if(t?.nodeType===Node.ELEMENT_NODE&&!me(t)&&!ee(t,{matchingSelector:"td",untilNode:this.containerElement}))return yn().includes(mt(t))||window.getComputedStyle(t).display==="block"}isInsignificantTextNode(t){if(t?.nodeType!==Node.TEXT_NODE||!sh(t.data))return;const{parentNode:n,previousSibling:i,nextSibling:r}=t;return nh(n.previousSibling)&&!this.isBlockElement(n.previousSibling)||ca(n)?void 0:!i||this.isBlockElement(i)||!r||this.isBlockElement(r)}isExtraBR(t){return mt(t)==="br"&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t}needsTableSeparator(t){if(si.removeBlankTableCells){var n;const i=(n=t.previousSibling)===null||n===void 0?void 0:n.textContent;return i&&/\S/.test(i)}return t.previousSibling}translateBlockElementMarginsToNewlines(){const t=this.getMarginOfDefaultBlockElement();for(let n=0;n<this.blocks.length;n++){const i=this.getMarginOfBlockElementAtIndex(n);i&&(i.top>2*t.top&&this.prependStringToTextAtIndex(`
`,n),i.bottom>2*t.bottom&&this.appendStringToTextAtIndex(`
`,n))}}getMarginOfBlockElementAtIndex(t){const n=this.blockElements[t];if(n&&n.textContent&&!yn().includes(mt(n))&&!this.processedElements.includes(n))return ua(n)}getMarginOfDefaultBlockElement(){const t=j(gt.default.tagName);return this.containerElement.appendChild(t),ua(t)}}const ca=function(e){const{whiteSpace:t}=window.getComputedStyle(e);return["pre","pre-wrap","pre-line"].includes(t)},nh=e=>e&&!Rl(e.textContent),ua=function(e){const t=window.getComputedStyle(e);if(t.display==="block")return{top:parseInt(t.marginTop),bottom:parseInt(t.marginBottom)}},ih=function(e){return mt(e)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},rh=e=>e.replace(new RegExp("^".concat(Is.source,"+")),""),sh=e=>new RegExp("^".concat(Is.source,"*$")).test(e),Rl=e=>/\s$/.test(e),oh=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],Zr="data-trix-serialized-attributes",ah="[".concat(Zr,"]"),lh=new RegExp("<!--block-->","g"),ch={"application/json":function(e){let t;if(e instanceof Rt)t=e;else{if(!(e instanceof HTMLElement))throw new Error("unserializable object");t=Ln.parse(e.innerHTML).getDocument()}return t.toSerializableDocument().toJSONString()},"text/html":function(e){let t;if(e instanceof Rt)t=Oi.render(e);else{if(!(e instanceof HTMLElement))throw new Error("unserializable object");t=e.cloneNode(!0)}return Array.from(t.querySelectorAll("[data-trix-serialize=false]")).forEach((n=>{ne(n)})),oh.forEach((n=>{Array.from(t.querySelectorAll("[".concat(n,"]"))).forEach((i=>{i.removeAttribute(n)}))})),Array.from(t.querySelectorAll(ah)).forEach((n=>{try{const i=JSON.parse(n.getAttribute(Zr));n.removeAttribute(Zr);for(const r in i){const s=i[r];n.setAttribute(r,s)}}catch{}})),t.innerHTML.replace(lh,"")}};var uh=Object.freeze({__proto__:null});class it extends st{constructor(t,n){super(...arguments),this.attachmentManager=t,this.attachment=n,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}it.proxyMethod("attachment.getAttribute"),it.proxyMethod("attachment.hasAttribute"),it.proxyMethod("attachment.setAttribute"),it.proxyMethod("attachment.getAttributes"),it.proxyMethod("attachment.setAttributes"),it.proxyMethod("attachment.isPending"),it.proxyMethod("attachment.isPreviewable"),it.proxyMethod("attachment.getURL"),it.proxyMethod("attachment.getHref"),it.proxyMethod("attachment.getFilename"),it.proxyMethod("attachment.getFilesize"),it.proxyMethod("attachment.getFormattedFilesize"),it.proxyMethod("attachment.getExtension"),it.proxyMethod("attachment.getContentType"),it.proxyMethod("attachment.getFile"),it.proxyMethod("attachment.setFile"),it.proxyMethod("attachment.releaseFile"),it.proxyMethod("attachment.getUploadProgress"),it.proxyMethod("attachment.setUploadProgress");class Ll extends st{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(t).forEach((n=>{this.manageAttachment(n)}))}getAttachments(){const t=[];for(const n in this.managedAttachments){const i=this.managedAttachments[n];t.push(i)}return t}manageAttachment(t){return this.managedAttachments[t.id]||(this.managedAttachments[t.id]=new it(this,t)),this.managedAttachments[t.id]}attachmentIsManaged(t){return t.id in this.managedAttachments}requestRemovalOfAttachment(t){var n,i;if(this.attachmentIsManaged(t))return(n=this.delegate)===null||n===void 0||(i=n.attachmentManagerDidRequestRemovalOfAttachment)===null||i===void 0?void 0:i.call(n,t)}unmanageAttachment(t){const n=this.managedAttachments[t.id];return delete this.managedAttachments[t.id],n}}class kl{constructor(t){this.composition=t,this.document=this.composition.document;const n=this.composition.getSelectedRange();this.startPosition=n[0],this.endPosition=n[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class Zt extends st{constructor(){super(...arguments),this.document=new Rt,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(t){var n,i;if(!t.isEqualTo(this.document))return this.document=t,this.refreshAttachments(),this.revision++,(n=this.delegate)===null||n===void 0||(i=n.compositionDidChangeDocument)===null||i===void 0?void 0:i.call(n,t)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(t){var n,i,r,s;let{document:o,selectedRange:a}=t;return(n=this.delegate)===null||n===void 0||(i=n.compositionWillLoadSnapshot)===null||i===void 0||i.call(n),this.setDocument(o??new Rt),this.setSelection(a??[0,0]),(r=this.delegate)===null||r===void 0||(s=r.compositionDidLoadSnapshot)===null||s===void 0?void 0:s.call(r)}insertText(t){let{updatePosition:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const i=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(t,i));const r=i[0],s=r+t.getLength();return n&&this.setSelection(s),this.notifyDelegateOfInsertionAtRange([r,s])}insertBlock(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new jt;const n=new Rt([t]);return this.insertDocument(n)}insertDocument(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Rt;const n=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(t,n));const i=n[0],r=i+t.getLength();return this.setSelection(r),this.notifyDelegateOfInsertionAtRange([i,r])}insertString(t,n){const i=this.getCurrentTextAttributes(),r=Ot.textForStringWithAttributes(t,i);return this.insertText(r,n)}insertBlockBreak(){const t=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(t));const n=t[0],i=n+1;return this.setSelection(i),this.notifyDelegateOfInsertionAtRange([n,i])}insertLineBreak(){const t=new kl(this);if(t.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(t.startPosition);if(t.shouldPrependListItem()){const n=new Rt([t.block.copyWithoutText()]);return this.insertDocument(n)}return t.shouldInsertBlockBreak()?this.insertBlockBreak():t.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():t.shouldBreakFormattedBlock()?this.breakFormattedBlock(t):this.insertString(`
`)}insertHTML(t){const n=Ln.parse(t,{purifyOptions:{SAFE_FOR_XML:!0}}).getDocument(),i=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(n,i));const r=i[0],s=r+n.getLength()-1;return this.setSelection(s),this.notifyDelegateOfInsertionAtRange([r,s])}replaceHTML(t){const n=Ln.parse(t).getDocument().copyUsingObjectsFromDocument(this.document),i=this.getLocationRange({strict:!1}),r=this.document.rangeFromLocationRange(i);return this.setDocument(n),this.setSelection(r)}insertFile(t){return this.insertFiles([t])}insertFiles(t){const n=[];return Array.from(t).forEach((i=>{var r;if((r=this.delegate)!==null&&r!==void 0&&r.compositionShouldAcceptFile(i)){const s=qe.attachmentForFile(i);n.push(s)}})),this.insertAttachments(n)}insertAttachment(t){return this.insertAttachments([t])}insertAttachments(t){let n=new Ot;return Array.from(t).forEach((i=>{var r;const s=i.getType(),o=(r=ks[s])===null||r===void 0?void 0:r.presentation,a=this.getCurrentTextAttributes();o&&(a.presentation=o);const l=Ot.textForAttachmentWithAttributes(i,a);n=n.appendText(l)})),this.insertText(n)}shouldManageDeletingInDirection(t){const n=this.getLocationRange();if(Gt(n)){if(t==="backward"&&n[0].offset===0||this.shouldManageMovingCursorInDirection(t))return!0}else if(n[0].index!==n[1].index)return!0;return!1}deleteInDirection(t){let n,i,r,{length:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=this.getLocationRange();let a=this.getSelectedRange();const l=Gt(a);if(l?i=t==="backward"&&o[0].offset===0:r=o[0].index!==o[1].index,i&&this.canDecreaseBlockAttributeLevel()){const c=this.getBlock();if(c.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(a[0]),c.isEmpty())return!1}return l&&(a=this.getExpandedRangeInDirection(t,{length:s}),t==="backward"&&(n=this.getAttachmentAtRange(a))),n?(this.editAttachment(n),!1):(this.setDocument(this.document.removeTextAtRange(a)),this.setSelection(a[0]),!i&&!r&&void 0)}moveTextFromRange(t){const[n]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(t,n)),this.setSelection(n)}removeAttachment(t){const n=this.document.getRangeOfAttachment(t);if(n)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(n)),this.setSelection(n[0])}removeLastBlockAttribute(){const[t,n]=Array.from(this.getSelectedRange()),i=this.document.getBlockAtPosition(n);return this.removeCurrentAttribute(i.getLastAttribute()),this.setSelection(t)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(t){const n=this.currentAttributes[t];return n!=null&&n!==!1}toggleCurrentAttribute(t){const n=!this.currentAttributes[t];return n?this.setCurrentAttribute(t,n):this.removeCurrentAttribute(t)}canSetCurrentAttribute(t){return rt(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)}canSetCurrentTextAttribute(t){const n=this.getSelectedDocument();if(n){for(const i of Array.from(n.getAttachments()))if(!i.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(t){const n=this.getBlock();if(n)return!n.isTerminalBlock()}setCurrentAttribute(t,n){return rt(t)?this.setBlockAttribute(t,n):(this.setTextAttribute(t,n),this.currentAttributes[t]=n,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(t,n,i){var r;const s=this.document.getBlockAtPosition(t),o=(r=rt(s.getLastAttribute()))===null||r===void 0?void 0:r.htmlAttributes;if(s&&o!=null&&o.includes(n)){const a=this.document.setHTMLAttributeAtPosition(t,n,i);this.setDocument(a)}}setTextAttribute(t,n){const i=this.getSelectedRange();if(!i)return;const[r,s]=Array.from(i);if(r!==s)return this.setDocument(this.document.addAttributeAtRange(t,n,i));if(t==="href"){const o=Ot.textForStringWithAttributes(n,{href:n});return this.insertText(o)}}setBlockAttribute(t,n){const i=this.getSelectedRange();if(this.canSetCurrentAttribute(t))return this.setDocument(this.document.applyBlockAttributeAtRange(t,n,i)),this.setSelection(i)}removeCurrentAttribute(t){return rt(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(t){const n=this.getSelectedRange();if(n)return this.setDocument(this.document.removeAttributeAtRange(t,n))}removeBlockAttribute(t){const n=this.getSelectedRange();if(n)return this.setDocument(this.document.removeAttributeAtRange(t,n))}canDecreaseNestingLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getNestingLevel())>0}canIncreaseNestingLevel(){var t;const n=this.getBlock();if(n){if((t=rt(n.getLastNestableAttribute()))===null||t===void 0||!t.listAttribute)return n.getNestingLevel()>0;{const i=this.getPreviousBlock();if(i)return(function(){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Se((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,r.length),r)})(i.getListItemAttributes(),n.getListItemAttributes())}}}decreaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))}increaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var t;const n=(t=this.getBlock())===null||t===void 0?void 0:t.getLastAttribute();if(n)return this.removeCurrentAttribute(n)}decreaseListLevel(){let[t]=Array.from(this.getSelectedRange());const{index:n}=this.document.locationFromPosition(t);let i=n;const r=this.getBlock().getAttributeLevel();let s=this.document.getBlockAtIndex(i+1);for(;s&&s.isListItem()&&!(s.getAttributeLevel()<=r);)i++,s=this.document.getBlockAtIndex(i+1);t=this.document.positionFromLocation({index:n,offset:0});const o=this.document.positionFromLocation({index:i,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([t,o]))}updateCurrentAttributes(){const t=this.getSelectedRange({ignoreLock:!0});if(t){const n=this.document.getCommonAttributesAtRange(t);if(Array.from(Gr()).forEach((i=>{n[i]||this.canSetCurrentAttribute(i)||(n[i]=!1)})),!We(n,this.currentAttributes))return this.currentAttributes=n,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return rl.call({},this.currentAttributes)}getCurrentTextAttributes(){const t={};for(const n in this.currentAttributes){const i=this.currentAttributes[n];i!==!1&&Kr(n)&&(t[n]=i)}return t}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(t){var n;const i=this.document.locationRangeFromRange(t);return(n=this.delegate)===null||n===void 0?void 0:n.compositionDidRequestChangingSelectionToLocationRange(i)}getSelectedRange(){const t=this.getLocationRange();if(t)return this.document.rangeFromLocationRange(t)}setSelectedRange(t){const n=this.document.locationRangeFromRange(t);return this.getSelectionManager().setLocationRange(n)}getPosition(){const t=this.getLocationRange();if(t)return this.document.positionFromLocation(t[0])}getLocationRange(t){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(t)||q({index:0,offset:0})}withTargetLocationRange(t,n){let i;this.targetLocationRange=t;try{i=n()}finally{this.targetLocationRange=null}return i}withTargetRange(t,n){const i=this.document.locationRangeFromRange(t);return this.withTargetLocationRange(i,n)}withTargetDOMRange(t,n){const i=this.createLocationRangeFromDOMRange(t,{strict:!1});return this.withTargetLocationRange(i,n)}getExpandedRangeInDirection(t){let{length:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[i,r]=Array.from(this.getSelectedRange());return t==="backward"?n?i-=n:i=this.translateUTF16PositionFromOffset(i,-1):n?r+=n:r=this.translateUTF16PositionFromOffset(r,1),q([i,r])}shouldManageMovingCursorInDirection(t){if(this.editingAttachment)return!0;const n=this.getExpandedRangeInDirection(t);return this.getAttachmentAtRange(n)!=null}moveCursorInDirection(t){let n,i;if(this.editingAttachment)i=this.document.getRangeOfAttachment(this.editingAttachment);else{const r=this.getSelectedRange();i=this.getExpandedRangeInDirection(t),n=!mi(r,i)}if(t==="backward"?this.setSelectedRange(i[0]):this.setSelectedRange(i[1]),n){const r=this.getAttachmentAtRange(i);if(r)return this.editAttachment(r)}}expandSelectionInDirection(t){let{length:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getExpandedRangeInDirection(t,{length:n});return this.setSelectedRange(i)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(t){const n=this.getPosition(),i=this.document.getRangeOfCommonAttributeAtPosition(t,n);return this.setSelectedRange(i)}selectionContainsAttachments(){var t;return((t=this.getSelectedAttachments())===null||t===void 0?void 0:t.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(t){const n=this.document.locationFromPosition(t);if(n)return this.locationIsCursorTarget(n)}positionIsBlockBreak(t){var n;return(n=this.document.getPieceAtPosition(t))===null||n===void 0?void 0:n.isBlockBreak()}getSelectedDocument(){const t=this.getSelectedRange();if(t)return this.document.getDocumentAtRange(t)}getSelectedAttachments(){var t;return(t=this.getSelectedDocument())===null||t===void 0?void 0:t.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const t=this.document.getAttachments(),{added:n,removed:i}=(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const o=[],a=[],l=new Set;r.forEach((u=>{l.add(u)}));const c=new Set;return s.forEach((u=>{c.add(u),l.has(u)||o.push(u)})),r.forEach((u=>{c.has(u)||a.push(u)})),{added:o,removed:a}})(this.attachments,t);return this.attachments=t,Array.from(i).forEach((r=>{var s,o;r.delegate=null,(s=this.delegate)===null||s===void 0||(o=s.compositionDidRemoveAttachment)===null||o===void 0||o.call(s,r)})),(()=>{const r=[];return Array.from(n).forEach((s=>{var o,a;s.delegate=this,r.push((o=this.delegate)===null||o===void 0||(a=o.compositionDidAddAttachment)===null||a===void 0?void 0:a.call(o,s))})),r})()}attachmentDidChangeAttributes(t){var n,i;return this.revision++,(n=this.delegate)===null||n===void 0||(i=n.compositionDidEditAttachment)===null||i===void 0?void 0:i.call(n,t)}attachmentDidChangePreviewURL(t){var n,i;return this.revision++,(n=this.delegate)===null||n===void 0||(i=n.compositionDidChangeAttachmentPreviewURL)===null||i===void 0?void 0:i.call(n,t)}editAttachment(t,n){var i,r;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,(i=this.delegate)===null||i===void 0||(r=i.compositionDidStartEditingAttachment)===null||r===void 0?void 0:r.call(i,this.editingAttachment,n)}stopEditingAttachment(){var t,n;this.editingAttachment&&((t=this.delegate)===null||t===void 0||(n=t.compositionDidStopEditingAttachment)===null||n===void 0||n.call(t,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(t,n){return this.setDocument(this.document.updateAttributesForAttachment(t,n))}removeAttributeForAttachment(t,n){return this.setDocument(this.document.removeAttributeForAttachment(t,n))}breakFormattedBlock(t){let{document:n}=t;const{block:i}=t;let r=t.startPosition,s=[r-1,r];i.getBlockBreakPosition()===t.startLocation.offset?(i.breaksOnReturn()&&t.nextCharacter===`
`?r+=1:n=n.removeTextAtRange(s),s=[r,r]):t.nextCharacter===`
`?t.previousCharacter===`
`?s=[r-1,r+1]:(s=[r,r+1],r+=1):t.startLocation.offset-1!=0&&(r+=1);const o=new Rt([i.removeLastAttribute().copyWithoutText()]);return this.setDocument(n.insertDocumentAtRange(o,s)),this.setSelection(r)}getPreviousBlock(){const t=this.getLocationRange();if(t){const{index:n}=t[0];if(n>0)return this.document.getBlockAtIndex(n-1)}}getBlock(){const t=this.getLocationRange();if(t)return this.document.getBlockAtIndex(t[0].index)}getAttachmentAtRange(t){const n=this.document.getDocumentAtRange(t);if(n.toString()==="".concat("ï¿¼",`
`))return n.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var t,n;return(t=this.delegate)===null||t===void 0||(n=t.compositionDidChangeCurrentAttributes)===null||n===void 0?void 0:n.call(t,this.currentAttributes)}notifyDelegateOfInsertionAtRange(t){var n,i;return(n=this.delegate)===null||n===void 0||(i=n.compositionDidPerformInsertionAtRange)===null||i===void 0?void 0:i.call(n,t)}translateUTF16PositionFromOffset(t,n){const i=this.document.toUTF16String(),r=i.offsetFromUCS2Offset(t);return i.offsetToUCS2Offset(r+n)}}Zt.proxyMethod("getSelectionManager().getPointRange"),Zt.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),Zt.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),Zt.proxyMethod("getSelectionManager().locationIsCursorTarget"),Zt.proxyMethod("getSelectionManager().selectionIsExpanded"),Zt.proxyMethod("delegate?.getSelectionManager");class Qr extends st{constructor(t){super(...arguments),this.composition=t,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(t){let{context:n,consolidatable:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.undoEntries.slice(-1)[0];if(!i||!dh(r,t,n)){const s=this.createEntry({description:t,context:n});this.undoEntries.push(s),this.redoEntries=[]}}undo(){const t=this.undoEntries.pop();if(t){const n=this.createEntry(t);return this.redoEntries.push(n),this.composition.loadSnapshot(t.snapshot)}}redo(){const t=this.redoEntries.pop();if(t){const n=this.createEntry(t);return this.undoEntries.push(n),this.composition.loadSnapshot(t.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:t,context:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:t?.toString(),context:JSON.stringify(n),snapshot:this.composition.getSnapshot()}}}const dh=(e,t,n)=>e?.description===t?.toString()&&e?.context===JSON.stringify(n),yr="attachmentGallery";class _l{constructor(t){this.document=t.document,this.selectedRange=t.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map((t=>this.document=this.document.removeAttributeAtRange(yr,t)))}applyBlockAttribute(){let t=0;this.findRangesOfPieces().forEach((n=>{n[1]-n[0]>1&&(n[0]+=t,n[1]+=t,this.document.getCharacterAtPosition(n[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(n[1]),n[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),n[1]++,t++),n[0]!==0&&this.document.getCharacterAtPosition(n[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(n[0]),n[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),n[0]++,t++),this.document=this.document.applyBlockAttributeAtRange(yr,!0,n))}))}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(yr)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const Ol=function(e){const t=new _l(e);return t.perform(),t.getSnapshot()},hh=[Ol];class Dl{constructor(t,n,i){this.insertFiles=this.insertFiles.bind(this),this.composition=t,this.selectionManager=n,this.element=i,this.undoManager=new Qr(this.composition),this.filters=hh.slice(0)}loadDocument(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})}loadHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=Ln.parse(t,{referenceElement:this.element}).getDocument();return this.loadDocument(n)}loadJSON(t){let{document:n,selectedRange:i}=t;return n=Rt.fromJSON(n),this.loadSnapshot({document:n,selectedRange:i})}loadSnapshot(t){return this.undoManager=new Qr(this.composition),this.composition.loadSnapshot(t)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(t){return this.composition.deleteInDirection(t)}insertAttachment(t){return this.composition.insertAttachment(t)}insertAttachments(t){return this.composition.insertAttachments(t)}insertDocument(t){return this.composition.insertDocument(t)}insertFile(t){return this.composition.insertFile(t)}insertFiles(t){return this.composition.insertFiles(t)}insertHTML(t){return this.composition.insertHTML(t)}insertString(t){return this.composition.insertString(t)}insertText(t){return this.composition.insertText(t)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(t){const n=this.getDocument().locationRangeFromRange([t,t+1]);return this.selectionManager.getClientRectAtLocationRange(n)}expandSelectionInDirection(t){return this.composition.expandSelectionInDirection(t)}moveCursorInDirection(t){return this.composition.moveCursorInDirection(t)}setSelectedRange(t){return this.composition.setSelectedRange(t)}activateAttribute(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(t,n)}attributeIsActive(t){return this.composition.hasCurrentAttribute(t)}canActivateAttribute(t){return this.composition.canSetCurrentAttribute(t)}deactivateAttribute(t){return this.composition.removeCurrentAttribute(t)}setHTMLAtributeAtPosition(t,n,i){this.composition.setHTMLAtributeAtPosition(t,n,i)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(t){let{context:n,consolidatable:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(t,{context:n,consolidatable:i})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class Pl{constructor(t){this.element=t}findLocationFromContainerAndOffset(t,n){let{strict:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},r=0,s=!1;const o={index:0,offset:0},a=this.findAttachmentElementParentForNode(t);a&&(t=a.parentNode,n=rr(a));const l=pi(this.element,{usingFilter:Ml});for(;l.nextNode();){const c=l.currentNode;if(c===t&&xn(t)){je(c)||(o.offset+=n);break}if(c.parentNode===t){if(r++===n)break}else if(!de(t,c)&&r>0)break;Fo(c,{strict:i})?(s&&o.index++,o.offset=0,s=!0):o.offset+=xr(c)}return o}findContainerAndOffsetFromLocation(t){let n,i;if(t.index===0&&t.offset===0){for(n=this.element,i=0;n.firstChild;)if(n=n.firstChild,sr(n)){i=1;break}return[n,i]}let[r,s]=this.findNodeAndOffsetFromLocation(t);if(r){if(xn(r))xr(r)===0?(n=r.parentNode.parentNode,i=rr(r.parentNode),je(r,{name:"right"})&&i++):(n=r,i=t.offset-s);else{if(n=r.parentNode,!Fo(r.previousSibling)&&!sr(n))for(;r===n.lastChild&&(r=n,n=n.parentNode,!sr(n)););i=rr(r),t.offset!==0&&i++}return[n,i]}}findNodeAndOffsetFromLocation(t){let n,i,r=0;for(const s of this.getSignificantNodesForIndex(t.index)){const o=xr(s);if(t.offset<=r+o)if(xn(s)){if(n=s,i=r,t.offset===i&&je(n))break}else n||(n=s,i=r);if(r+=o,r>t.offset)break}return[n,i]}findAttachmentElementParentForNode(t){for(;t&&t!==this.element;){if(me(t))return t;t=t.parentNode}}getSignificantNodesForIndex(t){const n=[],i=pi(this.element,{usingFilter:fh});let r=!1;for(;i.nextNode();){const o=i.currentNode;var s;if(Be(o)){if(s!=null?s++:s=0,s===t)r=!0;else if(r)break}else r&&n.push(o)}return n}}const xr=function(e){return e.nodeType===Node.TEXT_NODE?je(e)?0:e.textContent.length:mt(e)==="br"||me(e)?1:0},fh=function(e){return ph(e)===NodeFilter.FILTER_ACCEPT?Ml(e):NodeFilter.FILTER_REJECT},ph=function(e){return ol(e)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},Ml=function(e){return me(e.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class Il{createDOMRangeFromPoint(t){let n,{x:i,y:r}=t;if(document.caretPositionFromPoint){const{offsetNode:s,offset:o}=document.caretPositionFromPoint(i,r);return n=document.createRange(),n.setStart(s,o),n}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(i,r);if(document.body.createTextRange){const s=An();try{const o=document.body.createTextRange();o.moveToPoint(i,r),o.select()}catch{}return n=An(),pl(s),n}}getClientRectsForDOMRange(t){const n=Array.from(t.getClientRects());return[n[0],n[n.length-1]]}}class ue extends st{constructor(t){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=t,this.locationMapper=new Pl(this.element),this.pointMapper=new Il,this.lockCount=0,Z("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.strict===!1?this.createLocationRangeFromDOMRange(An()):t.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(t){if(this.lockedLocationRange)return;t=q(t);const n=this.createDOMRangeFromLocationRange(t);n&&(pl(n),this.updateCurrentLocationRange(t))}setLocationRangeFromPointRange(t){t=q(t);const n=this.getLocationAtPoint(t[0]),i=this.getLocationAtPoint(t[1]);this.setLocationRange([n,i])}getClientRectAtLocationRange(t){const n=this.createDOMRangeFromLocationRange(t);if(n)return this.getClientRectsForDOMRange(n)[1]}locationIsCursorTarget(t){const n=Array.from(this.findNodeAndOffsetFromLocation(t))[0];return je(n)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:t}=this;if(this.lockedLocationRange=null,t!=null)return this.setLocationRange(t)}}clearSelection(){var t;return(t=fl())===null||t===void 0?void 0:t.removeAllRanges()}selectionIsCollapsed(){var t;return((t=An())===null||t===void 0?void 0:t.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(t,n){if(t==null||!this.domRangeWithinElement(t))return;const i=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,n);if(!i)return;const r=t.collapsed?void 0:this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,n);return q([i,r])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let t;this.paused=!0;const n=()=>{if(this.paused=!1,clearTimeout(i),Array.from(t).forEach((r=>{r.destroy()})),de(document,this.element))return this.selectionDidChange()},i=setTimeout(n,200);t=["mousemove","keydown"].map((r=>Z(r,{onElement:document,withCallback:n})))}selectionDidChange(){if(!this.paused&&!Os(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(t){var n,i;if((t??(t=this.createLocationRangeFromDOMRange(An())))&&!mi(t,this.currentLocationRange))return this.currentLocationRange=t,(n=this.delegate)===null||n===void 0||(i=n.locationRangeDidChange)===null||i===void 0?void 0:i.call(n,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(t){const n=this.findContainerAndOffsetFromLocation(t[0]),i=Gt(t)?n:this.findContainerAndOffsetFromLocation(t[1])||n;if(n!=null&&i!=null){const r=document.createRange();return r.setStart(...Array.from(n||[])),r.setEnd(...Array.from(i||[])),r}}getLocationAtPoint(t){const n=this.createDOMRangeFromPoint(t);var i;if(n)return(i=this.createLocationRangeFromDOMRange(n))===null||i===void 0?void 0:i[0]}domRangeWithinElement(t){return t.collapsed?de(this.element,t.startContainer):de(this.element,t.startContainer)&&de(this.element,t.endContainer)}}ue.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),ue.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),ue.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),ue.proxyMethod("pointMapper.createDOMRangeFromPoint"),ue.proxyMethod("pointMapper.getClientRectsForDOMRange");var Nl=Object.freeze({__proto__:null,Attachment:qe,AttachmentManager:Ll,AttachmentPiece:ze,Block:jt,Composition:Zt,Document:Rt,Editor:Dl,HTMLParser:Ln,HTMLSanitizer:_i,LineBreakInsertion:kl,LocationMapper:Pl,ManagedAttachment:it,Piece:Le,PointMapper:Il,SelectionManager:ue,SplittableList:vi,StringPiece:zs,Text:Ot,UndoManager:Qr}),mh=Object.freeze({__proto__:null,ObjectView:Re,AttachmentView:Bs,BlockView:Sl,DocumentView:Oi,PieceView:xl,PreviewableAttachmentView:yl,TextView:Al});const{lang:Ar,css:ae,keyNames:gh}=On,Sr=function(e){return function(){const t=e.apply(this,arguments);t.do(),this.undos||(this.undos=[]),this.undos.push(t.undo)}};class Fl extends st{constructor(t,n,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),bt(this,"makeElementMutable",Sr((()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable})))),bt(this,"addToolbar",Sr((()=>{const s=j({tagName:"div",className:ae.attachmentToolbar,data:{trixMutable:!0},childNodes:j({tagName:"div",className:"trix-button-row",childNodes:j({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:j({tagName:"button",className:"trix-button trix-button--remove",textContent:Ar.remove,attributes:{title:Ar.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&s.appendChild(j({tagName:"div",className:ae.attachmentMetadataContainer,childNodes:j({tagName:"span",className:ae.attachmentMetadata,childNodes:[j({tagName:"span",className:ae.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),j({tagName:"span",className:ae.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),Z("click",{onElement:s,withCallback:this.didClickToolbar}),Z("click",{onElement:s,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),vn("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:s,attachment:this.attachment}}),{do:()=>this.element.appendChild(s),undo:()=>ne(s)}}))),bt(this,"installCaptionEditor",Sr((()=>{const s=j({tagName:"textarea",className:ae.attachmentCaptionEditor,attributes:{placeholder:Ar.captionPlaceholder},data:{trixMutable:!0}});s.value=this.attachmentPiece.getCaption();const o=s.cloneNode();o.classList.add("trix-autoresize-clone"),o.tabIndex=-1;const a=function(){o.value=s.value,s.style.height=o.scrollHeight+"px"};Z("input",{onElement:s,withCallback:a}),Z("input",{onElement:s,withCallback:this.didInputCaption}),Z("keydown",{onElement:s,withCallback:this.didKeyDownCaption}),Z("change",{onElement:s,withCallback:this.didChangeCaption}),Z("blur",{onElement:s,withCallback:this.didBlurCaption});const l=this.element.querySelector("figcaption"),c=l.cloneNode();return{do:()=>{if(l.style.display="none",c.appendChild(s),c.appendChild(o),c.classList.add("".concat(ae.attachmentCaption,"--editing")),l.parentElement.insertBefore(c,l),a(),this.options.editCaption)return Ms((()=>s.focus()))},undo(){ne(c),l.style.display=null}}}))),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=t,this.element=n,this.container=i,this.options=r,this.attachment=this.attachmentPiece.attachment,mt(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var t;let n=this.undos.pop();for(this.savePendingCaption();n;)n(),n=this.undos.pop();(t=this.delegate)===null||t===void 0||t.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const s=this.pendingCaption;var t,n,i,r;this.pendingCaption=null,s?(t=this.delegate)===null||t===void 0||(n=t.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||n===void 0||n.call(t,{caption:s},this.attachment):(i=this.delegate)===null||i===void 0||(r=i.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||r===void 0||r.call(i,"caption",this.attachment)}}didClickToolbar(t){return t.preventDefault(),t.stopPropagation()}didClickActionButton(t){var n;if(t.target.getAttribute("data-trix-action")==="remove")return(n=this.delegate)===null||n===void 0?void 0:n.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(t){var n,i;if(gh[t.keyCode]==="return")return t.preventDefault(),this.savePendingCaption(),(n=this.delegate)===null||n===void 0||(i=n.attachmentEditorDidRequestDeselectingAttachment)===null||i===void 0?void 0:i.call(n,this.attachment)}didInputCaption(t){this.pendingCaption=t.target.value.replace(/\s/g," ").trim()}didChangeCaption(t){return this.savePendingCaption()}didBlurCaption(t){return this.savePendingCaption()}}class Bl extends st{constructor(t,n){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=t,this.composition=n,this.documentView=new Oi(this.composition.document,{element:this.element}),Z("focus",{onElement:this.element,withCallback:this.didFocus}),Z("blur",{onElement:this.element,withCallback:this.didBlur}),Z("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),Z("mousedown",{onElement:this.element,matchingSelector:pe,withCallback:this.didClickAttachment}),Z("click",{onElement:this.element,matchingSelector:"a".concat(pe),preventDefault:!0})}didFocus(t){var n;const i=()=>{var r,s;if(!this.focused)return this.focused=!0,(r=this.delegate)===null||r===void 0||(s=r.compositionControllerDidFocus)===null||s===void 0?void 0:s.call(r)};return((n=this.blurPromise)===null||n===void 0?void 0:n.then(i))||i()}didBlur(t){this.blurPromise=new Promise((n=>Ms((()=>{var i,r;return Os(this.element)||(this.focused=null,(i=this.delegate)===null||i===void 0||(r=i.compositionControllerDidBlur)===null||r===void 0||r.call(i)),this.blurPromise=null,n()}))))}didClickAttachment(t,n){var i,r;const s=this.findAttachmentForElement(n),o=!!ee(t.target,{matchingSelector:"figcaption"});return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerDidSelectAttachment)===null||r===void 0?void 0:r.call(i,s,{editCaption:o})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var t,n,i,r,s,o;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillSyncDocumentView)===null||r===void 0||r.call(i),this.documentView.sync(),(s=this.delegate)===null||s===void 0||(o=s.compositionControllerDidSyncDocumentView)===null||o===void 0||o.call(s)),(t=this.delegate)===null||t===void 0||(n=t.compositionControllerDidRender)===null||n===void 0?void 0:n.call(t)}rerenderViewForObject(t){return this.invalidateViewForObject(t),this.render()}invalidateViewForObject(t){return this.documentView.invalidateViewForObject(t)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(t,n){var i;if(((i=this.attachmentEditor)===null||i===void 0?void 0:i.attachment)===t)return;const r=this.documentView.findElementForObject(t);if(!r)return;this.uninstallAttachmentEditor();const s=this.composition.document.getAttachmentPieceForAttachment(t);this.attachmentEditor=new Fl(s,r,this.element,n),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var t;return(t=this.attachmentEditor)===null||t===void 0?void 0:t.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(t,n){var i,r;return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillUpdateAttachment)===null||r===void 0||r.call(i,n),this.composition.updateAttributesForAttachment(t,n)}attachmentEditorDidRequestRemovingAttributeForAttachment(t,n){var i,r;return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillUpdateAttachment)===null||r===void 0||r.call(i,n),this.composition.removeAttributeForAttachment(t,n)}attachmentEditorDidRequestRemovalOfAttachment(t){var n,i;return(n=this.delegate)===null||n===void 0||(i=n.compositionControllerDidRequestRemovalOfAttachment)===null||i===void 0?void 0:i.call(n,t)}attachmentEditorDidRequestDeselectingAttachment(t){var n,i;return(n=this.delegate)===null||n===void 0||(i=n.compositionControllerDidRequestDeselectingAttachment)===null||i===void 0?void 0:i.call(n,t)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))}}class jl extends st{}const zl="data-trix-mutable",bh="[".concat(zl,"]"),vh={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class Ul extends st{constructor(t){super(t),this.didMutate=this.didMutate.bind(this),this.element=t,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,vh)}stop(){return this.observer.disconnect()}didMutate(t){var n,i;if(this.mutations.push(...Array.from(this.findSignificantMutations(t)||[])),this.mutations.length)return(n=this.delegate)===null||n===void 0||(i=n.elementDidMutate)===null||i===void 0||i.call(n,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(t){return t.filter((n=>this.mutationIsSignificant(n)))}mutationIsSignificant(t){if(this.nodeIsMutable(t.target))return!1;for(const n of Array.from(this.nodesModifiedByMutation(t)))if(this.nodeIsSignificant(n))return!0;return!1}nodeIsSignificant(t){return t!==this.element&&!this.nodeIsMutable(t)&&!ol(t)}nodeIsMutable(t){return ee(t,{matchingSelector:bh})}nodesModifiedByMutation(t){const n=[];switch(t.type){case"attributes":t.attributeName!==zl&&n.push(t.target);break;case"characterData":n.push(t.target.parentNode),n.push(t.target);break;case"childList":n.push(...Array.from(t.addedNodes||[])),n.push(...Array.from(t.removedNodes||[]))}return n}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:t,deletions:n}=this.getTextChangesFromCharacterData(),i=this.getTextChangesFromChildList();Array.from(i.additions).forEach((a=>{Array.from(t).includes(a)||t.push(a)})),n.push(...Array.from(i.deletions||[]));const r={},s=t.join("");s&&(r.textAdded=s);const o=n.join("");return o&&(r.textDeleted=o),r}getMutationsByType(t){return Array.from(this.mutations).filter((n=>n.type===t))}getTextChangesFromChildList(){let t,n;const i=[],r=[];Array.from(this.getMutationsByType("childList")).forEach((a=>{i.push(...Array.from(a.addedNodes||[])),r.push(...Array.from(a.removedNodes||[]))})),i.length===0&&r.length===1&&Be(r[0])?(t=[],n=[`
`]):(t=ts(i),n=ts(r));const s=t.filter(((a,l)=>a!==n[l])).map(gn),o=n.filter(((a,l)=>a!==t[l])).map(gn);return{additions:s,deletions:o}}getTextChangesFromCharacterData(){let t,n;const i=this.getMutationsByType("characterData");if(i.length){const r=i[0],s=i[i.length-1],o=(function(a,l){let c,u;return a=Rn.box(a),(l=Rn.box(l)).length<a.length?[u,c]=Ho(a,l):[c,u]=Ho(l,a),{added:c,removed:u}})(gn(r.oldValue),gn(s.target.data));t=o.added,n=o.removed}return{additions:t?[t]:[],deletions:n?[n]:[]}}}const ts=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];for(const n of Array.from(e))switch(n.nodeType){case Node.TEXT_NODE:t.push(n.data);break;case Node.ELEMENT_NODE:mt(n)==="br"?t.push(`
`):t.push(...Array.from(ts(n.childNodes)||[]))}return t};class Vl extends gi{constructor(t){super(...arguments),this.file=t}perform(t){const n=new FileReader;return n.onerror=()=>t(!1),n.onload=()=>{n.onerror=null;try{n.abort()}catch{}return t(!0,this.file)},n.readAsArrayBuffer(this.file)}}class yh{constructor(t){this.element=t}shouldIgnore(t){return!!_n.samsungAndroid&&(this.previousEvent=this.event,this.event=t,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&xh(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var t;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((t=this.event.data)===null||t===void 0?void 0:t.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var t,n;return((t=this.previousEvent)===null||t===void 0?void 0:t.type)==="keydown"&&((n=this.previousEvent)===null||n===void 0?void 0:n.key)==="Unidentified"}}const xh=(e,t)=>da(e)===da(t),Ah=new RegExp("(".concat("ï¿¼","|").concat(ki,"|").concat(Qt,"|\\s)+"),"g"),da=e=>e.replace(Ah," ").trim();class Di extends st{constructor(t){super(...arguments),this.element=t,this.mutationObserver=new Ul(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new yh(this.element);for(const n in this.constructor.events)Z(n,{onElement:this.element,withCallback:this.handlerFor(n)})}elementDidMutate(t){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var t,n;return(t=this.delegate)===null||t===void 0||(n=t.inputControllerDidRequestRender)===null||n===void 0?void 0:n.call(t)}requestReparse(){var t,n;return(t=this.delegate)===null||t===void 0||(n=t.inputControllerDidRequestReparse)===null||n===void 0||n.call(t),this.requestRender()}attachFiles(t){const n=Array.from(t).map((i=>new Vl(i)));return Promise.all(n).then((i=>{this.handleInput((function(){var r,s;return(r=this.delegate)===null||r===void 0||r.inputControllerWillAttachFiles(),(s=this.responder)===null||s===void 0||s.insertFiles(i),this.requestRender()}))}))}handlerFor(t){return n=>{n.defaultPrevented||this.handleInput((()=>{if(!Os(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(n))return;this.eventName=t,this.constructor.events[t].call(this,n)}}))}}handleInput(t){try{var n;(n=this.delegate)===null||n===void 0||n.inputControllerWillHandleInput(),t.call(this)}finally{var i;(i=this.delegate)===null||i===void 0||i.inputControllerDidHandleInput()}}createLinkHTML(t,n){const i=document.createElement("a");return i.href=t,i.textContent=n||t,i.outerHTML}}var Er;bt(Di,"events",{});const{browser:Sh,keyNames:Hl}=On;let Eh=0;class $t extends Di{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const n in t){const i=t[n];this.inputSummary[n]=i}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),Ee.reset()}elementDidMutate(t){var n,i;return this.isComposing()?(n=this.delegate)===null||n===void 0||(i=n.inputControllerDidAllowUnhandledInput)===null||i===void 0?void 0:i.call(n):this.handleInput((function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()}))}mutationIsExpected(t){let{textAdded:n,textDeleted:i}=t;if(this.inputSummary.preferDocument)return!0;const r=n!=null?n===this.inputSummary.textAdded:!this.inputSummary.textAdded,s=i!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,o=[`
`,` 
`].includes(n)&&!r,a=i===`
`&&!s;if(o&&!a||a&&!o){const c=this.getSelectedRange();if(c){var l;const u=o?n.replace(/\n$/,"").length||-1:n?.length||1;if((l=this.responder)!==null&&l!==void 0&&l.positionIsBlockBreak(c[1]+u))return!0}}return r&&s}mutationIsSignificant(t){var n;const i=Object.keys(t).length>0,r=((n=this.compositionInput)===null||n===void 0?void 0:n.getEndData())==="";return i||!r}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new Yt(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(t,n){var i;return((i=this.responder)===null||i===void 0?void 0:i.deleteInDirection(t))!==!1?this.setInputSummary({didDelete:!0}):n?(n.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(t){var n;if(!(function(r){if(r==null||!r.setData)return!1;for(const s in zo){const o=zo[s];try{if(r.setData(s,o),!r.getData(s)===o)return!1}catch{return!1}}return!0})(t))return;const i=(n=this.responder)===null||n===void 0?void 0:n.getSelectedDocument().toSerializableDocument();return t.setData("application/x-trix-document",JSON.stringify(i)),t.setData("text/html",Oi.render(i).innerHTML),t.setData("text/plain",i.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(t){const n={};return Array.from(t?.types||[]).forEach((i=>{n[i]=!0})),n.Files||n["application/x-trix-document"]||n["text/html"]||n["text/plain"]}getPastedHTMLUsingHiddenElement(t){const n=this.getSelectedRange(),i={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},r=j({style:i,tagName:"div",editable:!0});return document.body.appendChild(r),r.focus(),requestAnimationFrame((()=>{const s=r.innerHTML;return ne(r),this.setSelectedRange(n),t(s)}))}}bt($t,"events",{keydown(e){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const t=Hl[e.keyCode];if(t){var n;let r=this.keys;["ctrl","alt","shift","meta"].forEach((s=>{var o;e["".concat(s,"Key")]&&(s==="ctrl"&&(s="control"),r=(o=r)===null||o===void 0?void 0:o[s])})),((n=r)===null||n===void 0?void 0:n[t])!=null&&(this.setInputSummary({keyName:t}),Ee.reset(),r[t].call(this,e))}if(ul(e)){const r=String.fromCharCode(e.keyCode).toLowerCase();if(r){var i;const s=["alt","shift"].map((o=>{if(e["".concat(o,"Key")])return o})).filter((o=>o));s.push(r),(i=this.delegate)!==null&&i!==void 0&&i.inputControllerDidReceiveKeyboardCommand(s)&&e.preventDefault()}}},keypress(e){if(this.inputSummary.eventName!=null||e.metaKey||e.ctrlKey&&!e.altKey)return;const t=Th(e);var n,i;return t?((n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.insertString(t),this.setInputSummary({textAdded:t,didDelete:this.selectionIsExpanded()})):void 0},textInput(e){const{data:t}=e,{textAdded:n}=this.inputSummary;if(n&&n!==t&&n.toUpperCase()===t){var i;const r=this.getSelectedRange();return this.setSelectedRange([r[0],r[1]+n.length]),(i=this.responder)===null||i===void 0||i.insertString(t),this.setInputSummary({textAdded:t}),this.setSelectedRange(r)}},dragenter(e){e.preventDefault()},dragstart(e){var t,n;return this.serializeSelectionToDataTransfer(e.dataTransfer),this.draggedRange=this.getSelectedRange(),(t=this.delegate)===null||t===void 0||(n=t.inputControllerDidStartDrag)===null||n===void 0?void 0:n.call(t)},dragover(e){if(this.draggedRange||this.canAcceptDataTransfer(e.dataTransfer)){e.preventDefault();const i={x:e.clientX,y:e.clientY};var t,n;if(!We(i,this.draggingPoint))return this.draggingPoint=i,(t=this.delegate)===null||t===void 0||(n=t.inputControllerDidReceiveDragOverPoint)===null||n===void 0?void 0:n.call(t,this.draggingPoint)}},dragend(e){var t,n;(t=this.delegate)===null||t===void 0||(n=t.inputControllerDidCancelDrag)===null||n===void 0||n.call(t),this.draggedRange=null,this.draggingPoint=null},drop(e){var t,n;e.preventDefault();const i=(t=e.dataTransfer)===null||t===void 0?void 0:t.files,r=e.dataTransfer.getData("application/x-trix-document"),s={x:e.clientX,y:e.clientY};if((n=this.responder)===null||n===void 0||n.setLocationRangeFromPointRange(s),i!=null&&i.length)this.attachFiles(i);else if(this.draggedRange){var o,a;(o=this.delegate)===null||o===void 0||o.inputControllerWillMoveText(),(a=this.responder)===null||a===void 0||a.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(r){var l;const c=Rt.fromJSONString(r);(l=this.responder)===null||l===void 0||l.insertDocument(c),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(e){var t,n;if((t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(e.clipboardData)&&e.preventDefault(),(n=this.delegate)===null||n===void 0||n.inputControllerWillCutText(),this.deleteInDirection("backward"),e.defaultPrevented))return this.requestRender()},copy(e){var t;(t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(e.clipboardData)&&e.preventDefault()},paste(e){const t=e.clipboardData||e.testClipboardData,n={clipboard:t};if(!t||Rh(e))return void this.getPastedHTMLUsingHiddenElement((S=>{var E,_,k;return n.type="text/html",n.html=S,(E=this.delegate)===null||E===void 0||E.inputControllerWillPaste(n),(_=this.responder)===null||_===void 0||_.insertHTML(n.html),this.requestRender(),(k=this.delegate)===null||k===void 0?void 0:k.inputControllerDidPaste(n)}));const i=t.getData("URL"),r=t.getData("text/html"),s=t.getData("public.url-name");if(i){var o,a,l;let S;n.type="text/html",S=s?Ns(s).trim():i,n.html=this.createLinkHTML(i,S),(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(n),this.setInputSummary({textAdded:S,didDelete:this.selectionIsExpanded()}),(a=this.responder)===null||a===void 0||a.insertHTML(n.html),this.requestRender(),(l=this.delegate)===null||l===void 0||l.inputControllerDidPaste(n)}else if(cl(t)){var c,u,d;n.type="text/plain",n.string=t.getData("text/plain"),(c=this.delegate)===null||c===void 0||c.inputControllerWillPaste(n),this.setInputSummary({textAdded:n.string,didDelete:this.selectionIsExpanded()}),(u=this.responder)===null||u===void 0||u.insertString(n.string),this.requestRender(),(d=this.delegate)===null||d===void 0||d.inputControllerDidPaste(n)}else if(r){var v,f,p;n.type="text/html",n.html=r,(v=this.delegate)===null||v===void 0||v.inputControllerWillPaste(n),(f=this.responder)===null||f===void 0||f.insertHTML(n.html),this.requestRender(),(p=this.delegate)===null||p===void 0||p.inputControllerDidPaste(n)}else if(Array.from(t.types).includes("Files")){var y,b;const S=(y=t.items)===null||y===void 0||(y=y[0])===null||y===void 0||(b=y.getAsFile)===null||b===void 0?void 0:b.call(y);if(S){var h,g,x;const E=wh(S);!S.name&&E&&(S.name="pasted-file-".concat(++Eh,".").concat(E)),n.type="File",n.file=S,(h=this.delegate)===null||h===void 0||h.inputControllerWillAttachFiles(),(g=this.responder)===null||g===void 0||g.insertFile(n.file),this.requestRender(),(x=this.delegate)===null||x===void 0||x.inputControllerDidPaste(n)}}e.preventDefault()},compositionstart(e){return this.getCompositionInput().start(e.data)},compositionupdate(e){return this.getCompositionInput().update(e.data)},compositionend(e){return this.getCompositionInput().end(e.data)},beforeinput(e){this.inputSummary.didInput=!0},input(e){return this.inputSummary.didInput=!0,e.stopPropagation()}}),bt($t,"keys",{backspace(e){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",e)},delete(e){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",e)},return(e){var t,n;return this.setInputSummary({preferDocument:!0}),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0?void 0:n.insertLineBreak()},tab(e){var t,n;(t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel()&&((n=this.responder)===null||n===void 0||n.increaseNestingLevel(),this.requestRender(),e.preventDefault())},left(e){var t;if(this.selectionIsInCursorTarget())return e.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},right(e){var t;if(this.selectionIsInCursorTarget())return e.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},control:{d(e){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",e)},h(e){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",e)},o(e){var t,n;return e.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(e){var t,n;(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.insertString(`
`),this.requestRender(),e.preventDefault()},tab(e){var t,n;(t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel()&&((n=this.responder)===null||n===void 0||n.decreaseNestingLevel(),this.requestRender(),e.preventDefault())},left(e){if(this.selectionIsInCursorTarget())return e.preventDefault(),this.expandSelectionInDirection("backward")},right(e){if(this.selectionIsInCursorTarget())return e.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(e){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}},meta:{backspace(e){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}}}),$t.proxyMethod("responder?.getSelectedRange"),$t.proxyMethod("responder?.setSelectedRange"),$t.proxyMethod("responder?.expandSelectionInDirection"),$t.proxyMethod("responder?.selectionIsInCursorTarget"),$t.proxyMethod("responder?.selectionIsExpanded");const wh=e=>{var t;return(t=e.type)===null||t===void 0||(t=t.match(/\/(\w+)$/))===null||t===void 0?void 0:t[1]},Ch=!((Er=" ".codePointAt)===null||Er===void 0||!Er.call(" ",0)),Th=function(e){if(e.key&&Ch&&e.key.codePointAt(0)===e.keyCode)return e.key;{let t;if(e.which===null?t=e.keyCode:e.which!==0&&e.charCode!==0&&(t=e.charCode),t!=null&&Hl[t]!=="escape")return Rn.fromCodepoints([t]).toString()}},Rh=function(e){const t=e.clipboardData;if(t){if(t.types.includes("text/html")){for(const n of t.types){const i=/^CorePasteboardFlavorType/.test(n),r=/^dyn\./.test(n)&&t.getData(n);if(i||r)return!0}return!1}{const n=t.types.includes("com.apple.webarchive"),i=t.types.includes("com.apple.flat-rtfd");return n||i}}};class Yt extends st{constructor(t){super(...arguments),this.inputController=t,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(t){if(this.data.start=t,this.isSignificant()){var n,i;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((i=this.responder)===null||i===void 0||i.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange()}}update(t){if(this.data.update=t,this.isSignificant()){const n=this.selectPlaceholder();n&&(this.forgetPlaceholder(),this.range=n)}}end(t){return this.data.end=t,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.setSelectedRange(this.range),(r=this.responder)===null||r===void 0||r.insertString(this.data.end),(s=this.responder)===null||s===void 0?void 0:s.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var n,i,r,s}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!Sh.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var t,n;return((t=this.data.start)===null||t===void 0?void 0:t.length)===0&&((n=this.data.end)===null||n===void 0?void 0:n.length)>0&&this.range}}Yt.proxyMethod("inputController.setInputSummary"),Yt.proxyMethod("inputController.requestRender"),Yt.proxyMethod("inputController.requestReparse"),Yt.proxyMethod("responder?.selectionIsExpanded"),Yt.proxyMethod("responder?.insertPlaceholder"),Yt.proxyMethod("responder?.selectPlaceholder"),Yt.proxyMethod("responder?.forgetPlaceholder");class En extends Di{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(t=this.delegate)===null||t===void 0||(n=t.inputControllerDidAllowUnhandledInput)===null||n===void 0?void 0:n.call(t):void 0:this.reparse();var t,n}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var t,n;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(n=this.delegate)===null||n===void 0||n.render(),(t=this.afterRender)===null||t===void 0||t.call(this),this.afterRender=null}reparse(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.reparse()}insertString(){var t;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.withTargetDOMRange((function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.insertString(n,i)}))}toggleAttributeIfSupported(t){var n;if(Gr().includes(t))return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformFormatting(t),this.withTargetDOMRange((function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.toggleCurrentAttribute(t)}))}activateAttributeIfSupported(t,n){var i;if(Gr().includes(t))return(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformFormatting(t),this.withTargetDOMRange((function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.setCurrentAttribute(t,n)}))}deleteInDirection(t){let{recordUndoEntry:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var i;n&&((i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping());const r=()=>{var o;return(o=this.responder)===null||o===void 0?void 0:o.deleteInDirection(t)},s=this.getTargetDOMRange({minLength:this.composing?1:2});return s?this.withTargetDOMRange(s,r):r()}withTargetDOMRange(t,n){var i;return typeof t=="function"&&(n=t,t=this.getTargetDOMRange()),t?(i=this.responder)===null||i===void 0?void 0:i.withTargetDOMRange(t,n.bind(this)):(Ee.reset(),n.call(this))}getTargetDOMRange(){var t,n;let{minLength:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const r=(t=(n=this.event).getTargetRanges)===null||t===void 0?void 0:t.call(n);if(r&&r.length){const s=Lh(r[0]);if(i===0||s.toString().length>=i)return s}}withEvent(t,n){let i;this.event=t;try{i=n.call(this)}finally{this.event=null}return i}}bt(En,"events",{keydown(e){if(ul(e)){var t;const n=Oh(e);(t=this.delegate)!==null&&t!==void 0&&t.inputControllerDidReceiveKeyboardCommand(n)&&e.preventDefault()}else{let n=e.key;e.altKey&&(n+="+Alt"),e.shiftKey&&(n+="+Shift");const i=this.constructor.keys[n];if(i)return this.withEvent(e,i)}},paste(e){var t;let n;const i=(t=e.clipboardData)===null||t===void 0?void 0:t.getData("URL");return Wl(e)?(e.preventDefault(),this.attachFiles(e.clipboardData.files)):_h(e)?(e.preventDefault(),n={type:"text/plain",string:e.clipboardData.getData("text/plain")},(r=this.delegate)===null||r===void 0||r.inputControllerWillPaste(n),(s=this.responder)===null||s===void 0||s.insertString(n.string),this.render(),(o=this.delegate)===null||o===void 0?void 0:o.inputControllerDidPaste(n)):i?(e.preventDefault(),n={type:"text/html",html:this.createLinkHTML(i)},(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(n),(l=this.responder)===null||l===void 0||l.insertHTML(n.html),this.render(),(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(n)):void 0;var r,s,o,a,l,c},beforeinput(e){const t=this.constructor.inputTypes[e.inputType],n=(i=e,!(!/iPhone|iPad/.test(navigator.userAgent)||i.inputType&&i.inputType!=="insertParagraph"));var i;t&&(this.withEvent(e,t),n||this.scheduleRender()),n&&this.render()},input(e){Ee.reset()},dragstart(e){var t,n;(t=this.responder)!==null&&t!==void 0&&t.selectionContainsAttachments()&&(e.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange(),point:Cr(e)})},dragenter(e){wr(e)&&e.preventDefault()},dragover(e){if(this.dragging){e.preventDefault();const n=Cr(e);var t;if(!We(n,this.dragging.point))return this.dragging.point=n,(t=this.responder)===null||t===void 0?void 0:t.setLocationRangeFromPointRange(n)}else wr(e)&&e.preventDefault()},drop(e){var t,n;if(this.dragging)return e.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),(n=this.responder)===null||n===void 0||n.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(wr(e)){var i;e.preventDefault();const r=Cr(e);return(i=this.responder)===null||i===void 0||i.setLocationRangeFromPointRange(r),this.attachFiles(e.dataTransfer.files)}},dragend(){var e;this.dragging&&((e=this.responder)===null||e===void 0||e.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(e){this.composing&&(this.composing=!1,_n.recentAndroid||this.scheduleRender())}}),bt(En,"keys",{ArrowLeft(){var e,t;if((e=this.responder)!==null&&e!==void 0&&e.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},ArrowRight(){var e,t;if((e=this.responder)!==null&&e!==void 0&&e.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},Backspace(){var e,t,n;if((e=this.responder)!==null&&e!==void 0&&e.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.deleteInDirection("backward"),this.render()},Tab(){var e,t;if((e=this.responder)!==null&&e!==void 0&&e.canIncreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.increaseNestingLevel(),this.render()},"Tab+Shift"(){var e,t;if((e=this.responder)!==null&&e!==void 0&&e.canDecreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.decreaseNestingLevel(),this.render()}}),bt(En,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange((function(){var e;this.deleteByDragRange=(e=this.responder)===null||e===void 0?void 0:e.getSelectedRange()}))},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var e;if((e=this.responder)!==null&&e!==void 0&&e.canIncreaseNestingLevel())return this.withTargetDOMRange((function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.increaseNestingLevel()}))},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var e;if((e=this.responder)!==null&&e!==void 0&&e.canDecreaseNestingLevel())return this.withTargetDOMRange((function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.decreaseNestingLevel()}))},formatRemove(){this.withTargetDOMRange((function(){for(const n in(e=this.responder)===null||e===void 0?void 0:e.getCurrentAttributes()){var e,t;(t=this.responder)===null||t===void 0||t.removeCurrentAttribute(n)}}))},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var e;return(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformRedo()},historyUndo(){var e;return(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const e=this.deleteByDragRange;var t;if(e)return this.deleteByDragRange=null,(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),this.withTargetDOMRange((function(){var n;return(n=this.responder)===null||n===void 0?void 0:n.moveTextFromRange(e)}))},insertFromPaste(){const{dataTransfer:e}=this.event,t={dataTransfer:e},n=e.getData("URL"),i=e.getData("text/html");if(n){var r;let l;this.event.preventDefault(),t.type="text/html";const c=e.getData("public.url-name");l=c?Ns(c).trim():n,t.html=this.createLinkHTML(n,l),(r=this.delegate)===null||r===void 0||r.inputControllerWillPaste(t),this.withTargetDOMRange((function(){var u;return(u=this.responder)===null||u===void 0?void 0:u.insertHTML(t.html)})),this.afterRender=()=>{var u;return(u=this.delegate)===null||u===void 0?void 0:u.inputControllerDidPaste(t)}}else if(cl(e)){var s;t.type="text/plain",t.string=e.getData("text/plain"),(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(t),this.withTargetDOMRange((function(){var l;return(l=this.responder)===null||l===void 0?void 0:l.insertString(t.string)})),this.afterRender=()=>{var l;return(l=this.delegate)===null||l===void 0?void 0:l.inputControllerDidPaste(t)}}else if(kh(this.event)){var o;t.type="File",t.file=e.files[0],(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(t),this.withTargetDOMRange((function(){var l;return(l=this.responder)===null||l===void 0?void 0:l.insertFile(t.file)})),this.afterRender=()=>{var l;return(l=this.delegate)===null||l===void 0?void 0:l.inputControllerDidPaste(t)}}else if(i){var a;this.event.preventDefault(),t.type="text/html",t.html=i,(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(t),this.withTargetDOMRange((function(){var l;return(l=this.responder)===null||l===void 0?void 0:l.insertHTML(t.html)})),this.afterRender=()=>{var l;return(l=this.delegate)===null||l===void 0?void 0:l.inputControllerDidPaste(t)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.withTargetDOMRange((function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.insertLineBreak()}))},insertReplacementText(){const e=this.event.dataTransfer.getData("text/plain"),t=this.event.getTargetRanges()[0];this.withTargetDOMRange(t,(()=>{this.insertString(e,{updatePosition:!1})}))},insertText(){var e;return this.insertString(this.event.data||((e=this.event.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const Lh=function(e){const t=document.createRange();return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),t},wr=e=>{var t;return Array.from(((t=e.dataTransfer)===null||t===void 0?void 0:t.types)||[]).includes("Files")},kh=e=>{var t;return((t=e.dataTransfer.files)===null||t===void 0?void 0:t[0])&&!Wl(e)&&!(n=>{let{dataTransfer:i}=n;return i.types.includes("Files")&&i.types.includes("text/html")&&i.getData("text/html").includes("urn:schemas-microsoft-com:office:office")})(e)},Wl=function(e){const t=e.clipboardData;if(t)return Array.from(t.types).filter((n=>n.match(/file/i))).length===t.types.length&&t.files.length>=1},_h=function(e){const t=e.clipboardData;if(t)return t.types.includes("text/plain")&&t.types.length===1},Oh=function(e){const t=[];return e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.push(e.key),t},Cr=e=>({x:e.clientX,y:e.clientY}),es="[data-trix-attribute]",ns="[data-trix-action]",Dh="".concat(es,", ").concat(ns),Pi="[data-trix-dialog]",Ph="".concat(Pi,"[data-trix-active]"),Mh="".concat(Pi," [data-trix-method]"),ha="".concat(Pi," [data-trix-input]"),fa=(e,t)=>(t||(t=Fe(e)),e.querySelector("[data-trix-input][name='".concat(t,"']"))),pa=e=>e.getAttribute("data-trix-action"),Fe=e=>e.getAttribute("data-trix-attribute")||e.getAttribute("data-trix-dialog-attribute");class ql extends st{constructor(t){super(t),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=t,this.attributes={},this.actions={},this.resetDialogInputs(),Z("mousedown",{onElement:this.element,matchingSelector:ns,withCallback:this.didClickActionButton}),Z("mousedown",{onElement:this.element,matchingSelector:es,withCallback:this.didClickAttributeButton}),Z("click",{onElement:this.element,matchingSelector:Dh,preventDefault:!0}),Z("click",{onElement:this.element,matchingSelector:Mh,withCallback:this.didClickDialogButton}),Z("keydown",{onElement:this.element,matchingSelector:ha,withCallback:this.didKeyDownDialogInput})}didClickActionButton(t,n){var i;(i=this.delegate)===null||i===void 0||i.toolbarDidClickButton(),t.preventDefault();const r=pa(n);return this.getDialog(r)?this.toggleDialog(r):(s=this.delegate)===null||s===void 0?void 0:s.toolbarDidInvokeAction(r,n);var s}didClickAttributeButton(t,n){var i;(i=this.delegate)===null||i===void 0||i.toolbarDidClickButton(),t.preventDefault();const r=Fe(n);var s;return this.getDialog(r)?this.toggleDialog(r):(s=this.delegate)===null||s===void 0||s.toolbarDidToggleAttribute(r),this.refreshAttributeButtons()}didClickDialogButton(t,n){const i=ee(n,{matchingSelector:Pi});return this[n.getAttribute("data-trix-method")].call(this,i)}didKeyDownDialogInput(t,n){if(t.keyCode===13){t.preventDefault();const i=n.getAttribute("name"),r=this.getDialog(i);this.setAttribute(r)}if(t.keyCode===27)return t.preventDefault(),this.hideDialog()}updateActions(t){return this.actions=t,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton(((t,n)=>{t.disabled=this.actions[n]===!1}))}eachActionButton(t){return Array.from(this.element.querySelectorAll(ns)).map((n=>t(n,pa(n))))}updateAttributes(t){return this.attributes=t,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton(((t,n)=>(t.disabled=this.attributes[n]===!1,this.attributes[n]||this.dialogIsVisible(n)?(t.setAttribute("data-trix-active",""),t.classList.add("trix-active")):(t.removeAttribute("data-trix-active"),t.classList.remove("trix-active")))))}eachAttributeButton(t){return Array.from(this.element.querySelectorAll(es)).map((n=>t(n,Fe(n))))}applyKeyboardCommand(t){const n=JSON.stringify(t.sort());for(const i of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const r=i.getAttribute("data-trix-key").split("+");if(JSON.stringify(r.sort())===n)return vn("mousedown",{onElement:i}),!0}return!1}dialogIsVisible(t){const n=this.getDialog(t);if(n)return n.hasAttribute("data-trix-active")}toggleDialog(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)}showDialog(t){var n,i;this.hideDialog(),(n=this.delegate)===null||n===void 0||n.toolbarWillShowDialog();const r=this.getDialog(t);r.setAttribute("data-trix-active",""),r.classList.add("trix-active"),Array.from(r.querySelectorAll("input[disabled]")).forEach((o=>{o.removeAttribute("disabled")}));const s=Fe(r);if(s){const o=fa(r,t);o&&(o.value=this.attributes[s]||"",o.select())}return(i=this.delegate)===null||i===void 0?void 0:i.toolbarDidShowDialog(t)}setAttribute(t){var n;const i=Fe(t),r=fa(t,i);return!r.willValidate||(r.setCustomValidity(""),r.checkValidity()&&this.isSafeAttribute(r))?((n=this.delegate)===null||n===void 0||n.toolbarDidUpdateAttribute(i,r.value),this.hideDialog()):(r.setCustomValidity("Invalid value"),r.setAttribute("data-trix-validate",""),r.classList.add("trix-validate"),r.focus())}isSafeAttribute(t){return!t.hasAttribute("data-trix-validate-href")||bi.isValidAttribute("a","href",t.value)}removeAttribute(t){var n;const i=Fe(t);return(n=this.delegate)===null||n===void 0||n.toolbarDidRemoveAttribute(i),this.hideDialog()}hideDialog(){const t=this.element.querySelector(Ph);var n;if(t)return t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"),this.resetDialogInputs(),(n=this.delegate)===null||n===void 0?void 0:n.toolbarDidHideDialog((i=>i.getAttribute("data-trix-dialog"))(t))}resetDialogInputs(){Array.from(this.element.querySelectorAll(ha)).forEach((t=>{t.setAttribute("disabled","disabled"),t.removeAttribute("data-trix-validate"),t.classList.remove("trix-validate")}))}getDialog(t){return this.element.querySelector("[data-trix-dialog=".concat(t,"]"))}}class wn extends jl{constructor(t){let{editorElement:n,document:i,html:r}=t;super(...arguments),this.editorElement=n,this.selectionManager=new ue(this.editorElement),this.selectionManager.delegate=this,this.composition=new Zt,this.composition.delegate=this,this.attachmentManager=new Ll(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=Ds.getLevel()===2?new En(this.editorElement):new $t(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new Bl(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new ql(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new Dl(this.composition,this.selectionManager,this.editorElement),i?this.editor.loadDocument(i):this.editor.loadHTML(r)}registerSelectionManager(){return Ee.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return Ee.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(t){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(t){this.pasting&&(this.pastedRange=t)}compositionShouldAcceptFile(t){return this.notifyEditorElement("file-accept",{file:t})}compositionDidAddAttachment(t){const n=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-add",{attachment:n})}compositionDidEditAttachment(t){this.compositionController.rerenderViewForObject(t);const n=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-edit",{attachment:n}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(t){return this.compositionController.invalidateViewForObject(t),this.notifyEditorElement("change")}compositionDidRemoveAttachment(t){const n=this.attachmentManager.unmanageAttachment(t);return this.notifyEditorElement("attachment-remove",{attachment:n})}compositionDidStartEditingAttachment(t,n){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t,n),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(t){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(t){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(t,n){return this.toolbarController.hideDialog(),this.composition.editAttachment(t,n)}compositionControllerDidRequestDeselectingAttachment(t){const n=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(t);return this.selectionManager.setLocationRange(n[1])}compositionControllerWillUpdateAttachment(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(t){return this.recordFormattingUndoEntry(t)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(t){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:t})}inputControllerDidPaste(t){return t.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:t})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(t){return this.toolbarController.applyKeyboardCommand(t)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(t){return this.selectionManager.setLocationRangeFromPointRange(t)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!mi(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(t,n){return this.invokeAction(t,n)}toolbarDidToggleAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.toggleCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(t,n){if(this.recordFormattingUndoEntry(t),this.composition.setCurrentAttribute(t,n),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.removeCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(t){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(t){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:t})}toolbarDidHideDialog(t){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:t})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(t){return!!this.actionIsExternal(t)||!((n=this.actions[t])===null||n===void 0||(n=n.test)===null||n===void 0||!n.call(this));var n}invokeAction(t,n){return this.actionIsExternal(t)?this.notifyEditorElement("action-invoke",{actionName:t,invokingElement:n}):(i=this.actions[t])===null||i===void 0||(i=i.perform)===null||i===void 0?void 0:i.call(this);var i}actionIsExternal(t){return/^x-./.test(t)}getCurrentActions(){const t={};for(const n in this.actions)t[n]=this.canInvokeAction(n);return t}updateCurrentActions(){const t=this.getCurrentActions();if(!We(t,this.currentActions))return this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let t=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach((r=>{const{document:s,selectedRange:o}=t;t=r.call(this.editor,t)||{},t.document||(t.document=s),t.selectedRange||(t.selectedRange=o)})),n=t,i=this.composition.getSnapshot(),!mi(n.selectedRange,i.selectedRange)||!n.document.isEqualTo(i.document))return this.composition.loadSnapshot(t);var n,i}updateInputElement(){const t=(function(n,i){const r=ch[i];if(r)return r(n);throw new Error("unknown content type: ".concat(i))})(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setFormValue(t)}notifyEditorElement(t,n){switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(t,n)}removeAttachment(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()}recordFormattingUndoEntry(t){const n=rt(t),i=this.selectionManager.getLocationRange();if(n||!Gt(i))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return[this.getLocationContext(),this.getTimeContext(),...Array.from(n)]}getLocationContext(){const t=this.selectionManager.getLocationRange();return Gt(t)?t[0].index:t}getTimeContext(){return Wr.interval>0?Math.floor(new Date().getTime()/Wr.interval):0}isFocused(){var t;return this.editorElement===((t=this.editorElement.ownerDocument)===null||t===void 0?void 0:t.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}bt(wn,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return Ds.pickFiles(this.editor.insertFiles)}}}),wn.proxyMethod("getSelectionManager().setLocationRange"),wn.proxyMethod("getSelectionManager().getLocationRange");var Ih=Object.freeze({__proto__:null,AttachmentEditorController:Fl,CompositionController:Bl,Controller:jl,EditorController:wn,InputController:Di,Level0InputController:$t,Level2InputController:En,ToolbarController:ql}),Nh=Object.freeze({__proto__:null,MutationObserver:Ul,SelectionChangeObserver:hl}),Fh=Object.freeze({__proto__:null,FileVerificationOperation:Vl,ImagePreloadOperation:Cl});ll("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class $l extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=al.getDefaultHTML())}}let Bh=0;const jh=function(e){if(!e.hasAttribute("contenteditable"))return e.setAttribute("contenteditable",""),(function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n.times=1,Z(t,n)})("focus",{onElement:e,withCallback:()=>zh(e)})},zh=function(e){return Uh(e),Vh()},Uh=function(e){var t,n;if((t=(n=document).queryCommandSupported)!==null&&t!==void 0&&t.call(n,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),Z("mscontrolselect",{onElement:e,preventDefault:!0})},Vh=function(e){var t,n;if((t=(n=document).queryCommandSupported)!==null&&t!==void 0&&t.call(n,"DefaultParagraphSeparator")){const{tagName:i}=gt.default;if(["div","p"].includes(i))return document.execCommand("DefaultParagraphSeparator",!1,i)}},ma=_n.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};ll("trix-editor",`%t {
    display: block;
}

%t:empty::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(pe,` figcaption textarea {
    resize: none;
}

%t `).concat(pe,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(pe,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(ma.display,` !important;
    width: `).concat(ma.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));var qt=new WeakMap,un=new WeakSet;class Hh{constructor(t){var n,i;wl(n=this,i=un),i.add(n),Sn(this,qt,{writable:!0,value:void 0}),this.element=t,js(this,qt,t.attachInternals())}connectedCallback(){Jn(this,un,Xn).call(this)}disconnectedCallback(){}get labels(){return G(this,qt).labels}get disabled(){var t;return(t=this.element.inputElement)===null||t===void 0?void 0:t.disabled}set disabled(t){this.element.toggleAttribute("disabled",t)}get required(){return this.element.hasAttribute("required")}set required(t){this.element.toggleAttribute("required",t),Jn(this,un,Xn).call(this)}get validity(){return G(this,qt).validity}get validationMessage(){return G(this,qt).validationMessage}get willValidate(){return G(this,qt).willValidate}setFormValue(t){Jn(this,un,Xn).call(this)}checkValidity(){return G(this,qt).checkValidity()}reportValidity(){return G(this,qt).reportValidity()}setCustomValidity(t){Jn(this,un,Xn).call(this,t)}}function Xn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{required:t,value:n}=this.element,i=t&&!n,r=!!e,s=j("input",{required:t}),o=e||s.validationMessage;G(this,qt).setValidity({valueMissing:i,customError:r},o)}var Tr=new WeakMap,Rr=new WeakMap,Lr=new WeakMap;class Wh{constructor(t){Sn(this,Tr,{writable:!0,value:void 0}),Sn(this,Rr,{writable:!0,value:n=>{n.defaultPrevented||n.target===this.element.form&&this.element.reset()}}),Sn(this,Lr,{writable:!0,value:n=>{if(n.defaultPrevented||this.element.contains(n.target))return;const i=ee(n.target,{matchingSelector:"label"});i&&Array.from(this.labels).includes(i)&&this.element.focus()}}),this.element=t}connectedCallback(){js(this,Tr,(function(t){if(t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby"))return;const n=function(){const i=Array.from(t.labels).map((s=>{if(!s.contains(t))return s.textContent})).filter((s=>s)),r=i.join(" ");return r?t.setAttribute("aria-label",r):t.removeAttribute("aria-label")};return n(),Z("focus",{onElement:t,withCallback:n})})(this.element)),window.addEventListener("reset",G(this,Rr),!1),window.addEventListener("click",G(this,Lr),!1)}disconnectedCallback(){var t;(t=G(this,Tr))===null||t===void 0||t.destroy(),window.removeEventListener("reset",G(this,Rr),!1),window.removeEventListener("click",G(this,Lr),!1)}get labels(){const t=[];this.element.id&&this.element.ownerDocument&&t.push(...Array.from(this.element.ownerDocument.querySelectorAll("label[for='".concat(this.element.id,"']"))||[]));const n=ee(this.element,{matchingSelector:"label"});return n&&[this.element,null].includes(n.control)&&t.push(n),t}get disabled(){return console.warn("This browser does not support the [disabled] attribute for trix-editor elements."),!1}set disabled(t){console.warn("This browser does not support the [disabled] attribute for trix-editor elements.")}get required(){return console.warn("This browser does not support the [required] attribute for trix-editor elements."),!1}set required(t){console.warn("This browser does not support the [required] attribute for trix-editor elements.")}get validity(){return console.warn("This browser does not support the validity property for trix-editor elements."),null}get validationMessage(){return console.warn("This browser does not support the validationMessage property for trix-editor elements."),""}get willValidate(){return console.warn("This browser does not support the willValidate property for trix-editor elements."),!1}setFormValue(t){}checkValidity(){return console.warn("This browser does not support checkValidity() for trix-editor elements."),!0}reportValidity(){return console.warn("This browser does not support reportValidity() for trix-editor elements."),!0}setCustomValidity(t){console.warn("This browser does not support setCustomValidity(validationMessage) for trix-editor elements.")}}var dt=new WeakMap;class yi extends HTMLElement{constructor(){super(),Sn(this,dt,{writable:!0,value:void 0}),js(this,dt,this.constructor.formAssociated?new Hh(this):new Wh(this))}get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++Bh),this.trixId)}get labels(){return G(this,dt).labels}get disabled(){return G(this,dt).disabled}set disabled(t){G(this,dt).disabled=t}get required(){return G(this,dt).required}set required(t){G(this,dt).required=t}get validity(){return G(this,dt).validity}get validationMessage(){return G(this,dt).validationMessage}get willValidate(){return G(this,dt).willValidate}get type(){return this.localName}get toolbarElement(){var t;if(this.hasAttribute("toolbar"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const n="trix-toolbar-".concat(this.trixId);return this.setAttribute("toolbar",n),this.internalToolbar=j("trix-toolbar",{id:n}),this.parentNode.insertBefore(this.internalToolbar,this),this.internalToolbar}}get form(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.form}get inputElement(){var t;if(this.hasAttribute("input"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("input"));if(this.parentNode){const n="trix-input-".concat(this.trixId);this.setAttribute("input",n);const i=j("input",{type:"hidden",id:n});return this.parentNode.insertBefore(i,this.nextElementSibling),i}}get editor(){var t;return(t=this.editorController)===null||t===void 0?void 0:t.editor}get name(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.name}get value(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.value}set value(t){var n;this.defaultValue=t,(n=this.editor)===null||n===void 0||n.loadHTML(this.defaultValue)}attributeChangedCallback(t,n,i){t==="connected"&&this.isConnected&&n!=null&&n!==i&&requestAnimationFrame((()=>this.reconnect()))}notify(t,n){if(this.editorController)return vn("trix-".concat(t),{onElement:this,attributes:n})}setFormValue(t){this.inputElement&&(this.inputElement.value=t,G(this,dt).setFormValue(t))}connectedCallback(){this.hasAttribute("data-trix-internal")||(jh(this),(function(t){t.hasAttribute("role")||t.setAttribute("role","textbox")})(this),this.editorController||(vn("trix-before-initialize",{onElement:this}),this.editorController=new wn({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame((()=>vn("trix-initialize",{onElement:this})))),this.editorController.registerSelectionManager(),G(this,dt).connectedCallback(),this.toggleAttribute("connected",!0),(function(t){!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t&&t.focus()})(this))}disconnectedCallback(){var t;(t=this.editorController)===null||t===void 0||t.unregisterSelectionManager(),G(this,dt).disconnectedCallback(),this.toggleAttribute("connected",!1)}reconnect(){this.removeInternalToolbar(),this.disconnectedCallback(),this.connectedCallback()}removeInternalToolbar(){var t;(t=this.internalToolbar)===null||t===void 0||t.remove(),this.internalToolbar=null}checkValidity(){return G(this,dt).checkValidity()}reportValidity(){return G(this,dt).reportValidity()}setCustomValidity(t){G(this,dt).setCustomValidity(t)}formDisabledCallback(t){this.inputElement&&(this.inputElement.disabled=t),this.toggleAttribute("contenteditable",!t)}formResetCallback(){this.reset()}reset(){this.value=this.defaultValue}}bt(yi,"formAssociated","ElementInternals"in window),bt(yi,"observedAttributes",["connected"]);const is={VERSION:qu,config:On,core:uh,models:Nl,views:mh,controllers:Ih,observers:Nh,operations:Fh,elements:Object.freeze({__proto__:null,TrixEditorElement:yi,TrixToolbarElement:$l}),filters:Object.freeze({__proto__:null,Filter:_l,attachmentGalleryFilter:Ol})};Object.assign(is,Nl),window.Trix=is,setTimeout((function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",$l),customElements.get("trix-editor")||customElements.define("trix-editor",yi)}),0);function Gl(e,t){return function(){return e.apply(t,arguments)}}const{toString:qh}=Object.prototype,{getPrototypeOf:Us}=Object,{iterator:Mi,toStringTag:Kl}=Symbol,Ii=(e=>t=>{const n=qh.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Pt=e=>(e=e.toLowerCase(),t=>Ii(t)===e),Ni=e=>t=>typeof t===e,{isArray:$e}=Array,Ue=Ni("undefined");function Dn(e){return e!==null&&!Ue(e)&&e.constructor!==null&&!Ue(e.constructor)&&St(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Jl=Pt("ArrayBuffer");function $h(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Jl(e.buffer),t}const Gh=Ni("string"),St=Ni("function"),Xl=Ni("number"),Pn=e=>e!==null&&typeof e=="object",Kh=e=>e===!0||e===!1,li=e=>{if(Ii(e)!=="object")return!1;const t=Us(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Kl in e)&&!(Mi in e)},Jh=e=>{if(!Pn(e)||Dn(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Xh=Pt("Date"),Yh=Pt("File"),Zh=Pt("Blob"),Qh=Pt("FileList"),tf=e=>Pn(e)&&St(e.pipe),ef=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||St(e.append)&&((t=Ii(e))==="formdata"||t==="object"&&St(e.toString)&&e.toString()==="[object FormData]"))},nf=Pt("URLSearchParams"),[rf,sf,of,af]=["ReadableStream","Request","Response","Headers"].map(Pt),lf=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Mn(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,r;if(typeof e!="object"&&(e=[e]),$e(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{if(Dn(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(i=0;i<o;i++)a=s[i],t.call(null,e[a],a,e)}}function Yl(e,t){if(Dn(e))return null;t=t.toLowerCase();const n=Object.keys(e);let i=n.length,r;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const he=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zl=e=>!Ue(e)&&e!==he;function rs(){const{caseless:e,skipUndefined:t}=Zl(this)&&this||{},n={},i=(r,s)=>{const o=e&&Yl(n,s)||s;li(n[o])&&li(r)?n[o]=rs(n[o],r):li(r)?n[o]=rs({},r):$e(r)?n[o]=r.slice():(!t||!Ue(r))&&(n[o]=r)};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Mn(arguments[r],i);return n}const cf=(e,t,n,{allOwnKeys:i}={})=>(Mn(t,(r,s)=>{n&&St(r)?e[s]=Gl(r,n):e[s]=r},{allOwnKeys:i}),e),uf=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),df=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},hf=(e,t,n,i)=>{let r,s,o;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)o=r[s],(!i||i(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&Us(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ff=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},pf=e=>{if(!e)return null;if($e(e))return e;let t=e.length;if(!Xl(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},mf=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Us(Uint8Array)),gf=(e,t)=>{const i=(e&&e[Mi]).call(e);let r;for(;(r=i.next())&&!r.done;){const s=r.value;t.call(e,s[0],s[1])}},bf=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},vf=Pt("HTMLFormElement"),yf=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),ga=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),xf=Pt("RegExp"),Ql=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Mn(n,(r,s)=>{let o;(o=t(r,s,e))!==!1&&(i[s]=o||r)}),Object.defineProperties(e,i)},Af=e=>{Ql(e,(t,n)=>{if(St(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(St(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Sf=(e,t)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return $e(e)?i(e):i(String(e).split(t)),n},Ef=()=>{},wf=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Cf(e){return!!(e&&St(e.append)&&e[Kl]==="FormData"&&e[Mi])}const Tf=e=>{const t=new Array(10),n=(i,r)=>{if(Pn(i)){if(t.indexOf(i)>=0)return;if(Dn(i))return i;if(!("toJSON"in i)){t[r]=i;const s=$e(i)?[]:{};return Mn(i,(o,a)=>{const l=n(o,r+1);!Ue(l)&&(s[a]=l)}),t[r]=void 0,s}}return i};return n(e,0)},Rf=Pt("AsyncFunction"),Lf=e=>e&&(Pn(e)||St(e))&&St(e.then)&&St(e.catch),tc=((e,t)=>e?setImmediate:t?((n,i)=>(he.addEventListener("message",({source:r,data:s})=>{r===he&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),he.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",St(he.postMessage)),kf=typeof queueMicrotask<"u"?queueMicrotask.bind(he):typeof process<"u"&&process.nextTick||tc,_f=e=>e!=null&&St(e[Mi]),A={isArray:$e,isArrayBuffer:Jl,isBuffer:Dn,isFormData:ef,isArrayBufferView:$h,isString:Gh,isNumber:Xl,isBoolean:Kh,isObject:Pn,isPlainObject:li,isEmptyObject:Jh,isReadableStream:rf,isRequest:sf,isResponse:of,isHeaders:af,isUndefined:Ue,isDate:Xh,isFile:Yh,isBlob:Zh,isRegExp:xf,isFunction:St,isStream:tf,isURLSearchParams:nf,isTypedArray:mf,isFileList:Qh,forEach:Mn,merge:rs,extend:cf,trim:lf,stripBOM:uf,inherits:df,toFlatObject:hf,kindOf:Ii,kindOfTest:Pt,endsWith:ff,toArray:pf,forEachEntry:gf,matchAll:bf,isHTMLForm:vf,hasOwnProperty:ga,hasOwnProp:ga,reduceDescriptors:Ql,freezeMethods:Af,toObjectSet:Sf,toCamelCase:yf,noop:Ef,toFiniteNumber:wf,findKey:Yl,global:he,isContextDefined:Zl,isSpecCompliantForm:Cf,toJSONObject:Tf,isAsyncFn:Rf,isThenable:Lf,setImmediate:tc,asap:kf,isIterable:_f};function N(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}A.inherits(N,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.status}}});const ec=N.prototype,nc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{nc[e]={value:e}});Object.defineProperties(N,nc);Object.defineProperty(ec,"isAxiosError",{value:!0});N.from=(e,t,n,i,r,s)=>{const o=Object.create(ec);A.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return N.call(o,a,l,n,i,r),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const Of=null;function ss(e){return A.isPlainObject(e)||A.isArray(e)}function ic(e){return A.endsWith(e,"[]")?e.slice(0,-2):e}function ba(e,t,n){return e?e.concat(t).map(function(r,s){return r=ic(r),!n&&s?"["+r+"]":r}).join(n?".":""):t}function Df(e){return A.isArray(e)&&!e.some(ss)}const Pf=A.toFlatObject(A,{},null,function(t){return/^is[A-Z]/.test(t)});function Fi(e,t,n){if(!A.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=A.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!A.isUndefined(b[y])});const i=n.metaTokens,r=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(t);if(!A.isFunction(r))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(A.isDate(p))return p.toISOString();if(A.isBoolean(p))return p.toString();if(!l&&A.isBlob(p))throw new N("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(p)||A.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,y,b){let h=p;if(p&&!b&&typeof p=="object"){if(A.endsWith(y,"{}"))y=i?y:y.slice(0,-2),p=JSON.stringify(p);else if(A.isArray(p)&&Df(p)||(A.isFileList(p)||A.endsWith(y,"[]"))&&(h=A.toArray(p)))return y=ic(y),h.forEach(function(x,S){!(A.isUndefined(x)||x===null)&&t.append(o===!0?ba([y],S,s):o===null?y:y+"[]",c(x))}),!1}return ss(p)?!0:(t.append(ba(b,y,s),c(p)),!1)}const d=[],v=Object.assign(Pf,{defaultVisitor:u,convertValue:c,isVisitable:ss});function f(p,y){if(!A.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(p),A.forEach(p,function(h,g){(!(A.isUndefined(h)||h===null)&&r.call(t,h,A.isString(g)?g.trim():g,y,v))===!0&&f(h,y?y.concat(g):[g])}),d.pop()}}if(!A.isObject(e))throw new TypeError("data must be an object");return f(e),t}function va(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function Vs(e,t){this._pairs=[],e&&Fi(e,this,t)}const rc=Vs.prototype;rc.append=function(t,n){this._pairs.push([t,n])};rc.toString=function(t){const n=t?function(i){return t.call(this,i,va)}:va;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Mf(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function sc(e,t,n){if(!t)return e;const i=n&&n.encode||Mf;A.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(t,n):s=A.isURLSearchParams(t)?t.toString():new Vs(t,n).toString(i),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class ya{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){A.forEach(this.handlers,function(i){i!==null&&t(i)})}}const oc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},If=typeof URLSearchParams<"u"?URLSearchParams:Vs,Nf=typeof FormData<"u"?FormData:null,Ff=typeof Blob<"u"?Blob:null,Bf={isBrowser:!0,classes:{URLSearchParams:If,FormData:Nf,Blob:Ff},protocols:["http","https","file","blob","url","data"]},Hs=typeof window<"u"&&typeof document<"u",os=typeof navigator=="object"&&navigator||void 0,jf=Hs&&(!os||["ReactNative","NativeScript","NS"].indexOf(os.product)<0),zf=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Uf=Hs&&window.location.href||"http://localhost",Vf=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hs,hasStandardBrowserEnv:jf,hasStandardBrowserWebWorkerEnv:zf,navigator:os,origin:Uf},Symbol.toStringTag,{value:"Module"})),ht={...Vf,...Bf};function Hf(e,t){return Fi(e,new ht.classes.URLSearchParams,{visitor:function(n,i,r,s){return ht.isNode&&A.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function Wf(e){return A.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function qf(e){const t={},n=Object.keys(e);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],t[s]=e[s];return t}function ac(e){function t(n,i,r,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&A.isArray(r)?r.length:o,l?(A.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!A.isObject(r[o]))&&(r[o]=[]),t(n,i,r[o],s)&&A.isArray(r[o])&&(r[o]=qf(r[o])),!a)}if(A.isFormData(e)&&A.isFunction(e.entries)){const n={};return A.forEachEntry(e,(i,r)=>{t(Wf(i),r,n,0)}),n}return null}function $f(e,t,n){if(A.isString(e))try{return(t||JSON.parse)(e),A.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const In={transitional:oc,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=A.isObject(t);if(s&&A.isHTMLForm(t)&&(t=new FormData(t)),A.isFormData(t))return r?JSON.stringify(ac(t)):t;if(A.isArrayBuffer(t)||A.isBuffer(t)||A.isStream(t)||A.isFile(t)||A.isBlob(t)||A.isReadableStream(t))return t;if(A.isArrayBufferView(t))return t.buffer;if(A.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Hf(t,this.formSerializer).toString();if((a=A.isFileList(t))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Fi(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),$f(t)):t}],transformResponse:[function(t){const n=this.transitional||In.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(A.isResponse(t)||A.isReadableStream(t))return t;if(t&&A.isString(t)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?N.from(a,N.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ht.classes.FormData,Blob:ht.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],e=>{In.headers[e]={}});const Gf=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kf=e=>{const t={};let n,i,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||t[n]&&Gf[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},xa=Symbol("internals");function dn(e){return e&&String(e).trim().toLowerCase()}function ci(e){return e===!1||e==null?e:A.isArray(e)?e.map(ci):String(e)}function Jf(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const Xf=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function kr(e,t,n,i,r){if(A.isFunction(i))return i.call(this,t,n);if(r&&(t=n),!!A.isString(t)){if(A.isString(i))return t.indexOf(i)!==-1;if(A.isRegExp(i))return i.test(t)}}function Yf(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function Zf(e,t){const n=A.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(r,s,o){return this[i].call(this,t,r,s,o)},configurable:!0})})}let Et=class{constructor(t){t&&this.set(t)}set(t,n,i){const r=this;function s(a,l,c){const u=dn(l);if(!u)throw new Error("header name must be a non-empty string");const d=A.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=ci(a))}const o=(a,l)=>A.forEach(a,(c,u)=>s(c,u,l));if(A.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(A.isString(t)&&(t=t.trim())&&!Xf(t))o(Kf(t),n);else if(A.isObject(t)&&A.isIterable(t)){let a={},l,c;for(const u of t){if(!A.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?A.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else t!=null&&s(n,t,i);return this}get(t,n){if(t=dn(t),t){const i=A.findKey(this,t);if(i){const r=this[i];if(!n)return r;if(n===!0)return Jf(r);if(A.isFunction(n))return n.call(this,r,i);if(A.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=dn(t),t){const i=A.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||kr(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let r=!1;function s(o){if(o=dn(o),o){const a=A.findKey(i,o);a&&(!n||kr(i,i[a],a,n))&&(delete i[a],r=!0)}}return A.isArray(t)?t.forEach(s):s(t),r}clear(t){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!t||kr(this,this[s],s,t,!0))&&(delete this[s],r=!0)}return r}normalize(t){const n=this,i={};return A.forEach(this,(r,s)=>{const o=A.findKey(i,s);if(o){n[o]=ci(r),delete n[s];return}const a=t?Yf(s):String(s).trim();a!==s&&delete n[s],n[a]=ci(r),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return A.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=t&&A.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[xa]=this[xa]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=dn(o);i[a]||(Zf(r,o),i[a]=!0)}return A.isArray(t)?t.forEach(s):s(t),this}};Et.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(Et.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});A.freezeMethods(Et);function _r(e,t){const n=this||In,i=t||n,r=Et.from(i.headers);let s=i.data;return A.forEach(e,function(a){s=a.call(n,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function lc(e){return!!(e&&e.__CANCEL__)}function Ge(e,t,n){N.call(this,e??"canceled",N.ERR_CANCELED,t,n),this.name="CanceledError"}A.inherits(Ge,N,{__CANCEL__:!0});function cc(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new N("Request failed with status code "+n.status,[N.ERR_BAD_REQUEST,N.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Qf(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function tp(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=i[s];o||(o=c),n[r]=l,i[r]=c;let d=s,v=0;for(;d!==r;)v+=n[d++],d=d%e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),c-o<t)return;const f=u&&c-u;return f?Math.round(v*1e3/f):void 0}}function ep(e,t){let n=0,i=1e3/t,r,s;const o=(c,u=Date.now())=>{n=u,r=null,s&&(clearTimeout(s),s=null),e(...c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=i?o(c,u):(r=c,s||(s=setTimeout(()=>{s=null,o(r)},i-d)))},()=>r&&o(r)]}const xi=(e,t,n=3)=>{let i=0;const r=tp(50,250);return ep(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,c=r(l),u=o<=a;i=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},Aa=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},Sa=e=>(...t)=>A.asap(()=>e(...t)),np=ht.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ht.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ht.origin),ht.navigator&&/(msie|trident)/i.test(ht.navigator.userAgent)):()=>!0,ip=ht.hasStandardBrowserEnv?{write(e,t,n,i,r,s){const o=[e+"="+encodeURIComponent(t)];A.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),A.isString(i)&&o.push("path="+i),A.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rp(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function sp(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function uc(e,t,n){let i=!rp(t);return e&&(i||n==!1)?sp(e,t):t}const Ea=e=>e instanceof Et?{...e}:e;function we(e,t){t=t||{};const n={};function i(c,u,d,v){return A.isPlainObject(c)&&A.isPlainObject(u)?A.merge.call({caseless:v},c,u):A.isPlainObject(u)?A.merge({},u):A.isArray(u)?u.slice():u}function r(c,u,d,v){if(A.isUndefined(u)){if(!A.isUndefined(c))return i(void 0,c,d,v)}else return i(c,u,d,v)}function s(c,u){if(!A.isUndefined(u))return i(void 0,u)}function o(c,u){if(A.isUndefined(u)){if(!A.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in t)return i(c,u);if(d in e)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>r(Ea(c),Ea(u),d,!0)};return A.forEach(Object.keys({...e,...t}),function(u){const d=l[u]||r,v=d(e[u],t[u],u);A.isUndefined(v)&&d!==a||(n[u]=v)}),n}const dc=e=>{const t=we({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=t;if(t.headers=o=Et.from(o),t.url=sc(uc(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),A.isFormData(n)){if(ht.hasStandardBrowserEnv||ht.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(A.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&o.set(u,d)})}}if(ht.hasStandardBrowserEnv&&(i&&A.isFunction(i)&&(i=i(t)),i||i!==!1&&np(t.url))){const l=r&&s&&ip.read(s);l&&o.set(r,l)}return t},op=typeof XMLHttpRequest<"u",ap=op&&function(e){return new Promise(function(n,i){const r=dc(e);let s=r.data;const o=Et.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,u,d,v,f,p;function y(){f&&f(),p&&p(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(r.method.toUpperCase(),r.url,!0),b.timeout=r.timeout;function h(){if(!b)return;const x=Et.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:e,request:b};cc(function(k){n(k),y()},function(k){i(k),y()},E),b=null}"onloadend"in b?b.onloadend=h:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(h)},b.onabort=function(){b&&(i(new N("Request aborted",N.ECONNABORTED,e,b)),b=null)},b.onerror=function(S){const E=S&&S.message?S.message:"Network Error",_=new N(E,N.ERR_NETWORK,e,b);_.event=S||null,i(_),b=null},b.ontimeout=function(){let S=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const E=r.transitional||oc;r.timeoutErrorMessage&&(S=r.timeoutErrorMessage),i(new N(S,E.clarifyTimeoutError?N.ETIMEDOUT:N.ECONNABORTED,e,b)),b=null},s===void 0&&o.setContentType(null),"setRequestHeader"in b&&A.forEach(o.toJSON(),function(S,E){b.setRequestHeader(E,S)}),A.isUndefined(r.withCredentials)||(b.withCredentials=!!r.withCredentials),a&&a!=="json"&&(b.responseType=r.responseType),c&&([v,p]=xi(c,!0),b.addEventListener("progress",v)),l&&b.upload&&([d,f]=xi(l),b.upload.addEventListener("progress",d),b.upload.addEventListener("loadend",f)),(r.cancelToken||r.signal)&&(u=x=>{b&&(i(!x||x.type?new Ge(null,e,b):x),b.abort(),b=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const g=Qf(r.url);if(g&&ht.protocols.indexOf(g)===-1){i(new N("Unsupported protocol "+g+":",N.ERR_BAD_REQUEST,e));return}b.send(s||null)})},lp=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,r;const s=function(c){if(!r){r=!0,a();const u=c instanceof Error?c:this.reason;i.abort(u instanceof N?u:new Ge(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,s(new N(`timeout ${t} of ms exceeded`,N.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>A.asap(a),l}},cp=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,r;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},up=async function*(e,t){for await(const n of dp(e))yield*cp(n,t)},dp=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},wa=(e,t,n,i)=>{const r=up(e,t);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await r.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let v=s+=d;n(v)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},Ca=64*1024,{isFunction:Yn}=A,hp=(({Request:e,Response:t})=>({Request:e,Response:t}))(A.global),{ReadableStream:Ta,TextEncoder:Ra}=A.global,La=(e,...t)=>{try{return!!e(...t)}catch{return!1}},fp=e=>{e=A.merge.call({skipUndefined:!0},hp,e);const{fetch:t,Request:n,Response:i}=e,r=t?Yn(t):typeof fetch=="function",s=Yn(n),o=Yn(i);if(!r)return!1;const a=r&&Yn(Ta),l=r&&(typeof Ra=="function"?(p=>y=>p.encode(y))(new Ra):async p=>new Uint8Array(await new n(p).arrayBuffer())),c=s&&a&&La(()=>{let p=!1;const y=new n(ht.origin,{body:new Ta,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!y}),u=o&&a&&La(()=>A.isReadableStream(new i("").body)),d={stream:u&&(p=>p.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(y,b)=>{let h=y&&y[p];if(h)return h.call(y);throw new N(`Response type '${p}' is not supported`,N.ERR_NOT_SUPPORT,b)})});const v=async p=>{if(p==null)return 0;if(A.isBlob(p))return p.size;if(A.isSpecCompliantForm(p))return(await new n(ht.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(A.isArrayBufferView(p)||A.isArrayBuffer(p))return p.byteLength;if(A.isURLSearchParams(p)&&(p=p+""),A.isString(p))return(await l(p)).byteLength},f=async(p,y)=>{const b=A.toFiniteNumber(p.getContentLength());return b??v(y)};return async p=>{let{url:y,method:b,data:h,signal:g,cancelToken:x,timeout:S,onDownloadProgress:E,onUploadProgress:_,responseType:k,headers:w,withCredentials:P="same-origin",fetchOptions:R}=dc(p),L=t||fetch;k=k?(k+"").toLowerCase():"text";let C=lp([g,x&&x.toAbortSignal()],S),M=null;const F=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let K;try{if(_&&c&&b!=="get"&&b!=="head"&&(K=await f(w,h))!==0){let Y=new n(y,{method:"POST",body:h,duplex:"half"}),$;if(A.isFormData(h)&&($=Y.headers.get("content-type"))&&w.setContentType($),Y.body){const[_e,tt]=Aa(K,xi(Sa(_)));h=wa(Y.body,Ca,_e,tt)}}A.isString(P)||(P=P?"include":"omit");const ut=s&&"credentials"in n.prototype,B={...R,signal:C,method:b.toUpperCase(),headers:w.normalize().toJSON(),body:h,duplex:"half",credentials:ut?P:void 0};M=s&&new n(y,B);let D=await(s?L(M,R):L(y,B));const V=u&&(k==="stream"||k==="response");if(u&&(E||V&&F)){const Y={};["status","statusText","headers"].forEach(Qe=>{Y[Qe]=D[Qe]});const $=A.toFiniteNumber(D.headers.get("content-length")),[_e,tt]=E&&Aa($,xi(Sa(E),!0))||[];D=new i(wa(D.body,Ca,_e,()=>{tt&&tt(),F&&F()}),Y)}k=k||"text";let X=await d[A.findKey(d,k)||"text"](D,p);return!V&&F&&F(),await new Promise((Y,$)=>{cc(Y,$,{data:X,headers:Et.from(D.headers),status:D.status,statusText:D.statusText,config:p,request:M})})}catch(ut){throw F&&F(),ut&&ut.name==="TypeError"&&/Load failed|fetch/i.test(ut.message)?Object.assign(new N("Network Error",N.ERR_NETWORK,p,M),{cause:ut.cause||ut}):N.from(ut,ut&&ut.code,p,M)}}},pp=new Map,hc=e=>{let t=e?e.env:{};const{fetch:n,Request:i,Response:r}=t,s=[i,r,n];let o=s.length,a=o,l,c,u=pp;for(;a--;)l=s[a],c=u.get(l),c===void 0&&u.set(l,c=a?new Map:fp(t)),u=c;return c};hc();const as={http:Of,xhr:ap,fetch:{get:hc}};A.forEach(as,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ka=e=>`- ${e}`,mp=e=>A.isFunction(e)||e===null||e===!1,fc={getAdapter:(e,t)=>{e=A.isArray(e)?e:[e];const{length:n}=e;let i,r;const s={};for(let o=0;o<n;o++){i=e[o];let a;if(r=i,!mp(i)&&(r=as[(a=String(i)).toLowerCase()],r===void 0))throw new N(`Unknown adapter '${a}'`);if(r&&(A.isFunction(r)||(r=r.get(t))))break;s[a||"#"+o]=r}if(!r){const o=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(ka).join(`
`):" "+ka(o[0]):"as no adapter specified";throw new N("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:as};function Or(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ge(null,e)}function _a(e){return Or(e),e.headers=Et.from(e.headers),e.data=_r.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),fc.getAdapter(e.adapter||In.adapter,e)(e).then(function(i){return Or(e),i.data=_r.call(e,e.transformResponse,i),i.headers=Et.from(i.headers),i},function(i){return lc(i)||(Or(e),i&&i.response&&(i.response.data=_r.call(e,e.transformResponse,i.response),i.response.headers=Et.from(i.response.headers))),Promise.reject(i)})}const pc="1.12.2",Bi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Bi[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const Oa={};Bi.transitional=function(t,n,i){function r(s,o){return"[Axios v"+pc+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(t===!1)throw new N(r(o," has been removed"+(n?" in "+n:"")),N.ERR_DEPRECATED);return n&&!Oa[o]&&(Oa[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};Bi.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function gp(e,t,n){if(typeof e!="object")throw new N("options must be an object",N.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const s=i[r],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new N("option "+s+" must be "+l,N.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new N("Unknown option "+s,N.ERR_BAD_OPTION)}}const ui={assertOptions:gp,validators:Bi},Ft=ui.validators;let ge=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ya,response:new ya}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=we(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&ui.assertOptions(i,{silentJSONParsing:Ft.transitional(Ft.boolean),forcedJSONParsing:Ft.transitional(Ft.boolean),clarifyTimeoutError:Ft.transitional(Ft.boolean)},!1),r!=null&&(A.isFunction(r)?n.paramsSerializer={serialize:r}:ui.assertOptions(r,{encode:Ft.function,serialize:Ft.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ui.assertOptions(n,{baseUrl:Ft.spelling("baseURL"),withXsrfToken:Ft.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&A.merge(s.common,s[n.method]);s&&A.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=Et.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,d=0,v;if(!l){const p=[_a.bind(this),void 0];for(p.unshift(...a),p.push(...c),v=p.length,u=Promise.resolve(n);d<v;)u=u.then(p[d++],p[d++]);return u}v=a.length;let f=n;for(;d<v;){const p=a[d++],y=a[d++];try{f=p(f)}catch(b){y.call(this,b);break}}try{u=_a.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,v=c.length;d<v;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=we(this.defaults,t);const n=uc(t.baseURL,t.url,t.allowAbsoluteUrls);return sc(n,t.params,t.paramsSerializer)}};A.forEach(["delete","get","head","options"],function(t){ge.prototype[t]=function(n,i){return this.request(we(i||{},{method:t,url:n,data:(i||{}).data}))}});A.forEach(["post","put","patch"],function(t){function n(i){return function(s,o,a){return this.request(we(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ge.prototype[t]=n(),ge.prototype[t+"Form"]=n(!0)});let bp=class mc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},t(function(s,o,a){i.reason||(i.reason=new Ge(s,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new mc(function(r){t=r}),cancel:t}}};function vp(e){return function(n){return e.apply(null,n)}}function yp(e){return A.isObject(e)&&e.isAxiosError===!0}const ls={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ls).forEach(([e,t])=>{ls[t]=e});function gc(e){const t=new ge(e),n=Gl(ge.prototype.request,t);return A.extend(n,ge.prototype,t,{allOwnKeys:!0}),A.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return gc(we(e,r))},n}const et=gc(In);et.Axios=ge;et.CanceledError=Ge;et.CancelToken=bp;et.isCancel=lc;et.VERSION=pc;et.toFormData=Fi;et.AxiosError=N;et.Cancel=et.CanceledError;et.all=function(t){return Promise.all(t)};et.spread=vp;et.isAxiosError=yp;et.mergeConfig=we;et.AxiosHeaders=Et;et.formToJSON=e=>ac(A.isHTMLForm(e)?new FormData(e):e);et.getAdapter=fc.getAdapter;et.HttpStatusCode=ls;et.default=et;const{Axios:lv,AxiosError:cv,CanceledError:uv,isCancel:dv,CancelToken:hv,VERSION:fv,all:pv,Cancel:mv,isAxiosError:gv,spread:bv,toFormData:vv,AxiosHeaders:yv,HttpStatusCode:xv,formToJSON:Av,getAdapter:Sv,mergeConfig:Ev}=et;window.Trix=is;const Da=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");document.addEventListener("trix-attachment-add",async e=>{const t=e.detail.attachment,n=t.file;if(!n)return;const i=new FormData;i.append("attachment",n);try{const s=(await et.post("/admin/attachments",i,{headers:{"Content-Type":"multipart/form-data",...Da?{"X-CSRF-TOKEN":Da}:{}},onUploadProgress:o=>{if(o.total){const a=Math.round(o.loaded/o.total*100);t.setUploadProgress(a)}}})).data.url;t.setAttributes({url:s,href:s})}catch(r){console.error("Attachment upload failed:",r),t.remove()}});window.axios=et;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const Pa=document.head.querySelector('meta[name="csrf-token"]');Pa&&(window.axios.defaults.headers.common["X-CSRF-TOKEN"]=Pa.content);var cs=!1,us=!1,be=[],ds=-1;function xp(e){Ap(e)}function Ap(e){be.includes(e)||be.push(e),Ep()}function Sp(e){let t=be.indexOf(e);t!==-1&&t>ds&&be.splice(t,1)}function Ep(){!us&&!cs&&(cs=!0,queueMicrotask(wp))}function wp(){cs=!1,us=!0;for(let e=0;e<be.length;e++)be[e](),ds=e;be.length=0,ds=-1,us=!1}var Ke,ke,Je,bc,hs=!0;function Cp(e){hs=!1,e(),hs=!0}function Tp(e){Ke=e.reactive,Je=e.release,ke=t=>e.effect(t,{scheduler:n=>{hs?xp(n):n()}}),bc=e.raw}function Ma(e){ke=e}function Rp(e){let t=()=>{};return[i=>{let r=ke(i);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(s=>s())}),e._x_effects.add(r),t=()=>{r!==void 0&&(e._x_effects.delete(r),Je(r))},r},()=>{t()}]}function vc(e,t){let n=!0,i,r=ke(()=>{let s=e();JSON.stringify(s),n?i=s:queueMicrotask(()=>{t(s,i),i=s}),n=!1});return()=>Je(r)}var yc=[],xc=[],Ac=[];function Lp(e){Ac.push(e)}function Ws(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,xc.push(t))}function Sc(e){yc.push(e)}function Ec(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}function wc(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([n,i])=>{(t===void 0||t.includes(n))&&(i.forEach(r=>r()),delete e._x_attributeCleanups[n])})}function kp(e){for(e._x_effects?.forEach(Sp);e._x_cleanups?.length;)e._x_cleanups.pop()()}var qs=new MutationObserver(Js),$s=!1;function Gs(){qs.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),$s=!0}function Cc(){_p(),qs.disconnect(),$s=!1}var hn=[];function _p(){let e=qs.takeRecords();hn.push(()=>e.length>0&&Js(e));let t=hn.length;queueMicrotask(()=>{if(hn.length===t)for(;hn.length>0;)hn.shift()()})}function Q(e){if(!$s)return e();Cc();let t=e();return Gs(),t}var Ks=!1,Ai=[];function Op(){Ks=!0}function Dp(){Ks=!1,Js(Ai),Ai=[]}function Js(e){if(Ks){Ai=Ai.concat(e);return}let t=[],n=new Set,i=new Map,r=new Map;for(let s=0;s<e.length;s++)if(!e[s].target._x_ignoreMutationObserver&&(e[s].type==="childList"&&(e[s].removedNodes.forEach(o=>{o.nodeType===1&&o._x_marker&&n.add(o)}),e[s].addedNodes.forEach(o=>{if(o.nodeType===1){if(n.has(o)){n.delete(o);return}o._x_marker||t.push(o)}})),e[s].type==="attributes")){let o=e[s].target,a=e[s].attributeName,l=e[s].oldValue,c=()=>{i.has(o)||i.set(o,[]),i.get(o).push({name:a,value:o.getAttribute(a)})},u=()=>{r.has(o)||r.set(o,[]),r.get(o).push(a)};o.hasAttribute(a)&&l===null?c():o.hasAttribute(a)?(u(),c()):u()}r.forEach((s,o)=>{wc(o,s)}),i.forEach((s,o)=>{yc.forEach(a=>a(o,s))});for(let s of n)t.some(o=>o.contains(s))||xc.forEach(o=>o(s));for(let s of t)s.isConnected&&Ac.forEach(o=>o(s));t=null,n=null,i=null,r=null}function Tc(e){return Fn(Ve(e))}function Nn(e,t,n){return e._x_dataStack=[t,...Ve(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter(i=>i!==t)}}function Ve(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?Ve(e.host):e.parentNode?Ve(e.parentNode):[]}function Fn(e){return new Proxy({objects:e},Pp)}var Pp={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(t=>Object.keys(t))))},has({objects:e},t){return t==Symbol.unscopables?!1:e.some(n=>Object.prototype.hasOwnProperty.call(n,t)||Reflect.has(n,t))},get({objects:e},t,n){return t=="toJSON"?Mp:Reflect.get(e.find(i=>Reflect.has(i,t))||{},t,n)},set({objects:e},t,n,i){const r=e.find(o=>Object.prototype.hasOwnProperty.call(o,t))||e[e.length-1],s=Object.getOwnPropertyDescriptor(r,t);return s?.set&&s?.get?s.set.call(i,n)||!0:Reflect.set(r,t,n)}};function Mp(){return Reflect.ownKeys(this).reduce((t,n)=>(t[n]=Reflect.get(this,n),t),{})}function Rc(e){let t=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,n=(i,r="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([s,{value:o,enumerable:a}])=>{if(a===!1||o===void 0||typeof o=="object"&&o!==null&&o.__v_skip)return;let l=r===""?s:`${r}.${s}`;typeof o=="object"&&o!==null&&o._x_interceptor?i[s]=o.initialize(e,l,s):t(o)&&o!==i&&!(o instanceof Element)&&n(o,l)})};return n(e)}function Lc(e,t=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(i,r,s){return e(this.initialValue,()=>Ip(i,r),o=>fs(i,r,o),r,s)}};return t(n),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let r=n.initialize.bind(n);n.initialize=(s,o,a)=>{let l=i.initialize(s,o,a);return n.initialValue=l,r(s,o,a)}}else n.initialValue=i;return n}}function Ip(e,t){return t.split(".").reduce((n,i)=>n[i],e)}function fs(e,t,n){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=n;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),fs(e[t[0]],t.slice(1),n)}}var kc={};function Mt(e,t){kc[e]=t}function ps(e,t){let n=Np(t);return Object.entries(kc).forEach(([i,r])=>{Object.defineProperty(e,`$${i}`,{get(){return r(t,n)},enumerable:!1})}),e}function Np(e){let[t,n]=Nc(e),i={interceptor:Lc,...t};return Ws(e,n),i}function Fp(e,t,n,...i){try{return n(...i)}catch(r){kn(r,e,t)}}function kn(...e){return _c(...e)}var _c=jp;function Bp(e){_c=e}function jp(e,t,n=void 0){e=Object.assign(e??{message:"No error message given."},{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}

${n?'Expression: "'+n+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var di=!0;function Oc(e){let t=di;di=!1;let n=e();return di=t,n}function ve(e,t,n={}){let i;return vt(e,t)(r=>i=r,n),i}function vt(...e){return Dc(...e)}var Dc=Pc;function zp(e){Dc=e}function Pc(e,t){let n={};ps(n,e);let i=[n,...Ve(e)],r=typeof t=="function"?Up(i,t):Hp(i,t,e);return Fp.bind(null,e,t,r)}function Up(e,t){return(n=()=>{},{scope:i={},params:r=[],context:s}={})=>{let o=t.apply(Fn([i,...e]),r);Si(n,o)}}var Dr={};function Vp(e,t){if(Dr[e])return Dr[e];let n=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,s=(()=>{try{let o=new n(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`);return Object.defineProperty(o,"name",{value:`[Alpine] ${e}`}),o}catch(o){return kn(o,t,e),Promise.resolve()}})();return Dr[e]=s,s}function Hp(e,t,n){let i=Vp(t,n);return(r=()=>{},{scope:s={},params:o=[],context:a}={})=>{i.result=void 0,i.finished=!1;let l=Fn([s,...e]);if(typeof i=="function"){let c=i.call(a,i,l).catch(u=>kn(u,n,t));i.finished?(Si(r,i.result,l,o,n),i.result=void 0):c.then(u=>{Si(r,u,l,o,n)}).catch(u=>kn(u,n,t)).finally(()=>i.result=void 0)}}}function Si(e,t,n,i,r){if(di&&typeof t=="function"){let s=t.apply(n,i);s instanceof Promise?s.then(o=>Si(e,o,n,i)).catch(o=>kn(o,r,t)):e(s)}else typeof t=="object"&&t instanceof Promise?t.then(s=>e(s)):e(t)}var Xs="x-";function Xe(e=""){return Xs+e}function Wp(e){Xs=e}var Ei={};function ot(e,t){return Ei[e]=t,{before(n){if(!Ei[n]){console.warn(String.raw`Cannot find directive \`${n}\`. \`${e}\` will use the default order of execution`);return}const i=fe.indexOf(n);fe.splice(i>=0?i:fe.indexOf("DEFAULT"),0,e)}}}function qp(e){return Object.keys(Ei).includes(e)}function Ys(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let s=Object.entries(e._x_virtualDirectives).map(([a,l])=>({name:a,value:l})),o=Mc(s);s=s.map(a=>o.find(l=>l.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),t=t.concat(s)}let i={};return t.map(jc((s,o)=>i[s]=o)).filter(Uc).map(Kp(i,n)).sort(Jp).map(s=>Gp(e,s))}function Mc(e){return Array.from(e).map(jc()).filter(t=>!Uc(t))}var ms=!1,bn=new Map,Ic=Symbol();function $p(e){ms=!0;let t=Symbol();Ic=t,bn.set(t,[]);let n=()=>{for(;bn.get(t).length;)bn.get(t).shift()();bn.delete(t)},i=()=>{ms=!1,n()};e(n),i()}function Nc(e){let t=[],n=a=>t.push(a),[i,r]=Rp(e);return t.push(r),[{Alpine:Bn,effect:i,cleanup:n,evaluateLater:vt.bind(vt,e),evaluate:ve.bind(ve,e)},()=>t.forEach(a=>a())]}function Gp(e,t){let n=()=>{},i=Ei[t.type]||n,[r,s]=Nc(e);Ec(e,t.original,s);let o=()=>{e._x_ignore||e._x_ignoreSelf||(i.inline&&i.inline(e,t,r),i=i.bind(i,e,t,r),ms?bn.get(Ic).push(i):i())};return o.runCleanups=s,o}var Fc=(e,t)=>({name:n,value:i})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:i}),Bc=e=>e;function jc(e=()=>{}){return({name:t,value:n})=>{let{name:i,value:r}=zc.reduce((s,o)=>o(s),{name:t,value:n});return i!==t&&e(i,t),{name:i,value:r}}}var zc=[];function Zs(e){zc.push(e)}function Uc({name:e}){return Vc().test(e)}var Vc=()=>new RegExp(`^${Xs}([^:^.]+)\\b`);function Kp(e,t){return({name:n,value:i})=>{let r=n.match(Vc()),s=n.match(/:([a-zA-Z0-9\-_:]+)/),o=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=t||e[n]||n;return{type:r?r[1]:null,value:s?s[1]:null,modifiers:o.map(l=>l.replace(".","")),expression:i,original:a}}}var gs="DEFAULT",fe=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",gs,"teleport"];function Jp(e,t){let n=fe.indexOf(e.type)===-1?gs:e.type,i=fe.indexOf(t.type)===-1?gs:t.type;return fe.indexOf(n)-fe.indexOf(i)}function Cn(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function Ce(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(r=>Ce(r,t));return}let n=!1;if(t(e,()=>n=!0),n)return;let i=e.firstElementChild;for(;i;)Ce(i,t),i=i.nextElementSibling}function Lt(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var Ia=!1;function Xp(){Ia&&Lt("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Ia=!0,document.body||Lt("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Cn(document,"alpine:init"),Cn(document,"alpine:initializing"),Gs(),Lp(t=>Kt(t,Ce)),Ws(t=>Ze(t)),Sc((t,n)=>{Ys(t,n).forEach(i=>i())});let e=t=>!ji(t.parentElement,!0);Array.from(document.querySelectorAll(qc().join(","))).filter(e).forEach(t=>{Kt(t)}),Cn(document,"alpine:initialized"),setTimeout(()=>{tm()})}var Qs=[],Hc=[];function Wc(){return Qs.map(e=>e())}function qc(){return Qs.concat(Hc).map(e=>e())}function $c(e){Qs.push(e)}function Gc(e){Hc.push(e)}function ji(e,t=!1){return Ye(e,n=>{if((t?qc():Wc()).some(r=>n.matches(r)))return!0})}function Ye(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return Ye(e.parentElement,t)}}function Yp(e){return Wc().some(t=>e.matches(t))}var Kc=[];function Zp(e){Kc.push(e)}var Qp=1;function Kt(e,t=Ce,n=()=>{}){Ye(e,i=>i._x_ignore)||$p(()=>{t(e,(i,r)=>{i._x_marker||(n(i,r),Kc.forEach(s=>s(i,r)),Ys(i,i.attributes).forEach(s=>s()),i._x_ignore||(i._x_marker=Qp++),i._x_ignore&&r())})})}function Ze(e,t=Ce){t(e,n=>{kp(n),wc(n),delete n._x_marker})}function tm(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([t,n,i])=>{qp(n)||i.some(r=>{if(document.querySelector(r))return Lt(`found "${r}", but missing ${t} plugin`),!0})})}var bs=[],to=!1;function eo(e=()=>{}){return queueMicrotask(()=>{to||setTimeout(()=>{vs()})}),new Promise(t=>{bs.push(()=>{e(),t()})})}function vs(){for(to=!1;bs.length;)bs.shift()()}function em(){to=!0}function no(e,t){return Array.isArray(t)?Na(e,t.join(" ")):typeof t=="object"&&t!==null?nm(e,t):typeof t=="function"?no(e,t()):Na(e,t)}function Na(e,t){let n=r=>r.split(" ").filter(s=>!e.classList.contains(s)).filter(Boolean),i=r=>(e.classList.add(...r),()=>{e.classList.remove(...r)});return t=t===!0?t="":t||"",i(n(t))}function nm(e,t){let n=a=>a.split(" ").filter(Boolean),i=Object.entries(t).flatMap(([a,l])=>l?n(a):!1).filter(Boolean),r=Object.entries(t).flatMap(([a,l])=>l?!1:n(a)).filter(Boolean),s=[],o=[];return r.forEach(a=>{e.classList.contains(a)&&(e.classList.remove(a),o.push(a))}),i.forEach(a=>{e.classList.contains(a)||(e.classList.add(a),s.push(a))}),()=>{o.forEach(a=>e.classList.add(a)),s.forEach(a=>e.classList.remove(a))}}function zi(e,t){return typeof t=="object"&&t!==null?im(e,t):rm(e,t)}function im(e,t){let n={};return Object.entries(t).forEach(([i,r])=>{n[i]=e.style[i],i.startsWith("--")||(i=sm(i)),e.style.setProperty(i,r)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{zi(e,n)}}function rm(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}function sm(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ys(e,t=()=>{}){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}ot("transition",(e,{value:t,modifiers:n,expression:i},{evaluate:r})=>{typeof i=="function"&&(i=r(i)),i!==!1&&(!i||typeof i=="boolean"?am(e,n,t):om(e,i,t))});function om(e,t,n){Jc(e,no,""),{enter:r=>{e._x_transition.enter.during=r},"enter-start":r=>{e._x_transition.enter.start=r},"enter-end":r=>{e._x_transition.enter.end=r},leave:r=>{e._x_transition.leave.during=r},"leave-start":r=>{e._x_transition.leave.start=r},"leave-end":r=>{e._x_transition.leave.end=r}}[n](t)}function am(e,t,n){Jc(e,zi);let i=!t.includes("in")&&!t.includes("out")&&!n,r=i||t.includes("in")||["enter"].includes(n),s=i||t.includes("out")||["leave"].includes(n);t.includes("in")&&!i&&(t=t.filter((h,g)=>g<t.indexOf("out"))),t.includes("out")&&!i&&(t=t.filter((h,g)=>g>t.indexOf("out")));let o=!t.includes("opacity")&&!t.includes("scale"),a=o||t.includes("opacity"),l=o||t.includes("scale"),c=a?0:1,u=l?fn(t,"scale",95)/100:1,d=fn(t,"delay",0)/1e3,v=fn(t,"origin","center"),f="opacity, transform",p=fn(t,"duration",150)/1e3,y=fn(t,"duration",75)/1e3,b="cubic-bezier(0.4, 0.0, 0.2, 1)";r&&(e._x_transition.enter.during={transformOrigin:v,transitionDelay:`${d}s`,transitionProperty:f,transitionDuration:`${p}s`,transitionTimingFunction:b},e._x_transition.enter.start={opacity:c,transform:`scale(${u})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),s&&(e._x_transition.leave.during={transformOrigin:v,transitionDelay:`${d}s`,transitionProperty:f,transitionDuration:`${y}s`,transitionTimingFunction:b},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:c,transform:`scale(${u})`})}function Jc(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(i=()=>{},r=()=>{}){xs(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,r)},out(i=()=>{},r=()=>{}){xs(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,r)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,i){const r=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let s=()=>r(n);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):s():e._x_transition?e._x_transition.in(n):s();return}e._x_hidePromise=e._x_transition?new Promise((o,a)=>{e._x_transition.out(()=>{},()=>o(i)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let o=Xc(e);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(e)):r(()=>{let a=l=>{let c=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(a)]).then(([u])=>u?.());return delete l._x_hidePromise,delete l._x_hideChildren,c};a(e).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function Xc(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:Xc(t)}function xs(e,t,{during:n,start:i,end:r}={},s=()=>{},o=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(i).length===0&&Object.keys(r).length===0){s(),o();return}let a,l,c;lm(e,{start(){a=t(e,i)},during(){l=t(e,n)},before:s,end(){a(),c=t(e,r)},after:o,cleanup(){l(),c()}})}function lm(e,t){let n,i,r,s=ys(()=>{Q(()=>{n=!0,i||t.before(),r||(t.end(),vs()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:ys(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();s()}),finish:s},Q(()=>{t.start(),t.during()}),em(),requestAnimationFrame(()=>{if(n)return;let o=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),Q(()=>{t.before()}),i=!0,requestAnimationFrame(()=>{n||(Q(()=>{t.end()}),vs(),setTimeout(e._x_transitioning.finish,o+a),r=!0)})})}function fn(e,t,n){if(e.indexOf(t)===-1)return n;const i=e[e.indexOf(t)+1];if(!i||t==="scale"&&isNaN(i))return n;if(t==="duration"||t==="delay"){let r=i.match(/([0-9]+)ms/);if(r)return r[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[i,e[e.indexOf(t)+2]].join(" "):i}var ie=!1;function se(e,t=()=>{}){return(...n)=>ie?t(...n):e(...n)}function cm(e){return(...t)=>ie&&e(...t)}var Yc=[];function Ui(e){Yc.push(e)}function um(e,t){Yc.forEach(n=>n(e,t)),ie=!0,Zc(()=>{Kt(t,(n,i)=>{i(n,()=>{})})}),ie=!1}var As=!1;function dm(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),ie=!0,As=!0,Zc(()=>{hm(t)}),ie=!1,As=!1}function hm(e){let t=!1;Kt(e,(i,r)=>{Ce(i,(s,o)=>{if(t&&Yp(s))return o();t=!0,r(s,o)})})}function Zc(e){let t=ke;Ma((n,i)=>{let r=t(n);return Je(r),()=>{}}),e(),Ma(t)}function Qc(e,t,n,i=[]){switch(e._x_bindings||(e._x_bindings=Ke({})),e._x_bindings[t]=n,t=i.includes("camel")?xm(t):t,t){case"value":fm(e,n);break;case"style":mm(e,n);break;case"class":pm(e,n);break;case"selected":case"checked":gm(e,t,n);break;default:tu(e,t,n);break}}function fm(e,t){if(iu(e))e.attributes.value===void 0&&(e.value=t),window.fromModel&&(typeof t=="boolean"?e.checked=hi(e.value)===t:e.checked=Fa(e.value,t));else if(io(e))Number.isInteger(t)?e.value=t:!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(n=>Fa(n,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")ym(e,t);else{if(e.value===t)return;e.value=t===void 0?"":t}}function pm(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=no(e,t)}function mm(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=zi(e,t)}function gm(e,t,n){tu(e,t,n),vm(e,t,n)}function tu(e,t,n){[null,void 0,!1].includes(n)&&Sm(t)?e.removeAttribute(t):(eu(t)&&(n=t),bm(e,t,n))}function bm(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}function vm(e,t,n){e[t]!==n&&(e[t]=n)}function ym(e,t){const n=[].concat(t).map(i=>i+"");Array.from(e.options).forEach(i=>{i.selected=n.includes(i.value)})}function xm(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function Fa(e,t){return e==t}function hi(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?!!e:null}var Am=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function eu(e){return Am.has(e)}function Sm(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function Em(e,t,n){return e._x_bindings&&e._x_bindings[t]!==void 0?e._x_bindings[t]:nu(e,t,n)}function wm(e,t,n,i=!0){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];if(e._x_inlineBindings&&e._x_inlineBindings[t]!==void 0){let r=e._x_inlineBindings[t];return r.extract=i,Oc(()=>ve(e,r.expression))}return nu(e,t,n)}function nu(e,t,n){let i=e.getAttribute(t);return i===null?typeof n=="function"?n():n:i===""?!0:eu(t)?!![t,"true"].includes(i):i}function io(e){return e.type==="checkbox"||e.localName==="ui-checkbox"||e.localName==="ui-switch"}function iu(e){return e.type==="radio"||e.localName==="ui-radio"}function ru(e,t){let n;return function(){const i=this,r=arguments,s=function(){n=null,e.apply(i,r)};clearTimeout(n),n=setTimeout(s,t)}}function su(e,t){let n;return function(){let i=this,r=arguments;n||(e.apply(i,r),n=!0,setTimeout(()=>n=!1,t))}}function ou({get:e,set:t},{get:n,set:i}){let r=!0,s,o=ke(()=>{let a=e(),l=n();if(r)i(Pr(a)),r=!1;else{let c=JSON.stringify(a),u=JSON.stringify(l);c!==s?i(Pr(a)):c!==u&&t(Pr(l))}s=JSON.stringify(e()),JSON.stringify(n())});return()=>{Je(o)}}function Pr(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function Cm(e){(Array.isArray(e)?e:[e]).forEach(n=>n(Bn))}var ce={},Ba=!1;function Tm(e,t){if(Ba||(ce=Ke(ce),Ba=!0),t===void 0)return ce[e];ce[e]=t,Rc(ce[e]),typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&ce[e].init()}function Rm(){return ce}var au={};function Lm(e,t){let n=typeof t!="function"?()=>t:t;return e instanceof Element?lu(e,n()):(au[e]=n,()=>{})}function km(e){return Object.entries(au).forEach(([t,n])=>{Object.defineProperty(e,t,{get(){return(...i)=>n(...i)}})}),e}function lu(e,t,n){let i=[];for(;i.length;)i.pop()();let r=Object.entries(t).map(([o,a])=>({name:o,value:a})),s=Mc(r);return r=r.map(o=>s.find(a=>a.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),Ys(e,r,n).map(o=>{i.push(o.runCleanups),o()}),()=>{for(;i.length;)i.pop()()}}var cu={};function _m(e,t){cu[e]=t}function Om(e,t){return Object.entries(cu).forEach(([n,i])=>{Object.defineProperty(e,n,{get(){return(...r)=>i.bind(t)(...r)},enumerable:!1})}),e}var Dm={get reactive(){return Ke},get release(){return Je},get effect(){return ke},get raw(){return bc},version:"3.15.2",flushAndStopDeferringMutations:Dp,dontAutoEvaluateFunctions:Oc,disableEffectScheduling:Cp,startObservingMutations:Gs,stopObservingMutations:Cc,setReactivityEngine:Tp,onAttributeRemoved:Ec,onAttributesAdded:Sc,closestDataStack:Ve,skipDuringClone:se,onlyDuringClone:cm,addRootSelector:$c,addInitSelector:Gc,setErrorHandler:Bp,interceptClone:Ui,addScopeToNode:Nn,deferMutations:Op,mapAttributes:Zs,evaluateLater:vt,interceptInit:Zp,setEvaluator:zp,mergeProxies:Fn,extractProp:wm,findClosest:Ye,onElRemoved:Ws,closestRoot:ji,destroyTree:Ze,interceptor:Lc,transition:xs,setStyles:zi,mutateDom:Q,directive:ot,entangle:ou,throttle:su,debounce:ru,evaluate:ve,initTree:Kt,nextTick:eo,prefixed:Xe,prefix:Wp,plugin:Cm,magic:Mt,store:Tm,start:Xp,clone:dm,cloneNode:um,bound:Em,$data:Tc,watch:vc,walk:Ce,data:_m,bind:Lm},Bn=Dm;function Pm(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return r=>!!n[r]}var Mm=Object.freeze({}),Im=Object.prototype.hasOwnProperty,Vi=(e,t)=>Im.call(e,t),ye=Array.isArray,Tn=e=>uu(e)==="[object Map]",Nm=e=>typeof e=="string",ro=e=>typeof e=="symbol",Hi=e=>e!==null&&typeof e=="object",Fm=Object.prototype.toString,uu=e=>Fm.call(e),du=e=>uu(e).slice(8,-1),so=e=>Nm(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Bm=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},jm=Bm(e=>e.charAt(0).toUpperCase()+e.slice(1)),hu=(e,t)=>e!==t&&(e===e||t===t),Ss=new WeakMap,pn=[],Bt,xe=Symbol("iterate"),Es=Symbol("Map key iterate");function zm(e){return e&&e._isEffect===!0}function Um(e,t=Mm){zm(e)&&(e=e.raw);const n=Wm(e,t);return t.lazy||n(),n}function Vm(e){e.active&&(fu(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var Hm=0;function Wm(e,t){const n=function(){if(!n.active)return e();if(!pn.includes(n)){fu(n);try{return $m(),pn.push(n),Bt=n,e()}finally{pn.pop(),pu(),Bt=pn[pn.length-1]}}};return n.id=Hm++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function fu(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var He=!0,oo=[];function qm(){oo.push(He),He=!1}function $m(){oo.push(He),He=!0}function pu(){const e=oo.pop();He=e===void 0?!0:e}function Dt(e,t,n){if(!He||Bt===void 0)return;let i=Ss.get(e);i||Ss.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=new Set),r.has(Bt)||(r.add(Bt),Bt.deps.push(r),Bt.options.onTrack&&Bt.options.onTrack({effect:Bt,target:e,type:t,key:n}))}function re(e,t,n,i,r,s){const o=Ss.get(e);if(!o)return;const a=new Set,l=u=>{u&&u.forEach(d=>{(d!==Bt||d.allowRecurse)&&a.add(d)})};if(t==="clear")o.forEach(l);else if(n==="length"&&ye(e))o.forEach((u,d)=>{(d==="length"||d>=i)&&l(u)});else switch(n!==void 0&&l(o.get(n)),t){case"add":ye(e)?so(n)&&l(o.get("length")):(l(o.get(xe)),Tn(e)&&l(o.get(Es)));break;case"delete":ye(e)||(l(o.get(xe)),Tn(e)&&l(o.get(Es)));break;case"set":Tn(e)&&l(o.get(xe));break}const c=u=>{u.options.onTrigger&&u.options.onTrigger({effect:u,target:e,key:n,type:t,newValue:i,oldValue:r,oldTarget:s}),u.options.scheduler?u.options.scheduler(u):u()};a.forEach(c)}var Gm=Pm("__proto__,__v_isRef,__isVue"),mu=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(ro)),Km=gu(),Jm=gu(!0),ja=Xm();function Xm(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=J(this);for(let s=0,o=this.length;s<o;s++)Dt(i,"get",s+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(J)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){qm();const i=J(this)[t].apply(this,n);return pu(),i}}),e}function gu(e=!1,t=!1){return function(i,r,s){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_raw"&&s===(e?t?ug:xu:t?cg:yu).get(i))return i;const o=ye(i);if(!e&&o&&Vi(ja,r))return Reflect.get(ja,r,s);const a=Reflect.get(i,r,s);return(ro(r)?mu.has(r):Gm(r))||(e||Dt(i,"get",r),t)?a:ws(a)?!o||!so(r)?a.value:a:Hi(a)?e?Au(a):uo(a):a}}var Ym=Zm();function Zm(e=!1){return function(n,i,r,s){let o=n[i];if(!e&&(r=J(r),o=J(o),!ye(n)&&ws(o)&&!ws(r)))return o.value=r,!0;const a=ye(n)&&so(i)?Number(i)<n.length:Vi(n,i),l=Reflect.set(n,i,r,s);return n===J(s)&&(a?hu(r,o)&&re(n,"set",i,r,o):re(n,"add",i,r)),l}}function Qm(e,t){const n=Vi(e,t),i=e[t],r=Reflect.deleteProperty(e,t);return r&&n&&re(e,"delete",t,void 0,i),r}function tg(e,t){const n=Reflect.has(e,t);return(!ro(t)||!mu.has(t))&&Dt(e,"has",t),n}function eg(e){return Dt(e,"iterate",ye(e)?"length":xe),Reflect.ownKeys(e)}var ng={get:Km,set:Ym,deleteProperty:Qm,has:tg,ownKeys:eg},ig={get:Jm,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},ao=e=>Hi(e)?uo(e):e,lo=e=>Hi(e)?Au(e):e,co=e=>e,Wi=e=>Reflect.getPrototypeOf(e);function Zn(e,t,n=!1,i=!1){e=e.__v_raw;const r=J(e),s=J(t);t!==s&&!n&&Dt(r,"get",t),!n&&Dt(r,"get",s);const{has:o}=Wi(r),a=i?co:n?lo:ao;if(o.call(r,t))return a(e.get(t));if(o.call(r,s))return a(e.get(s));e!==r&&e.get(t)}function Qn(e,t=!1){const n=this.__v_raw,i=J(n),r=J(e);return e!==r&&!t&&Dt(i,"has",e),!t&&Dt(i,"has",r),e===r?n.has(e):n.has(e)||n.has(r)}function ti(e,t=!1){return e=e.__v_raw,!t&&Dt(J(e),"iterate",xe),Reflect.get(e,"size",e)}function za(e){e=J(e);const t=J(this);return Wi(t).has.call(t,e)||(t.add(e),re(t,"add",e,e)),this}function Ua(e,t){t=J(t);const n=J(this),{has:i,get:r}=Wi(n);let s=i.call(n,e);s?vu(n,i,e):(e=J(e),s=i.call(n,e));const o=r.call(n,e);return n.set(e,t),s?hu(t,o)&&re(n,"set",e,t,o):re(n,"add",e,t),this}function Va(e){const t=J(this),{has:n,get:i}=Wi(t);let r=n.call(t,e);r?vu(t,n,e):(e=J(e),r=n.call(t,e));const s=i?i.call(t,e):void 0,o=t.delete(e);return r&&re(t,"delete",e,void 0,s),o}function Ha(){const e=J(this),t=e.size!==0,n=Tn(e)?new Map(e):new Set(e),i=e.clear();return t&&re(e,"clear",void 0,void 0,n),i}function ei(e,t){return function(i,r){const s=this,o=s.__v_raw,a=J(o),l=t?co:e?lo:ao;return!e&&Dt(a,"iterate",xe),o.forEach((c,u)=>i.call(r,l(c),l(u),s))}}function ni(e,t,n){return function(...i){const r=this.__v_raw,s=J(r),o=Tn(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=r[e](...i),u=n?co:t?lo:ao;return!t&&Dt(s,"iterate",l?Es:xe),{next(){const{value:d,done:v}=c.next();return v?{value:d,done:v}:{value:a?[u(d[0]),u(d[1])]:u(d),done:v}},[Symbol.iterator](){return this}}}}function Xt(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${jm(e)} operation ${n}failed: target is readonly.`,J(this))}return e==="delete"?!1:this}}function rg(){const e={get(s){return Zn(this,s)},get size(){return ti(this)},has:Qn,add:za,set:Ua,delete:Va,clear:Ha,forEach:ei(!1,!1)},t={get(s){return Zn(this,s,!1,!0)},get size(){return ti(this)},has:Qn,add:za,set:Ua,delete:Va,clear:Ha,forEach:ei(!1,!0)},n={get(s){return Zn(this,s,!0)},get size(){return ti(this,!0)},has(s){return Qn.call(this,s,!0)},add:Xt("add"),set:Xt("set"),delete:Xt("delete"),clear:Xt("clear"),forEach:ei(!0,!1)},i={get(s){return Zn(this,s,!0,!0)},get size(){return ti(this,!0)},has(s){return Qn.call(this,s,!0)},add:Xt("add"),set:Xt("set"),delete:Xt("delete"),clear:Xt("clear"),forEach:ei(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=ni(s,!1,!1),n[s]=ni(s,!0,!1),t[s]=ni(s,!1,!0),i[s]=ni(s,!0,!0)}),[e,n,t,i]}var[sg,og]=rg();function bu(e,t){const n=e?og:sg;return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Vi(n,r)&&r in i?n:i,r,s)}var ag={get:bu(!1)},lg={get:bu(!0)};function vu(e,t,n){const i=J(n);if(i!==n&&t.call(e,i)){const r=du(e);console.warn(`Reactive ${r} contains both the raw and reactive versions of the same object${r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var yu=new WeakMap,cg=new WeakMap,xu=new WeakMap,ug=new WeakMap;function dg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hg(e){return e.__v_skip||!Object.isExtensible(e)?0:dg(du(e))}function uo(e){return e&&e.__v_isReadonly?e:Su(e,!1,ng,ag,yu)}function Au(e){return Su(e,!0,ig,lg,xu)}function Su(e,t,n,i,r){if(!Hi(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const o=hg(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return r.set(e,a),a}function J(e){return e&&J(e.__v_raw)||e}function ws(e){return!!(e&&e.__v_isRef===!0)}Mt("nextTick",()=>eo);Mt("dispatch",e=>Cn.bind(Cn,e));Mt("watch",(e,{evaluateLater:t,cleanup:n})=>(i,r)=>{let s=t(i),a=vc(()=>{let l;return s(c=>l=c),l},r);n(a)});Mt("store",Rm);Mt("data",e=>Tc(e));Mt("root",e=>ji(e));Mt("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=Fn(fg(e))),e._x_refs_proxy));function fg(e){let t=[];return Ye(e,n=>{n._x_refs&&t.push(n._x_refs)}),t}var Mr={};function Eu(e){return Mr[e]||(Mr[e]=0),++Mr[e]}function pg(e,t){return Ye(e,n=>{if(n._x_ids&&n._x_ids[t])return!0})}function mg(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=Eu(t))}Mt("id",(e,{cleanup:t})=>(n,i=null)=>{let r=`${n}${i?`-${i}`:""}`;return gg(e,r,t,()=>{let s=pg(e,n),o=s?s._x_ids[n]:Eu(n);return i?`${n}-${o}-${i}`:`${n}-${o}`})});Ui((e,t)=>{e._x_id&&(t._x_id=e._x_id)});function gg(e,t,n,i){if(e._x_id||(e._x_id={}),e._x_id[t])return e._x_id[t];let r=i();return e._x_id[t]=r,n(()=>{delete e._x_id[t]}),r}Mt("el",e=>e);wu("Focus","focus","focus");wu("Persist","persist","persist");function wu(e,t,n){Mt(t,i=>Lt(`You can't use [$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,i))}ot("modelable",(e,{expression:t},{effect:n,evaluateLater:i,cleanup:r})=>{let s=i(t),o=()=>{let u;return s(d=>u=d),u},a=i(`${t} = __placeholder`),l=u=>a(()=>{},{scope:{__placeholder:u}}),c=o();l(c),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let u=e._x_model.get,d=e._x_model.set,v=ou({get(){return u()},set(f){d(f)}},{get(){return o()},set(f){l(f)}});r(v)})});ot("teleport",(e,{modifiers:t,expression:n},{cleanup:i})=>{e.tagName.toLowerCase()!=="template"&&Lt("x-teleport can only be used on a <template> tag",e);let r=Wa(n),s=e.content.cloneNode(!0).firstElementChild;e._x_teleport=s,s._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),s.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(a=>{s.addEventListener(a,l=>{l.stopPropagation(),e.dispatchEvent(new l.constructor(l.type,l))})}),Nn(s,{},e);let o=(a,l,c)=>{c.includes("prepend")?l.parentNode.insertBefore(a,l):c.includes("append")?l.parentNode.insertBefore(a,l.nextSibling):l.appendChild(a)};Q(()=>{o(s,r,t),se(()=>{Kt(s)})()}),e._x_teleportPutBack=()=>{let a=Wa(n);Q(()=>{o(e._x_teleport,a,t)})},i(()=>Q(()=>{s.remove(),Ze(s)}))});var bg=document.createElement("div");function Wa(e){let t=se(()=>document.querySelector(e),()=>bg)();return t||Lt(`Cannot find x-teleport element for selector: "${e}"`),t}var Cu=()=>{};Cu.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};ot("ignore",Cu);ot("effect",se((e,{expression:t},{effect:n})=>{n(vt(e,t))}));function Cs(e,t,n,i){let r=e,s=l=>i(l),o={},a=(l,c)=>u=>c(l,u);if(n.includes("dot")&&(t=vg(t)),n.includes("camel")&&(t=yg(t)),n.includes("passive")&&(o.passive=!0),n.includes("capture")&&(o.capture=!0),n.includes("window")&&(r=window),n.includes("document")&&(r=document),n.includes("debounce")){let l=n[n.indexOf("debounce")+1]||"invalid-wait",c=wi(l.split("ms")[0])?Number(l.split("ms")[0]):250;s=ru(s,c)}if(n.includes("throttle")){let l=n[n.indexOf("throttle")+1]||"invalid-wait",c=wi(l.split("ms")[0])?Number(l.split("ms")[0]):250;s=su(s,c)}return n.includes("prevent")&&(s=a(s,(l,c)=>{c.preventDefault(),l(c)})),n.includes("stop")&&(s=a(s,(l,c)=>{c.stopPropagation(),l(c)})),n.includes("once")&&(s=a(s,(l,c)=>{l(c),r.removeEventListener(t,s,o)})),(n.includes("away")||n.includes("outside"))&&(r=document,s=a(s,(l,c)=>{e.contains(c.target)||c.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&l(c))})),n.includes("self")&&(s=a(s,(l,c)=>{c.target===e&&l(c)})),(Ag(t)||Tu(t))&&(s=a(s,(l,c)=>{Sg(c,n)||l(c)})),r.addEventListener(t,s,o),()=>{r.removeEventListener(t,s,o)}}function vg(e){return e.replace(/-/g,".")}function yg(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function wi(e){return!Array.isArray(e)&&!isNaN(e)}function xg(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Ag(e){return["keydown","keyup"].includes(e)}function Tu(e){return["contextmenu","click","mouse"].some(t=>e.includes(t))}function Sg(e,t){let n=t.filter(s=>!["window","document","prevent","stop","once","capture","self","away","outside","passive","preserve-scroll"].includes(s));if(n.includes("debounce")){let s=n.indexOf("debounce");n.splice(s,wi((n[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let s=n.indexOf("throttle");n.splice(s,wi((n[s+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&qa(e.key).includes(n[0]))return!1;const r=["ctrl","shift","alt","meta","cmd","super"].filter(s=>n.includes(s));return n=n.filter(s=>!r.includes(s)),!(r.length>0&&r.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),e[`${o}Key`])).length===r.length&&(Tu(e.type)||qa(e.key).includes(n[0])))}function qa(e){if(!e)return[];e=xg(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map(n=>{if(t[n]===e)return n}).filter(n=>n)}ot("model",(e,{modifiers:t,expression:n},{effect:i,cleanup:r})=>{let s=e;t.includes("parent")&&(s=e.parentNode);let o=vt(s,n),a;typeof n=="string"?a=vt(s,`${n} = __placeholder`):typeof n=="function"&&typeof n()=="string"?a=vt(s,`${n()} = __placeholder`):a=()=>{};let l=()=>{let v;return o(f=>v=f),$a(v)?v.get():v},c=v=>{let f;o(p=>f=p),$a(f)?f.set(v):a(()=>{},{scope:{__placeholder:v}})};typeof n=="string"&&e.type==="radio"&&Q(()=>{e.hasAttribute("name")||e.setAttribute("name",n)});let u=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input",d=ie?()=>{}:Cs(e,u,t,v=>{c(Ir(e,t,v,l()))});if(t.includes("fill")&&([void 0,null,""].includes(l())||io(e)&&Array.isArray(l())||e.tagName.toLowerCase()==="select"&&e.multiple)&&c(Ir(e,t,{target:e},l())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=d,r(()=>e._x_removeModelListeners.default()),e.form){let v=Cs(e.form,"reset",[],f=>{eo(()=>e._x_model&&e._x_model.set(Ir(e,t,{target:e},l())))});r(()=>v())}e._x_model={get(){return l()},set(v){c(v)}},e._x_forceModelUpdate=v=>{v===void 0&&typeof n=="string"&&n.match(/\./)&&(v=""),window.fromModel=!0,Q(()=>Qc(e,"value",v)),delete window.fromModel},i(()=>{let v=l();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(v)})});function Ir(e,t,n,i){return Q(()=>{if(n instanceof CustomEvent&&n.detail!==void 0)return n.detail!==null&&n.detail!==void 0?n.detail:n.target.value;if(io(e))if(Array.isArray(i)){let r=null;return t.includes("number")?r=Nr(n.target.value):t.includes("boolean")?r=hi(n.target.value):r=n.target.value,n.target.checked?i.includes(r)?i:i.concat([r]):i.filter(s=>!Eg(s,r))}else return n.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map(r=>{let s=r.value||r.text;return Nr(s)}):t.includes("boolean")?Array.from(n.target.selectedOptions).map(r=>{let s=r.value||r.text;return hi(s)}):Array.from(n.target.selectedOptions).map(r=>r.value||r.text);{let r;return iu(e)?n.target.checked?r=n.target.value:r=i:r=n.target.value,t.includes("number")?Nr(r):t.includes("boolean")?hi(r):t.includes("trim")?r.trim():r}}})}function Nr(e){let t=e?parseFloat(e):null;return wg(t)?t:e}function Eg(e,t){return e==t}function wg(e){return!Array.isArray(e)&&!isNaN(e)}function $a(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}ot("cloak",e=>queueMicrotask(()=>Q(()=>e.removeAttribute(Xe("cloak")))));Gc(()=>`[${Xe("init")}]`);ot("init",se((e,{expression:t},{evaluate:n})=>typeof t=="string"?!!t.trim()&&n(t,{},!1):n(t,{},!1)));ot("text",(e,{expression:t},{effect:n,evaluateLater:i})=>{let r=i(t);n(()=>{r(s=>{Q(()=>{e.textContent=s})})})});ot("html",(e,{expression:t},{effect:n,evaluateLater:i})=>{let r=i(t);n(()=>{r(s=>{Q(()=>{e.innerHTML=s,e._x_ignoreSelf=!0,Kt(e),delete e._x_ignoreSelf})})})});Zs(Fc(":",Bc(Xe("bind:"))));var Ru=(e,{value:t,modifiers:n,expression:i,original:r},{effect:s,cleanup:o})=>{if(!t){let l={};km(l),vt(e,i)(u=>{lu(e,u,r)},{scope:l});return}if(t==="key")return Cg(e,i);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let a=vt(e,i);s(()=>a(l=>{l===void 0&&typeof i=="string"&&i.match(/\./)&&(l=""),Q(()=>Qc(e,t,l,n))})),o(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};Ru.inline=(e,{value:t,modifiers:n,expression:i})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:i,extract:!1})};ot("bind",Ru);function Cg(e,t){e._x_keyExpression=t}$c(()=>`[${Xe("data")}]`);ot("data",(e,{expression:t},{cleanup:n})=>{if(Tg(e))return;t=t===""?"{}":t;let i={};ps(i,e);let r={};Om(r,i);let s=ve(e,t,{scope:r});(s===void 0||s===!0)&&(s={}),ps(s,e);let o=Ke(s);Rc(o);let a=Nn(e,o);o.init&&ve(e,o.init),n(()=>{o.destroy&&ve(e,o.destroy),a()})});Ui((e,t)=>{e._x_dataStack&&(t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0))});function Tg(e){return ie?As?!0:e.hasAttribute("data-has-alpine-state"):!1}ot("show",(e,{modifiers:t,expression:n},{effect:i})=>{let r=vt(e,n);e._x_doHide||(e._x_doHide=()=>{Q(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{Q(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let s=()=>{e._x_doHide(),e._x_isShown=!1},o=()=>{e._x_doShow(),e._x_isShown=!0},a=()=>setTimeout(o),l=ys(d=>d?o():s(),d=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,d,o,s):d?a():s()}),c,u=!0;i(()=>r(d=>{!u&&d===c||(t.includes("immediate")&&(d?a():s()),l(d),c=d,u=!1)}))});ot("for",(e,{expression:t},{effect:n,cleanup:i})=>{let r=Lg(t),s=vt(e,r.items),o=vt(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n(()=>Rg(e,r,s,o)),i(()=>{Object.values(e._x_lookup).forEach(a=>Q(()=>{Ze(a),a.remove()})),delete e._x_prevKeys,delete e._x_lookup})});function Rg(e,t,n,i){let r=o=>typeof o=="object"&&!Array.isArray(o),s=e;n(o=>{kg(o)&&o>=0&&(o=Array.from(Array(o).keys(),b=>b+1)),o===void 0&&(o=[]);let a=e._x_lookup,l=e._x_prevKeys,c=[],u=[];if(r(o))o=Object.entries(o).map(([b,h])=>{let g=Ga(t,h,b,o);i(x=>{u.includes(x)&&Lt("Duplicate key on x-for",e),u.push(x)},{scope:{index:b,...g}}),c.push(g)});else for(let b=0;b<o.length;b++){let h=Ga(t,o[b],b,o);i(g=>{u.includes(g)&&Lt("Duplicate key on x-for",e),u.push(g)},{scope:{index:b,...h}}),c.push(h)}let d=[],v=[],f=[],p=[];for(let b=0;b<l.length;b++){let h=l[b];u.indexOf(h)===-1&&f.push(h)}l=l.filter(b=>!f.includes(b));let y="template";for(let b=0;b<u.length;b++){let h=u[b],g=l.indexOf(h);if(g===-1)l.splice(b,0,h),d.push([y,b]);else if(g!==b){let x=l.splice(b,1)[0],S=l.splice(g-1,1)[0];l.splice(b,0,S),l.splice(g,0,x),v.push([x,S])}else p.push(h);y=h}for(let b=0;b<f.length;b++){let h=f[b];h in a&&(Q(()=>{Ze(a[h]),a[h].remove()}),delete a[h])}for(let b=0;b<v.length;b++){let[h,g]=v[b],x=a[h],S=a[g],E=document.createElement("div");Q(()=>{S||Lt('x-for ":key" is undefined or invalid',s,g,a),S.after(E),x.after(S),S._x_currentIfEl&&S.after(S._x_currentIfEl),E.before(x),x._x_currentIfEl&&x.after(x._x_currentIfEl),E.remove()}),S._x_refreshXForScope(c[u.indexOf(g)])}for(let b=0;b<d.length;b++){let[h,g]=d[b],x=h==="template"?s:a[h];x._x_currentIfEl&&(x=x._x_currentIfEl);let S=c[g],E=u[g],_=document.importNode(s.content,!0).firstElementChild,k=Ke(S);Nn(_,k,s),_._x_refreshXForScope=w=>{Object.entries(w).forEach(([P,R])=>{k[P]=R})},Q(()=>{x.after(_),se(()=>Kt(_))()}),typeof E=="object"&&Lt("x-for key cannot be an object, it must be a string or an integer",s),a[E]=_}for(let b=0;b<p.length;b++)a[p[b]]._x_refreshXForScope(c[u.indexOf(p[b])]);s._x_prevKeys=u})}function Lg(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,r=e.match(i);if(!r)return;let s={};s.items=r[2].trim();let o=r[1].replace(n,"").trim(),a=o.match(t);return a?(s.item=o.replace(t,"").trim(),s.index=a[1].trim(),a[2]&&(s.collection=a[2].trim())):s.item=o,s}function Ga(e,t,n,i){let r={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,a)=>{r[o]=t[a]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{r[o]=t[o]}):r[e.item]=t,e.index&&(r[e.index]=n),e.collection&&(r[e.collection]=i),r}function kg(e){return!Array.isArray(e)&&!isNaN(e)}function Lu(){}Lu.inline=(e,{expression:t},{cleanup:n})=>{let i=ji(e);i._x_refs||(i._x_refs={}),i._x_refs[t]=e,n(()=>delete i._x_refs[t])};ot("ref",Lu);ot("if",(e,{expression:t},{effect:n,cleanup:i})=>{e.tagName.toLowerCase()!=="template"&&Lt("x-if can only be used on a <template> tag",e);let r=vt(e,t),s=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let a=e.content.cloneNode(!0).firstElementChild;return Nn(a,{},e),Q(()=>{e.after(a),se(()=>Kt(a))()}),e._x_currentIfEl=a,e._x_undoIf=()=>{Q(()=>{Ze(a),a.remove()}),delete e._x_currentIfEl},a},o=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};n(()=>r(a=>{a?s():o()})),i(()=>e._x_undoIf&&e._x_undoIf())});ot("id",(e,{expression:t},{evaluate:n})=>{n(t).forEach(r=>mg(e,r))});Ui((e,t)=>{e._x_ids&&(t._x_ids=e._x_ids)});Zs(Fc("@",Bc(Xe("on:"))));ot("on",se((e,{value:t,modifiers:n,expression:i},{cleanup:r})=>{let s=i?vt(e,i):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let o=Cs(e,t,n,a=>{s(()=>{},{scope:{$event:a},params:[a]})});r(()=>o())}));qi("Collapse","collapse","collapse");qi("Intersect","intersect","intersect");qi("Focus","trap","focus");qi("Mask","mask","mask");function qi(e,t,n){ot(t,i=>Lt(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,i))}Bn.setEvaluator(Pc);Bn.setReactivityEngine({reactive:uo,effect:Um,release:Vm,raw:J});var _g=Bn,ho=_g;function Og(e){e.directive("collapse",t),t.inline=(n,{modifiers:i})=>{i.includes("min")&&(n._x_doShow=()=>{},n._x_doHide=()=>{})};function t(n,{modifiers:i}){let r=Ka(i,"duration",250)/1e3,s=Ka(i,"min",0),o=!i.includes("min");n._x_isShown||(n.style.height=`${s}px`),!n._x_isShown&&o&&(n.hidden=!0),n._x_isShown||(n.style.overflow="hidden");let a=(c,u)=>{let d=e.setStyles(c,u);return u.height?()=>{}:d},l={transitionProperty:"height",transitionDuration:`${r}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};n._x_transition={in(c=()=>{},u=()=>{}){o&&(n.hidden=!1),o&&(n.style.display=null);let d=n.getBoundingClientRect().height;n.style.height="auto";let v=n.getBoundingClientRect().height;d===v&&(d=s),e.transition(n,e.setStyles,{during:l,start:{height:d+"px"},end:{height:v+"px"}},()=>n._x_isShown=!0,()=>{Math.abs(n.getBoundingClientRect().height-v)<1&&(n.style.overflow=null)})},out(c=()=>{},u=()=>{}){let d=n.getBoundingClientRect().height;e.transition(n,a,{during:l,start:{height:d+"px"},end:{height:s+"px"}},()=>n.style.overflow="hidden",()=>{n._x_isShown=!1,n.style.height==`${s}px`&&o&&(n.style.display="none",n.hidden=!0)})}}}}function Ka(e,t,n){if(e.indexOf(t)===-1)return n;const i=e[e.indexOf(t)+1];if(!i)return n;if(t==="duration"){let r=i.match(/([0-9]+)ms/);if(r)return r[1]}if(t==="min"){let r=i.match(/([0-9]+)px/);if(r)return r[1]}return i}var Dg=Og;function Ja(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function fo(e={},t={}){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof e[i]>"u"?e[i]=t[i]:Ja(t[i])&&Ja(e[i])&&Object.keys(t[i]).length>0&&fo(e[i],t[i])})}const ku={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ut(){const e=typeof document<"u"?document:{};return fo(e,ku),e}const Pg={document:ku,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function At(){const e=typeof window<"u"?window:{};return fo(e,Pg),e}function Mg(e=""){return e.trim().split(" ").filter(t=>!!t.trim())}function Ig(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function _u(e,t=0){return setTimeout(e,t)}function Ci(){return Date.now()}function Ng(e){const t=At();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function Fg(e,t="x"){const n=At();let i,r,s;const o=Ng(e);return n.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(r==="none"?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),t==="y"&&(n.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function ii(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function Bg(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function wt(...e){const t=Object(e[0]),n=["__proto__","constructor","prototype"];for(let i=1;i<e.length;i+=1){const r=e[i];if(r!=null&&!Bg(r)){const s=Object.keys(Object(r)).filter(o=>n.indexOf(o)<0);for(let o=0,a=s.length;o<a;o+=1){const l=s[o],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(ii(t[l])&&ii(r[l])?r[l].__swiper__?t[l]=r[l]:wt(t[l],r[l]):!ii(t[l])&&ii(r[l])?(t[l]={},r[l].__swiper__?t[l]=r[l]:wt(t[l],r[l])):t[l]=r[l])}}}return t}function ri(e,t,n){e.style.setProperty(t,n)}function Ou({swiper:e,targetPosition:t,side:n}){const i=At(),r=-e.translate;let s=null,o;const a=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const l=t>r?"next":"prev",c=(d,v)=>l==="next"&&d>=v||l==="prev"&&d<=v,u=()=>{o=new Date().getTime(),s===null&&(s=o);const d=Math.max(Math.min((o-s)/a,1),0),v=.5-Math.cos(d*Math.PI)/2;let f=r+v*(t-r);if(c(f,t)&&(f=t),e.wrapperEl.scrollTo({[n]:f}),c(f,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:f})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(u)};u()}function Du(e){return e.querySelector(".swiper-slide-transform")||e.shadowRoot&&e.shadowRoot.querySelector(".swiper-slide-transform")||e}function zt(e,t=""){const n=At(),i=[...e.children];return n.HTMLSlotElement&&e instanceof HTMLSlotElement&&i.push(...e.assignedElements()),t?i.filter(r=>r.matches(t)):i}function jg(e,t){const n=[t];for(;n.length>0;){const i=n.shift();if(e===i)return!0;n.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function zg(e,t){const n=At();let i=t.contains(e);return!i&&n.HTMLSlotElement&&t instanceof HTMLSlotElement&&(i=[...t.assignedElements()].includes(e),i||(i=jg(e,t))),i}function Ti(e){try{console.warn(e);return}catch{}}function Ri(e,t=[]){const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:Mg(t)),n}function Ug(e,t){const n=[];for(;e.previousElementSibling;){const i=e.previousElementSibling;t?i.matches(t)&&n.push(i):n.push(i),e=i}return n}function Vg(e,t){const n=[];for(;e.nextElementSibling;){const i=e.nextElementSibling;t?i.matches(t)&&n.push(i):n.push(i),e=i}return n}function te(e,t){return At().getComputedStyle(e,null).getPropertyValue(t)}function Li(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function Pu(e,t){const n=[];let i=e.parentElement;for(;i;)t?i.matches(t)&&n.push(i):n.push(i),i=i.parentElement;return n}function Hg(e,t){function n(i){i.target===e&&(t.call(e,i),e.removeEventListener("transitionend",n))}t&&e.addEventListener("transitionend",n)}function Ts(e,t,n){const i=At();return e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom"))}function ct(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}function Rs(e,t=""){typeof trustedTypes<"u"?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(t):e.innerHTML=t}let Fr;function Wg(){const e=At(),t=Ut();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function Mu(){return Fr||(Fr=Wg()),Fr}let Br;function qg({userAgent:e}={}){const t=Mu(),n=At(),i=n.navigator.platform,r=e||n.navigator.userAgent,s={ios:!1,android:!1},o=n.screen.width,a=n.screen.height,l=r.match(/(Android);?[\s\/]+([\d.]+)?/);let c=r.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const u=r.match(/(iPod)(.*OS\s([\d_]+))?/),d=!c&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),v=i==="Win32";let f=i==="MacIntel";const p=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&f&&t.touch&&p.indexOf(`${o}x${a}`)>=0&&(c=r.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),f=!1),l&&!v&&(s.os="android",s.android=!0),(c||d||u)&&(s.os="ios",s.ios=!0),s}function Iu(e={}){return Br||(Br=qg(e)),Br}let jr;function $g(){const e=At(),t=Iu();let n=!1;function i(){const a=e.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(e.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=l<16||l===16&&c<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),s=i(),o=s||r&&t.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:r}}function Nu(){return jr||(jr=$g()),jr}function Gg({swiper:e,on:t,emit:n}){const i=At();let r=null,s=null;const o=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},a=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(u=>{s=i.requestAnimationFrame(()=>{const{width:d,height:v}=e;let f=d,p=v;u.forEach(({contentBoxSize:y,contentRect:b,target:h})=>{h&&h!==e.el||(f=b?b.width:(y[0]||y).inlineSize,p=b?b.height:(y[0]||y).blockSize)}),(f!==d||p!==v)&&o()})}),r.observe(e.el))},l=()=>{s&&i.cancelAnimationFrame(s),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},c=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){a();return}i.addEventListener("resize",o),i.addEventListener("orientationchange",c)}),t("destroy",()=>{l(),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",c)})}function Kg({swiper:e,extendParams:t,on:n,emit:i}){const r=[],s=At(),o=(c,u={})=>{const d=s.MutationObserver||s.WebkitMutationObserver,v=new d(f=>{if(e.__preventObserver__)return;if(f.length===1){i("observerUpdate",f[0]);return}const p=function(){i("observerUpdate",f[0])};s.requestAnimationFrame?s.requestAnimationFrame(p):s.setTimeout(p,0)});v.observe(c,{attributes:typeof u.attributes>"u"?!0:u.attributes,childList:e.isElement||(typeof u.childList>"u"?!0:u).childList,characterData:typeof u.characterData>"u"?!0:u.characterData}),r.push(v)},a=()=>{if(e.params.observer){if(e.params.observeParents){const c=Pu(e.hostEl);for(let u=0;u<c.length;u+=1)o(c[u])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},l=()=>{r.forEach(c=>{c.disconnect()}),r.splice(0,r.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",a),n("destroy",l)}var Jg={on(e,t,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;const r=n?"unshift":"push";return e.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](t)}),i},once(e,t,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;function r(...s){i.off(e,r),r.__emitterProxy&&delete r.__emitterProxy,t.apply(i,s)}return r.__emitterProxy=t,i.on(e,r,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const i=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[i](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(i=>{typeof t>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[i].splice(s,1)})}),n},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let n,i,r;return typeof e[0]=="string"||Array.isArray(e[0])?(n=e[0],i=e.slice(1,e.length),r=t):(n=e[0].events,i=e[0].data,r=e[0].context||t),i.unshift(r),(Array.isArray(n)?n:n.split(" ")).forEach(o=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(a=>{a.apply(r,[o,...i])}),t.eventsListeners&&t.eventsListeners[o]&&t.eventsListeners[o].forEach(a=>{a.apply(r,i)})}),t}};function Xg(){const e=this;let t,n;const i=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=i.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=i.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(te(i,"padding-left")||0,10)-parseInt(te(i,"padding-right")||0,10),n=n-parseInt(te(i,"padding-top")||0,10)-parseInt(te(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function Yg(){const e=this;function t(R,L){return parseFloat(R.getPropertyValue(e.getDirectionLabel(L))||0)}const n=e.params,{wrapperEl:i,slidesEl:r,rtlTranslate:s,wrongRTL:o}=e,a=e.virtual&&n.virtual.enabled,l=a?e.virtual.slides.length:e.slides.length,c=zt(r,`.${e.params.slideClass}, swiper-slide`),u=a?e.virtual.slides.length:c.length;let d=[];const v=[],f=[];let p=n.slidesOffsetBefore;typeof p=="function"&&(p=n.slidesOffsetBefore.call(e));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(e));const b=e.snapGrid.length,h=e.slidesGrid.length,g=e.size-p-y;let x=n.spaceBetween,S=-p,E=0,_=0;if(typeof g>"u")return;typeof x=="string"&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*g:typeof x=="string"&&(x=parseFloat(x)),e.virtualSize=-x-p-y,c.forEach(R=>{s?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(ri(i,"--swiper-centered-offset-before",""),ri(i,"--swiper-centered-offset-after",""));const k=n.grid&&n.grid.rows>1&&e.grid;k?e.grid.initSlides(c):e.grid&&e.grid.unsetSlides();let w;const P=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(R=>typeof n.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<u;R+=1){w=0;const L=c[R];if(!(L&&(k&&e.grid.updateSlide(R,L,c),te(L,"display")==="none"))){if(a&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(w=n.virtual.slidesPerViewAutoSlideSize),w&&L&&(n.roundLengths&&(w=Math.floor(w)),L.style[e.getDirectionLabel("width")]=`${w}px`);else if(n.slidesPerView==="auto"){P&&(L.style[e.getDirectionLabel("width")]="");const C=getComputedStyle(L),M=L.style.transform,F=L.style.webkitTransform;if(M&&(L.style.transform="none"),F&&(L.style.webkitTransform="none"),n.roundLengths)w=e.isHorizontal()?Ts(L,"width"):Ts(L,"height");else{const K=t(C,"width"),ut=t(C,"padding-left"),B=t(C,"padding-right"),D=t(C,"margin-left"),V=t(C,"margin-right"),X=C.getPropertyValue("box-sizing");if(X&&X==="border-box")w=K+D+V;else{const{clientWidth:Y,offsetWidth:$}=L;w=K+ut+B+D+V+($-Y)}}M&&(L.style.transform=M),F&&(L.style.webkitTransform=F),n.roundLengths&&(w=Math.floor(w))}else w=(g-(n.slidesPerView-1)*x)/n.slidesPerView,n.roundLengths&&(w=Math.floor(w)),L&&(L.style[e.getDirectionLabel("width")]=`${w}px`);L&&(L.swiperSlideSize=w),f.push(w),n.centeredSlides?(S=S+w/2+E/2+x,E===0&&R!==0&&(S=S-g/2-x),R===0&&(S=S-g/2-x),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),_%n.slidesPerGroup===0&&d.push(S),v.push(S)):(n.roundLengths&&(S=Math.floor(S)),(_-Math.min(e.params.slidesPerGroupSkip,_))%e.params.slidesPerGroup===0&&d.push(S),v.push(S),S=S+w+x),e.virtualSize+=w+x,E=w,_+=1}}if(e.virtualSize=Math.max(e.virtualSize,g)+y,s&&o&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${e.virtualSize+x}px`),n.setWrapperSize&&(i.style[e.getDirectionLabel("width")]=`${e.virtualSize+x}px`),k&&e.grid.updateWrapperSize(w,d),!n.centeredSlides){const R=[];for(let L=0;L<d.length;L+=1){let C=d[L];n.roundLengths&&(C=Math.floor(C)),d[L]<=e.virtualSize-g&&R.push(C)}d=R,Math.floor(e.virtualSize-g)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-g)}if(a&&n.loop){const R=f[0]+x;if(n.slidesPerGroup>1){const L=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),C=R*n.slidesPerGroup;for(let M=0;M<L;M+=1)d.push(d[d.length-1]+C)}for(let L=0;L<e.virtual.slidesBefore+e.virtual.slidesAfter;L+=1)n.slidesPerGroup===1&&d.push(d[d.length-1]+R),v.push(v[v.length-1]+R),e.virtualSize+=R}if(d.length===0&&(d=[0]),x!==0){const R=e.isHorizontal()&&s?"marginLeft":e.getDirectionLabel("marginRight");c.filter((L,C)=>!n.cssMode||n.loop?!0:C!==c.length-1).forEach(L=>{L.style[R]=`${x}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let R=0;f.forEach(C=>{R+=C+(x||0)}),R-=x;const L=R>g?R-g:0;d=d.map(C=>C<=0?-p:C>L?L+y:C)}if(n.centerInsufficientSlides){let R=0;f.forEach(C=>{R+=C+(x||0)}),R-=x;const L=(p||0)+(y||0);if(R+L<g){const C=(g-R-L)/2;d.forEach((M,F)=>{d[F]=M-C}),v.forEach((M,F)=>{v[F]=M+C})}}if(Object.assign(e,{slides:c,snapGrid:d,slidesGrid:v,slidesSizesGrid:f}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){ri(i,"--swiper-centered-offset-before",`${-d[0]}px`),ri(i,"--swiper-centered-offset-after",`${e.size/2-f[f.length-1]/2}px`);const R=-e.snapGrid[0],L=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(C=>C+R),e.slidesGrid=e.slidesGrid.map(C=>C+L)}if(u!==l&&e.emit("slidesLengthChange"),d.length!==b&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),v.length!==h&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!a&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const R=`${n.containerModifierClass}backface-hidden`,L=e.el.classList.contains(R);u<=n.maxBackfaceHiddenSlides?L||e.el.classList.add(R):L&&e.el.classList.remove(R)}}function Zg(e){const t=this,n=[],i=t.virtual&&t.params.virtual.enabled;let r=0,s;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const o=a=>i?t.slides[t.getSlideIndexByData(a)]:t.slides[a];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const a=t.activeIndex+s;if(a>t.slides.length&&!i)break;n.push(o(a))}else n.push(o(t.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;r=a>r?a:r}(r||r===0)&&(t.wrapperEl.style.height=`${r}px`)}function Qg(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(e.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-n-e.cssOverflowAdjustment()}const Xa=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function tb(e=this&&this.translate||0){const t=this,n=t.params,{slides:i,rtlTranslate:r,snapGrid:s}=t;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let o=-e;r&&(o=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*t.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=i[0].swiperSlideOffset);const d=(o+(n.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+a),v=(o-s[0]+(n.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+a),f=-(o-u),p=f+t.slidesSizesGrid[l],y=f>=0&&f<=t.size-t.slidesSizesGrid[l],b=f>=0&&f<t.size-1||p>1&&p<=t.size||f<=0&&p>=t.size;b&&(t.visibleSlides.push(c),t.visibleSlidesIndexes.push(l)),Xa(c,b,n.slideVisibleClass),Xa(c,y,n.slideFullyVisibleClass),c.progress=r?-d:d,c.originalProgress=r?-v:v}}function eb(e){const t=this;if(typeof e>"u"){const u=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*u||0}const n=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=t;const l=s,c=o;if(i===0)r=0,s=!0,o=!0;else{r=(e-t.minTranslate())/i;const u=Math.abs(e-t.minTranslate())<1,d=Math.abs(e-t.maxTranslate())<1;s=u||r<=0,o=d||r>=1,u&&(r=0),d&&(r=1)}if(n.loop){const u=t.getSlideIndexByData(0),d=t.getSlideIndexByData(t.slides.length-1),v=t.slidesGrid[u],f=t.slidesGrid[d],p=t.slidesGrid[t.slidesGrid.length-1],y=Math.abs(e);y>=v?a=(y-v)/p:a=(y+p-f)/p,a>1&&(a-=1)}Object.assign(t,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),s&&!l&&t.emit("reachBeginning toEdge"),o&&!c&&t.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&t.emit("fromEdge"),t.emit("progress",r)}const zr=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};function nb(){const e=this,{slides:t,params:n,slidesEl:i,activeIndex:r}=e,s=e.virtual&&n.virtual.enabled,o=e.grid&&n.grid&&n.grid.rows>1,a=d=>zt(i,`.${n.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(s)if(n.loop){let d=r-e.virtual.slidesBefore;d<0&&(d=e.virtual.slides.length+d),d>=e.virtual.slides.length&&(d-=e.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${r}"]`);else o?(l=t.find(d=>d.column===r),u=t.find(d=>d.column===r+1),c=t.find(d=>d.column===r-1)):l=t[r];l&&(o||(u=Vg(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=t[0]),c=Ug(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=t[t.length-1]))),t.forEach(d=>{zr(d,d===l,n.slideActiveClass),zr(d,d===u,n.slideNextClass),zr(d,d===c,n.slidePrevClass)}),e.emitSlidesClasses()}const fi=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,i=t.closest(n());if(i){let r=i.querySelector(`.${e.params.lazyPreloaderClass}`);!r&&e.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},Ur=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Ls=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const i=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),r=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const o=r,a=[o-t];a.push(...Array.from({length:t}).map((l,c)=>o+i+c)),e.slides.forEach((l,c)=>{a.includes(l.column)&&Ur(e,c)});return}const s=r+i-1;if(e.params.rewind||e.params.loop)for(let o=r-t;o<=s+t;o+=1){const a=(o%n+n)%n;(a<r||a>s)&&Ur(e,a)}else for(let o=Math.max(r-t,0);o<=Math.min(s+t,n-1);o+=1)o!==r&&(o>s||o<r)&&Ur(e,o)};function ib(e){const{slidesGrid:t,params:n}=e,i=e.rtlTranslate?e.translate:-e.translate;let r;for(let s=0;s<t.length;s+=1)typeof t[s+1]<"u"?i>=t[s]&&i<t[s+1]-(t[s+1]-t[s])/2?r=s:i>=t[s]&&i<t[s+1]&&(r=s+1):i>=t[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function rb(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=t;let l=e,c;const u=f=>{let p=f-t.virtual.slidesBefore;return p<0&&(p=t.virtual.slides.length+p),p>=t.virtual.slides.length&&(p-=t.virtual.slides.length),p};if(typeof l>"u"&&(l=ib(t)),i.indexOf(n)>=0)c=i.indexOf(n);else{const f=Math.min(r.slidesPerGroupSkip,l);c=f+Math.floor((l-f)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===s&&!t.params.loop){c!==a&&(t.snapIndex=c,t.emit("snapIndexChange"));return}if(l===s&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=u(l);return}const d=t.grid&&r.grid&&r.grid.rows>1;let v;if(t.virtual&&r.virtual.enabled&&r.loop)v=u(l);else if(d){const f=t.slides.find(y=>y.column===l);let p=parseInt(f.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(t.slides.indexOf(f),0)),v=Math.floor(p/r.grid.rows)}else if(t.slides[l]){const f=t.slides[l].getAttribute("data-swiper-slide-index");f?v=parseInt(f,10):v=l}else v=l;Object.assign(t,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:v,previousIndex:s,activeIndex:l}),t.initialized&&Ls(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==v&&t.emit("realIndexChange"),t.emit("slideChange"))}function sb(e,t){const n=this,i=n.params;let r=e.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(r=a)});let s=!1,o;if(r){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===r){s=!0,o=a;break}}if(r&&s)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var ob={updateSize:Xg,updateSlides:Yg,updateAutoHeight:Zg,updateSlidesOffset:Qg,updateSlidesProgress:tb,updateProgress:eb,updateSlidesClasses:nb,updateActiveIndex:rb,updateClickedSlide:sb};function ab(e=this.isHorizontal()?"x":"y"){const t=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:s}=t;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let o=Fg(s,e);return o+=t.cssOverflowAdjustment(),i&&(o=-o),o||0}function lb(e,t){const n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=i?-e:e:l=e,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:r.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(e-n.minTranslate())/d,u!==o&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function cb(){return-this.snapGrid[0]}function ub(){return-this.snapGrid[this.snapGrid.length-1]}function db(e=0,t=this.params.speed,n=!0,i=!0,r){const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(i&&e>l?u=l:i&&e<c?u=c:u=e,s.updateProgress(u),o.cssMode){const d=s.isHorizontal();if(t===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return Ou({swiper:s,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return t===0?(s.setTransition(0),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",t,r),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",t,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(v){!s||s.destroyed||v.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var hb={getTranslate:ab,setTranslate:lb,minTranslate:cb,maxTranslate:ub,translateTo:db};function fb(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=e===0?"0ms":""),n.emit("setTransition",e,t)}function Fu({swiper:e,runCallbacks:t,direction:n,step:i}){const{activeIndex:r,previousIndex:s}=e;let o=n;o||(r>s?o="next":r<s?o="prev":o="reset"),e.emit(`transition${i}`),t&&o==="reset"?e.emit(`slideResetTransition${i}`):t&&r!==s&&(e.emit(`slideChangeTransition${i}`),o==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function pb(e=!0,t){const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),Fu({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function mb(e=!0,t){const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),Fu({swiper:n,runCallbacks:e,direction:t,step:"End"}))}var gb={setTransition:fb,transitionStart:pb,transitionEnd:mb};function bb(e=0,t,n=!0,i,r){typeof e=="string"&&(e=parseInt(e,10));const s=this;let o=e;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:v,wrapperEl:f,enabled:p}=s;if(!p&&!i&&!r||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=s.params.speed);const y=Math.min(s.params.slidesPerGroupSkip,o);let b=y+Math.floor((o-y)/s.params.slidesPerGroup);b>=l.length&&(b=l.length-1);const h=-l[b];if(a.normalizeSlideIndex)for(let k=0;k<c.length;k+=1){const w=-Math.floor(h*100),P=Math.floor(c[k]*100),R=Math.floor(c[k+1]*100);typeof c[k+1]<"u"?w>=P&&w<R-(R-P)/2?o=k:w>=P&&w<R&&(o=k+1):w>=P&&(o=k)}if(s.initialized&&o!==d&&(!s.allowSlideNext&&(v?h>s.translate&&h>s.minTranslate():h<s.translate&&h<s.minTranslate())||!s.allowSlidePrev&&h>s.translate&&h>s.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(h);let g;o>d?g="next":o<d?g="prev":g="reset";const x=s.virtual&&s.params.virtual.enabled;if(!(x&&r)&&(v&&-h===s.translate||!v&&h===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(h),g!=="reset"&&(s.transitionStart(n,g),s.transitionEnd(n,g)),!1;if(a.cssMode){const k=s.isHorizontal(),w=v?h:-h;if(t===0)x&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),x&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{f[k?"scrollLeft":"scrollTop"]=w})):f[k?"scrollLeft":"scrollTop"]=w,x&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return Ou({swiper:s,targetPosition:w,side:k?"left":"top"}),!0;f.scrollTo({[k?"left":"top"]:w,behavior:"smooth"})}return!0}const _=Nu().isSafari;return x&&!r&&_&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(t),s.setTranslate(h),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,i),s.transitionStart(n,g),t===0?s.transitionEnd(n,g):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(w){!s||s.destroyed||w.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,g))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function vb(e=0,t,n=!0,i){typeof e=="string"&&(e=parseInt(e,10));const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=e;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o=o+r.virtual.slidesBefore;else{let a;if(s){const y=o*r.params.grid.rows;a=r.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===y).column}else a=r.getSlideIndexByData(o);const l=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c,slidesOffsetBefore:u,slidesOffsetAfter:d}=r.params,v=c||!!u||!!d;let f=r.params.slidesPerView;f==="auto"?f=r.slidesPerViewDynamic():(f=Math.ceil(parseFloat(r.params.slidesPerView,10)),v&&f%2===0&&(f=f+1));let p=l-a<f;if(v&&(p=p||a<Math.ceil(f/2)),i&&v&&r.params.slidesPerView!=="auto"&&!s&&(p=!1),p){const y=v?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:y,slideTo:!0,activeSlideIndex:y==="next"?a+1:a-l+1,slideRealIndex:y==="next"?r.realIndex:void 0})}if(s){const y=o*r.params.grid.rows;o=r.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===y).column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,t,n,i)}),r}function yb(e,t=!0,n){const i=this,{enabled:r,params:s,animating:o}=i;if(!r||i.destroyed)return i;typeof e>"u"&&(e=i.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:a,c=i.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,e,t,n)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,e,t,n):i.slideTo(i.activeIndex+l,e,t,n)}function xb(e,t=!0,n){const i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;typeof e>"u"&&(e=i.params.speed);const u=i.virtual&&r.virtual.enabled;if(r.loop){if(c&&!u&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const d=a?i.translate:-i.translate;function v(g){return g<0?-Math.floor(Math.abs(g)):Math.floor(g)}const f=v(d),p=s.map(g=>v(g)),y=r.freeMode&&r.freeMode.enabled;let b=s[p.indexOf(f)-1];if(typeof b>"u"&&(r.cssMode||y)){let g;s.forEach((x,S)=>{f>=x&&(g=S)}),typeof g<"u"&&(b=y?s[g]:s[g>0?g-1:g])}let h=0;if(typeof b<"u"&&(h=o.indexOf(b),h<0&&(h=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(h=h-i.slidesPerViewDynamic("previous",!0)+1,h=Math.max(h,0))),r.rewind&&i.isBeginning){const g=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(g,e,t,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(h,e,t,n)}),!0;return i.slideTo(h,e,t,n)}function Ab(e,t=!0,n){const i=this;if(!i.destroyed)return typeof e>"u"&&(e=i.params.speed),i.slideTo(i.activeIndex,e,t,n)}function Sb(e,t=!0,n,i=.5){const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const c=r.snapGrid[a],u=r.snapGrid[a+1];l-c>(u-c)*i&&(s+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1],u=r.snapGrid[a];l-c<=(u-c)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,e,t,n)}function Eb(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,i=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let r=e.getSlideIndexWhenGrid(e.clickedIndex),s;const o=e.isElement?"swiper-slide":`.${t.slideClass}`,a=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;s=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(s):r>(a?(e.slides.length-i)/2-(e.params.grid.rows-1):e.slides.length-i)?(e.loopFix(),r=e.getSlideIndex(zt(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),_u(()=>{e.slideTo(r)})):e.slideTo(r)}else e.slideTo(r)}var wb={slideTo:bb,slideToLoop:vb,slideNext:yb,slidePrev:xb,slideReset:Ab,slideToClosest:Sb,slideToClickedSlide:Eb};function Cb(e,t){const n=this,{params:i,slidesEl:r}=n;if(!i.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{zt(r,`.${i.slideClass}, swiper-slide`).forEach((p,y)=>{p.setAttribute("data-swiper-slide-index",y)})},o=()=>{const f=zt(r,`.${i.slideBlankClass}`);f.forEach(p=>{p.remove()}),f.length>0&&(n.recalcSlides(),n.updateSlides())},a=n.grid&&i.grid&&i.grid.rows>1;i.loopAddBlankSlides&&(i.slidesPerGroup>1||a)&&o();const l=i.slidesPerGroup*(a?i.grid.rows:1),c=n.slides.length%l!==0,u=a&&n.slides.length%i.grid.rows!==0,d=f=>{for(let p=0;p<f;p+=1){const y=n.isElement?Ri("swiper-slide",[i.slideBlankClass]):Ri("div",[i.slideClass,i.slideBlankClass]);n.slidesEl.append(y)}};if(c){if(i.loopAddBlankSlides){const f=l-n.slides.length%l;d(f),n.recalcSlides(),n.updateSlides()}else Ti("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(u){if(i.loopAddBlankSlides){const f=i.grid.rows-n.slides.length%i.grid.rows;d(f),n.recalcSlides(),n.updateSlides()}else Ti("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();const v=i.centeredSlides||!!i.slidesOffsetBefore||!!i.slidesOffsetAfter;n.loopFix({slideRealIndex:e,direction:v?void 0:"next",initial:t})}function Tb({slideRealIndex:e,slideTo:t=!0,direction:n,setTranslate:i,activeSlideIndex:r,initial:s,byController:o,byMousewheel:a}={}){const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:v,params:f}=l,{centeredSlides:p,slidesOffsetBefore:y,slidesOffsetAfter:b,initialSlide:h}=f,g=p||!!y||!!b;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&f.virtual.enabled){t&&(!g&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):g&&l.snapIndex<f.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let x=f.slidesPerView;x==="auto"?x=l.slidesPerViewDynamic():(x=Math.ceil(parseFloat(f.slidesPerView,10)),g&&x%2===0&&(x=x+1));const S=f.slidesPerGroupAuto?x:f.slidesPerGroup;let E=g?Math.max(S,Math.ceil(x/2)):S;E%S!==0&&(E+=S-E%S),E+=f.loopAdditionalSlides,l.loopedSlides=E;const _=l.grid&&f.grid&&f.grid.rows>1;c.length<x+E||l.params.effect==="cards"&&c.length<x+E*2?Ti("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):_&&f.grid.fill==="row"&&Ti("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const k=[],w=[],P=_?Math.ceil(c.length/f.grid.rows):c.length,R=s&&P-h<x&&!g;let L=R?h:l.activeIndex;typeof r>"u"?r=l.getSlideIndex(c.find(D=>D.classList.contains(f.slideActiveClass))):L=r;const C=n==="next"||!n,M=n==="prev"||!n;let F=0,K=0;const B=(_?c[r].column:r)+(g&&typeof i>"u"?-x/2+.5:0);if(B<E){F=Math.max(E-B,S);for(let D=0;D<E-B;D+=1){const V=D-Math.floor(D/P)*P;if(_){const X=P-V-1;for(let Y=c.length-1;Y>=0;Y-=1)c[Y].column===X&&k.push(Y)}else k.push(P-V-1)}}else if(B+x>P-E){K=Math.max(B-(P-E*2),S),R&&(K=Math.max(K,x-P+h+1));for(let D=0;D<K;D+=1){const V=D-Math.floor(D/P)*P;_?c.forEach((X,Y)=>{X.column===V&&w.push(Y)}):w.push(V)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),l.params.effect==="cards"&&c.length<x+E*2&&(w.includes(r)&&w.splice(w.indexOf(r),1),k.includes(r)&&k.splice(k.indexOf(r),1)),M&&k.forEach(D=>{c[D].swiperLoopMoveDOM=!0,v.prepend(c[D]),c[D].swiperLoopMoveDOM=!1}),C&&w.forEach(D=>{c[D].swiperLoopMoveDOM=!0,v.append(c[D]),c[D].swiperLoopMoveDOM=!1}),l.recalcSlides(),f.slidesPerView==="auto"?l.updateSlides():_&&(k.length>0&&M||w.length>0&&C)&&l.slides.forEach((D,V)=>{l.grid.updateSlide(V,D,l.slides)}),f.watchSlidesProgress&&l.updateSlidesOffset(),t){if(k.length>0&&M){if(typeof e>"u"){const D=l.slidesGrid[L],X=l.slidesGrid[L+F]-D;a?l.setTranslate(l.translate-X):(l.slideTo(L+Math.ceil(F),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-X,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-X))}else if(i){const D=_?k.length/f.grid.rows:k.length;l.slideTo(l.activeIndex+D,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(w.length>0&&C)if(typeof e>"u"){const D=l.slidesGrid[L],X=l.slidesGrid[L-K]-D;a?l.setTranslate(l.translate-X):(l.slideTo(L-K,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-X,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-X))}else{const D=_?w.length/f.grid.rows:w.length;l.slideTo(l.activeIndex-D,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const D={slideRealIndex:e,direction:n,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(V=>{!V.destroyed&&V.params.loop&&V.loopFix({...D,slideTo:V.params.slidesPerView===f.slidesPerView?t:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...D,slideTo:l.controller.control.params.slidesPerView===f.slidesPerView?t:!1})}l.emit("loopFix")}function Rb(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||!n||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const i=[];e.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),e.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var Lb={loopCreate:Cb,loopFix:Tb,loopDestroy:Rb};function kb(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function _b(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var Ob={setGrabCursor:kb,unsetGrabCursor:_b};function Db(e,t=this){function n(i){if(!i||i===Ut()||i===At())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(e);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(t)}function Ya(e,t,n){const i=At(),{params:r}=e,s=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return s&&(n<=o||n>=i.innerWidth-o)?s==="prevent"?(t.preventDefault(),!0):!1:!0}function Pb(e){const t=this,n=Ut();let i=e;i.originalEvent&&(i=i.originalEvent);const r=t.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){Ya(t,i,i.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=t;if(!a||!s.simulateTouch&&i.pointerType==="mouse"||t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let l=i.target;if(s.touchEventsTarget==="wrapper"&&!zg(l,t.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const c=!!s.noSwipingClass&&s.noSwipingClass!=="",u=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&u&&(l=u[0]);const d=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,v=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(v?Db(d,l):l.closest(d))){t.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const f=o.currentX,p=o.currentY;if(!Ya(t,i,f))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=f,o.startY=p,r.touchStartTime=Ci(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let y=!0;l.matches(r.focusableElements)&&(y=!1,l.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==l&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!l.matches(r.focusableElements))&&n.activeElement.blur();const b=y&&t.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||b)&&!l.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",i)}function Mb(e){const t=Ut(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!r.simulateTouch&&e.pointerType==="mouse")return;let l=e;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(E=>E.identifier===i.touchId),!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){s.startX=u,s.startY=d;return}if(!n.allowTouchMove){l.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d}),i.touchStartTime=Ci());return}if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(d<s.startY&&n.translate<=n.maxTranslate()||d>s.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(o&&(u>s.startX&&-n.translate<=n.maxTranslate()||u<s.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(u<s.startX&&n.translate<=n.maxTranslate()||u>s.startX&&n.translate>=n.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==l.target&&l.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&l.target===t.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=u,s.currentY=d;const v=s.currentX-s.startX,f=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(v**2+f**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let E;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:v*v+f*f>=25&&(E=Math.atan2(Math.abs(f),Math.abs(v))*180/Math.PI,i.isScrolling=n.isHorizontal()?E>r.touchAngle:90-E>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||l.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let p=n.isHorizontal()?v:f,y=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(p=Math.abs(p)*(o?1:-1),y=Math.abs(y)*(o?1:-1)),s.diff=p,p*=r.touchRatio,o&&(p=-p,y=-y);const b=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const h=n.params.loop&&!r.cssMode,g=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(h&&g&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(E)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),r._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&b!==n.touchesDirection&&h&&g&&Math.abs(p)>=1){Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=p+i.startTranslate;let x=!0,S=r.resistanceRatio;if(r.touchReleaseOnEdges&&(S=0),p>0?(h&&g&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(x=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+p)**S))):p<0&&(h&&g&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(x=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-p)**S))),x&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(p)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function Ib(e){const t=this,n=t.touchEventsData;let i=e;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(E=>E.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(t.browser.isSafari||t.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=t;if(!u||!o.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&t.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const d=Ci(),v=d-n.touchStartTime;if(t.allowClick){const E=i.path||i.composedPath&&i.composedPath();t.updateClickedSlide(E&&E[0]||i.target,E),t.emit("tap click",i),v<300&&d-n.lastClickTime<300&&t.emit("doubleTap doubleClick",i)}if(n.lastClickTime=Ci(),_u(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let f;if(o.followFinger?f=l?t.translate:-t.translate:f=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:f});return}const p=f>=-t.maxTranslate()&&!t.params.loop;let y=0,b=t.slidesSizesGrid[0];for(let E=0;E<c.length;E+=E<o.slidesPerGroupSkip?1:o.slidesPerGroup){const _=E<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[E+_]<"u"?(p||f>=c[E]&&f<c[E+_])&&(y=E,b=c[E+_]-c[E]):(p||f>=c[E])&&(y=E,b=c[c.length-1]-c[c.length-2])}let h=null,g=null;o.rewind&&(t.isBeginning?g=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(h=0));const x=(f-c[y])/b,S=y<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(v>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(x>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?h:y+S):t.slideTo(y)),t.swipeDirection==="prev"&&(x>1-o.longSwipesRatio?t.slideTo(y+S):g!==null&&x<0&&Math.abs(x)>o.longSwipesRatio?t.slideTo(g):t.slideTo(y))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(i.target===t.navigation.nextEl||i.target===t.navigation.prevEl)?i.target===t.navigation.nextEl?t.slideTo(y+S):t.slideTo(y):(t.swipeDirection==="next"&&t.slideTo(h!==null?h:y+S),t.swipeDirection==="prev"&&t.slideTo(g!==null?g:y))}}function Za(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const a=o&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!a?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=r,e.allowSlideNext=i,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function Nb(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function Fb(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:i}=e;if(!i)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let r;const s=e.maxTranslate()-e.minTranslate();s===0?r=0:r=(e.translate-e.minTranslate())/s,r!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function Bb(e){const t=this;fi(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function jb(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const Bu=(e,t)=>{const n=Ut(),{params:i,el:r,wrapperEl:s,device:o}=e,a=!!i.nested,l=t==="on"?"addEventListener":"removeEventListener",c=t;!r||typeof r=="string"||(n[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:a}),r[l]("touchstart",e.onTouchStart,{passive:!1}),r[l]("pointerdown",e.onTouchStart,{passive:!1}),n[l]("touchmove",e.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",e.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",e.onTouchEnd,{passive:!0}),n[l]("pointerup",e.onTouchEnd,{passive:!0}),n[l]("pointercancel",e.onTouchEnd,{passive:!0}),n[l]("touchcancel",e.onTouchEnd,{passive:!0}),n[l]("pointerout",e.onTouchEnd,{passive:!0}),n[l]("pointerleave",e.onTouchEnd,{passive:!0}),n[l]("contextmenu",e.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",e.onClick,!0),i.cssMode&&s[l]("scroll",e.onScroll),i.updateOnWindowResize?e[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Za,!0):e[c]("observerUpdate",Za,!0),r[l]("load",e.onLoad,{capture:!0}))};function zb(){const e=this,{params:t}=e;e.onTouchStart=Pb.bind(e),e.onTouchMove=Mb.bind(e),e.onTouchEnd=Ib.bind(e),e.onDocumentTouchStart=jb.bind(e),t.cssMode&&(e.onScroll=Fb.bind(e)),e.onClick=Nb.bind(e),e.onLoad=Bb.bind(e),Bu(e,"on")}function Ub(){Bu(this,"off")}var Vb={attachEvents:zb,detachEvents:Ub};const Qa=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function Hb(){const e=this,{realIndex:t,initialized:n,params:i,el:r}=e,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=Ut(),a=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",l=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?e.el:o.querySelector(i.breakpointsBase),c=e.getBreakpoint(s,a,l);if(!c||e.currentBreakpoint===c)return;const d=(c in s?s[c]:void 0)||e.originalParams,v=Qa(e,i),f=Qa(e,d),p=e.params.grabCursor,y=d.grabCursor,b=i.enabled;v&&!f?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),e.emitContainerClasses()):!v&&f&&(r.classList.add(`${i.containerModifierClass}grid`),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),e.emitContainerClasses()),p&&!y?e.unsetGrabCursor():!p&&y&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(_=>{if(typeof d[_]>"u")return;const k=i[_]&&i[_].enabled,w=d[_]&&d[_].enabled;k&&!w&&e[_].disable(),!k&&w&&e[_].enable()});const h=d.direction&&d.direction!==i.direction,g=i.loop&&(d.slidesPerView!==i.slidesPerView||h),x=i.loop;h&&n&&e.changeDirection(),wt(e.params,d);const S=e.params.enabled,E=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),b&&!S?e.disable():!b&&S&&e.enable(),e.currentBreakpoint=c,e.emit("_beforeBreakpoint",d),n&&(g?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!x&&E?(e.loopCreate(t),e.updateSlides()):x&&!E&&e.loopDestroy()),e.emit("breakpoint",d)}function Wb(e,t="window",n){if(!e||t==="container"&&!n)return;let i=!1;const r=At(),s=t==="window"?r.innerHeight:n.clientHeight,o=Object.keys(e).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];t==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=n.clientWidth&&(i=l)}return i||"max"}var qb={setBreakpoint:Hb,getBreakpoint:Wb};function $b(e,t){const n=[];return e.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(t+r)}):typeof i=="string"&&n.push(t+i)}),n}function Gb(){const e=this,{classNames:t,params:n,rtl:i,el:r,device:s}=e,o=$b(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...o),r.classList.add(...t),e.emitContainerClasses()}function Kb(){const e=this,{el:t,classNames:n}=e;!t||typeof t=="string"||(t.classList.remove(...n),e.emitContainerClasses())}var Jb={addClasses:Gb,removeClasses:Kb};function Xb(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:i}=n;if(i){const r=e.slides.length-1,s=e.slidesGrid[r]+e.slidesSizesGrid[r]+i*2;e.isLocked=e.size>s}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var Yb={checkOverflow:Xb},tl={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Zb(e,t){return function(i={}){const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){wt(t,i);return}if(e[r]===!0&&(e[r]={enabled:!0}),r==="navigation"&&e[r]&&e[r].enabled&&!e[r].prevEl&&!e[r].nextEl&&(e[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&e[r]&&e[r].enabled&&!e[r].el&&(e[r].auto=!0),!(r in e&&"enabled"in s)){wt(t,i);return}typeof e[r]=="object"&&!("enabled"in e[r])&&(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),wt(t,i)}}const Vr={eventsEmitter:Jg,update:ob,translate:hb,transition:gb,slide:wb,loop:Lb,grabCursor:Ob,events:Vb,breakpoints:qb,checkOverflow:Yb,classes:Jb},Hr={};class Tt{constructor(...t){let n,i;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?i=t[0]:[n,i]=t,i||(i={}),i=wt({},i),n&&!i.el&&(i.el=n);const r=Ut();if(i.el&&typeof i.el=="string"&&r.querySelectorAll(i.el).length>1){const l=[];return r.querySelectorAll(i.el).forEach(c=>{const u=wt({},i,{el:c});l.push(new Tt(u))}),l}const s=this;s.__swiper__=!0,s.support=Mu(),s.device=Iu({userAgent:i.userAgent}),s.browser=Nu(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],i.modules&&Array.isArray(i.modules)&&s.modules.push(...i.modules);const o={};s.modules.forEach(l=>{l({params:i,swiper:s,extendParams:Zb(i,o),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const a=wt({},tl,o);return s.params=wt({},a,Hr,i),s.originalParams=wt({},s.params),s.passedParams=wt({},i),s.params&&s.params.on&&Object.keys(s.params.on).forEach(l=>{s.on(l,s.params.on[l])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:n,params:i}=this,r=zt(n,`.${i.slideClass}, swiper-slide`),s=Li(r[0]);return Li(t)-s}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===t))}getSlideIndexWhenGrid(t){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?t=Math.floor(t/this.params.grid.rows):this.params.grid.fill==="row"&&(t=t%Math.ceil(this.slides.length/this.params.grid.rows))),t}recalcSlides(){const t=this,{slidesEl:n,params:i}=t;t.slides=zt(n,`.${i.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const i=this;t=Math.min(Math.max(t,0),1);const r=i.minTranslate(),o=(i.maxTranslate()-r)*t+r;i.translateTo(o,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(i=>{const r=t.getSlideClasses(i);n.push({slideEl:i,classNames:r}),t.emit("_slideClass",i,r)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t="current",n=!1){const i=this,{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=i;let u=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let d=s[c]?Math.ceil(s[c].swiperSlideSize):0,v;for(let f=c+1;f<s.length;f+=1)s[f]&&!v&&(d+=Math.ceil(s[f].swiperSlideSize),u+=1,d>l&&(v=!0));for(let f=c-1;f>=0;f-=1)s[f]&&!v&&(d+=s[f].swiperSlideSize,u+=1,d>l&&(v=!0))}else if(t==="current")for(let d=c+1;d<s.length;d+=1)(n?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:i}=t;i.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&fi(t,o)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function r(){const o=t.rtlTranslate?t.translate*-1:t.translate,a=Math.min(Math.max(o,t.maxTranslate()),t.minTranslate());t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&t.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&t.isEnd&&!i.centeredSlides){const o=t.virtual&&i.virtual.enabled?t.virtual.slides:t.slides;s=t.slideTo(o.length-1,0,!1,!0)}else s=t.slideTo(t.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n=!0){const i=this,r=i.params.direction;return t||(t=r==="horizontal"?"vertical":"horizontal"),t===r||t!=="horizontal"&&t!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${t}`),i.emitContainerClasses(),i.params.direction=t,i.slides.forEach(s=>{t==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let i=t||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):zt(i,r())[0];return!o&&n.params.createElements&&(o=Ri("div",n.params.wrapperClass),i.append(o),zt(i,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:i,wrapperEl:o,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||te(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||te(i,"direction")==="rtl"),wrongRTL:te(o,"display")==="-webkit-box"}),!0}init(t){const n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?fi(n,s):s.addEventListener("load",o=>{fi(n,o.target)})}),Ls(n),n.initialized=!0,Ls(n),n.emit("init"),n.emit("afterInit"),n}destroy(t=!0,n=!0){const i=this,{params:r,el:s,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),t!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),Ig(i)),i.destroyed=!0),null}static extendDefaults(t){wt(Hr,t)}static get extendedDefaults(){return Hr}static get defaults(){return tl}static installModule(t){Tt.prototype.__modules__||(Tt.prototype.__modules__=[]);const n=Tt.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>Tt.installModule(n)),Tt):(Tt.installModule(t),Tt)}}Object.keys(Vr).forEach(e=>{Object.keys(Vr[e]).forEach(t=>{Tt.prototype[t]=Vr[e][t]})});Tt.use([Gg,Kg]);function ju(e,t,n,i){return e.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let s=zt(e.el,`.${i[r]}`)[0];s||(s=Ri("div",i[r]),s.className=i[r],e.el.append(s)),n[r]=s,t[r]=s}}),n}const el='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function Qb({swiper:e,extendParams:t,on:n,emit:i}){t({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null,arrowSvg:el};function r(f){let p;return f&&typeof f=="string"&&e.isElement&&(p=e.el.querySelector(f)||e.hostEl.querySelector(f),p)?p:(f&&(typeof f=="string"&&(p=[...document.querySelectorAll(f)]),e.params.uniqueNavElements&&typeof f=="string"&&p&&p.length>1&&e.el.querySelectorAll(f).length===1?p=e.el.querySelector(f):p&&p.length===1&&(p=p[0])),f&&!p?f:p)}function s(f,p){const y=e.params.navigation;f=ct(f),f.forEach(b=>{b&&(b.classList[p?"add":"remove"](...y.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=p),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](y.lockClass))})}function o(){const{nextEl:f,prevEl:p}=e.navigation;if(e.params.loop){s(p,!1),s(f,!1);return}s(p,e.isBeginning&&!e.params.rewind),s(f,e.isEnd&&!e.params.rewind)}function a(f){f.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function l(f){f.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function c(){const f=e.params.navigation;if(e.params.navigation=ju(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(f.nextEl||f.prevEl))return;let p=r(f.nextEl),y=r(f.prevEl);Object.assign(e.navigation,{nextEl:p,prevEl:y}),p=ct(p),y=ct(y);const b=(h,g)=>{if(h){if(f.addIcons&&h.matches(".swiper-button-next,.swiper-button-prev")&&!h.querySelector("svg")){const x=document.createElement("div");Rs(x,el),h.appendChild(x.querySelector("svg")),x.remove()}h.addEventListener("click",g==="next"?l:a)}!e.enabled&&h&&h.classList.add(...f.lockClass.split(" "))};p.forEach(h=>b(h,"next")),y.forEach(h=>b(h,"prev"))}function u(){let{nextEl:f,prevEl:p}=e.navigation;f=ct(f),p=ct(p);const y=(b,h)=>{b.removeEventListener("click",h==="next"?l:a),b.classList.remove(...e.params.navigation.disabledClass.split(" "))};f.forEach(b=>y(b,"next")),p.forEach(b=>y(b,"prev"))}n("init",()=>{e.params.navigation.enabled===!1?v():(c(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{u()}),n("enable disable",()=>{let{nextEl:f,prevEl:p}=e.navigation;if(f=ct(f),p=ct(p),e.enabled){o();return}[...f,...p].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),n("click",(f,p)=>{let{nextEl:y,prevEl:b}=e.navigation;y=ct(y),b=ct(b);const h=p.target;let g=b.includes(h)||y.includes(h);if(e.isElement&&!g){const x=p.path||p.composedPath&&p.composedPath();x&&(g=x.find(S=>y.includes(S)||b.includes(S)))}if(e.params.navigation.hideOnClick&&!g){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===h||e.pagination.el.contains(h)))return;let x;y.length?x=y[0].classList.contains(e.params.navigation.hiddenClass):b.length&&(x=b[0].classList.contains(e.params.navigation.hiddenClass)),i(x===!0?"navigationShow":"navigationHide"),[...y,...b].filter(S=>!!S).forEach(S=>S.classList.toggle(e.params.navigation.hiddenClass))}});const d=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),c(),o()},v=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),u()};Object.assign(e.navigation,{enable:d,disable:v,update:o,init:c,destroy:u})}function mn(e=""){return`.${e.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function tv({swiper:e,extendParams:t,on:n,emit:i}){const r="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:h=>h,formatFractionTotal:h=>h,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let s,o=0;function a(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function l(h,g){const{bulletActiveClass:x}=e.params.pagination;h&&(h=h[`${g==="prev"?"previous":"next"}ElementSibling`],h&&(h.classList.add(`${x}-${g}`),h=h[`${g==="prev"?"previous":"next"}ElementSibling`],h&&h.classList.add(`${x}-${g}-${g}`)))}function c(h,g,x){if(h=h%x,g=g%x,g===h+1)return"next";if(g===h-1)return"previous"}function u(h){const g=h.target.closest(mn(e.params.pagination.bulletClass));if(!g)return;h.preventDefault();const x=Li(g)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===x)return;const S=c(e.realIndex,x,e.slides.length);S==="next"?e.slideNext():S==="previous"?e.slidePrev():e.slideToLoop(x)}else e.slideTo(x)}function d(){const h=e.rtl,g=e.params.pagination;if(a())return;let x=e.pagination.el;x=ct(x);let S,E;const _=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,k=e.params.loop?Math.ceil(_/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(E=e.previousRealIndex||0,S=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(S=e.snapIndex,E=e.previousSnapIndex):(E=e.previousIndex||0,S=e.activeIndex||0),g.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const w=e.pagination.bullets;let P,R,L;if(g.dynamicBullets&&(s=Ts(w[0],e.isHorizontal()?"width":"height"),x.forEach(C=>{C.style[e.isHorizontal()?"width":"height"]=`${s*(g.dynamicMainBullets+4)}px`}),g.dynamicMainBullets>1&&E!==void 0&&(o+=S-(E||0),o>g.dynamicMainBullets-1?o=g.dynamicMainBullets-1:o<0&&(o=0)),P=Math.max(S-o,0),R=P+(Math.min(w.length,g.dynamicMainBullets)-1),L=(R+P)/2),w.forEach(C=>{const M=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(F=>`${g.bulletActiveClass}${F}`)].map(F=>typeof F=="string"&&F.includes(" ")?F.split(" "):F).flat();C.classList.remove(...M)}),x.length>1)w.forEach(C=>{const M=Li(C);M===S?C.classList.add(...g.bulletActiveClass.split(" ")):e.isElement&&C.setAttribute("part","bullet"),g.dynamicBullets&&(M>=P&&M<=R&&C.classList.add(...`${g.bulletActiveClass}-main`.split(" ")),M===P&&l(C,"prev"),M===R&&l(C,"next"))});else{const C=w[S];if(C&&C.classList.add(...g.bulletActiveClass.split(" ")),e.isElement&&w.forEach((M,F)=>{M.setAttribute("part",F===S?"bullet-active":"bullet")}),g.dynamicBullets){const M=w[P],F=w[R];for(let K=P;K<=R;K+=1)w[K]&&w[K].classList.add(...`${g.bulletActiveClass}-main`.split(" "));l(M,"prev"),l(F,"next")}}if(g.dynamicBullets){const C=Math.min(w.length,g.dynamicMainBullets+4),M=(s*C-s)/2-L*s,F=h?"right":"left";w.forEach(K=>{K.style[e.isHorizontal()?F:"top"]=`${M}px`})}}x.forEach((w,P)=>{if(g.type==="fraction"&&(w.querySelectorAll(mn(g.currentClass)).forEach(R=>{R.textContent=g.formatFractionCurrent(S+1)}),w.querySelectorAll(mn(g.totalClass)).forEach(R=>{R.textContent=g.formatFractionTotal(k)})),g.type==="progressbar"){let R;g.progressbarOpposite?R=e.isHorizontal()?"vertical":"horizontal":R=e.isHorizontal()?"horizontal":"vertical";const L=(S+1)/k;let C=1,M=1;R==="horizontal"?C=L:M=L,w.querySelectorAll(mn(g.progressbarFillClass)).forEach(F=>{F.style.transform=`translate3d(0,0,0) scaleX(${C}) scaleY(${M})`,F.style.transitionDuration=`${e.params.speed}ms`})}g.type==="custom"&&g.renderCustom?(Rs(w,g.renderCustom(e,S+1,k)),P===0&&i("paginationRender",w)):(P===0&&i("paginationRender",w),i("paginationUpdate",w)),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](g.lockClass)})}function v(){const h=e.params.pagination;if(a())return;const g=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let x=e.pagination.el;x=ct(x);let S="";if(h.type==="bullets"){let E=e.params.loop?Math.ceil(g/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&E>g&&(E=g);for(let _=0;_<E;_+=1)h.renderBullet?S+=h.renderBullet.call(e,_,h.bulletClass):S+=`<${h.bulletElement} ${e.isElement?'part="bullet"':""} class="${h.bulletClass}"></${h.bulletElement}>`}h.type==="fraction"&&(h.renderFraction?S=h.renderFraction.call(e,h.currentClass,h.totalClass):S=`<span class="${h.currentClass}"></span> / <span class="${h.totalClass}"></span>`),h.type==="progressbar"&&(h.renderProgressbar?S=h.renderProgressbar.call(e,h.progressbarFillClass):S=`<span class="${h.progressbarFillClass}"></span>`),e.pagination.bullets=[],x.forEach(E=>{h.type!=="custom"&&Rs(E,S||""),h.type==="bullets"&&e.pagination.bullets.push(...E.querySelectorAll(mn(h.bulletClass)))}),h.type!=="custom"&&i("paginationRender",x[0])}function f(){e.params.pagination=ju(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const h=e.params.pagination;if(!h.el)return;let g;typeof h.el=="string"&&e.isElement&&(g=e.el.querySelector(h.el)),!g&&typeof h.el=="string"&&(g=[...document.querySelectorAll(h.el)]),g||(g=h.el),!(!g||g.length===0)&&(e.params.uniqueNavElements&&typeof h.el=="string"&&Array.isArray(g)&&g.length>1&&(g=[...e.el.querySelectorAll(h.el)],g.length>1&&(g=g.find(x=>Pu(x,".swiper")[0]===e.el))),Array.isArray(g)&&g.length===1&&(g=g[0]),Object.assign(e.pagination,{el:g}),g=ct(g),g.forEach(x=>{h.type==="bullets"&&h.clickable&&x.classList.add(...(h.clickableClass||"").split(" ")),x.classList.add(h.modifierClass+h.type),x.classList.add(e.isHorizontal()?h.horizontalClass:h.verticalClass),h.type==="bullets"&&h.dynamicBullets&&(x.classList.add(`${h.modifierClass}${h.type}-dynamic`),o=0,h.dynamicMainBullets<1&&(h.dynamicMainBullets=1)),h.type==="progressbar"&&h.progressbarOpposite&&x.classList.add(h.progressbarOppositeClass),h.clickable&&x.addEventListener("click",u),e.enabled||x.classList.add(h.lockClass)}))}function p(){const h=e.params.pagination;if(a())return;let g=e.pagination.el;g&&(g=ct(g),g.forEach(x=>{x.classList.remove(h.hiddenClass),x.classList.remove(h.modifierClass+h.type),x.classList.remove(e.isHorizontal()?h.horizontalClass:h.verticalClass),h.clickable&&(x.classList.remove(...(h.clickableClass||"").split(" ")),x.removeEventListener("click",u))})),e.pagination.bullets&&e.pagination.bullets.forEach(x=>x.classList.remove(...h.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const h=e.params.pagination;let{el:g}=e.pagination;g=ct(g),g.forEach(x=>{x.classList.remove(h.horizontalClass,h.verticalClass),x.classList.add(e.isHorizontal()?h.horizontalClass:h.verticalClass)})}),n("init",()=>{e.params.pagination.enabled===!1?b():(f(),v(),d())}),n("activeIndexChange",()=>{typeof e.snapIndex>"u"&&d()}),n("snapIndexChange",()=>{d()}),n("snapGridLengthChange",()=>{v(),d()}),n("destroy",()=>{p()}),n("enable disable",()=>{let{el:h}=e.pagination;h&&(h=ct(h),h.forEach(g=>g.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),n("lock unlock",()=>{d()}),n("click",(h,g)=>{const x=g.target,S=ct(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&S&&S.length>0&&!x.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&x===e.navigation.nextEl||e.navigation.prevEl&&x===e.navigation.prevEl))return;const E=S[0].classList.contains(e.params.pagination.hiddenClass);i(E===!0?"paginationShow":"paginationHide"),S.forEach(_=>_.classList.toggle(e.params.pagination.hiddenClass))}});const y=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:h}=e.pagination;h&&(h=ct(h),h.forEach(g=>g.classList.remove(e.params.pagination.paginationDisabledClass))),f(),v(),d()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:h}=e.pagination;h&&(h=ct(h),h.forEach(g=>g.classList.add(e.params.pagination.paginationDisabledClass))),p()};Object.assign(e.pagination,{enable:y,disable:b,render:v,update:d,init:f,destroy:p})}function ev({swiper:e,extendParams:t,on:n,emit:i,params:r}){e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let s,o,a=r&&r.autoplay?r.autoplay.delay:3e3,l=r&&r.autoplay?r.autoplay.delay:3e3,c,u=new Date().getTime(),d,v,f,p,y,b,h;function g(B){!e||e.destroyed||!e.wrapperEl||B.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",g),!(h||B.detail&&B.detail.bySwiperTouchMove)&&P())}const x=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?d=!0:d&&(l=c,d=!1);const B=e.autoplay.paused?c:u+l-new Date().getTime();e.autoplay.timeLeft=B,i("autoplayTimeLeft",B,B/a),o=requestAnimationFrame(()=>{x()})},S=()=>{let B;return e.virtual&&e.params.virtual.enabled?B=e.slides.find(V=>V.classList.contains("swiper-slide-active")):B=e.slides[e.activeIndex],B?parseInt(B.getAttribute("data-swiper-autoplay"),10):void 0},E=B=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(o),x();let D=typeof B>"u"?e.params.autoplay.delay:B;a=e.params.autoplay.delay,l=e.params.autoplay.delay;const V=S();!Number.isNaN(V)&&V>0&&typeof B>"u"&&(D=V,a=V,l=V),c=D;const X=e.params.speed,Y=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(X,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,X,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(X,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,X,!0,!0),i("autoplay")),e.params.cssMode&&(u=new Date().getTime(),requestAnimationFrame(()=>{E()})))};return D>0?(clearTimeout(s),s=setTimeout(()=>{Y()},D)):requestAnimationFrame(()=>{Y()}),D},_=()=>{u=new Date().getTime(),e.autoplay.running=!0,E(),i("autoplayStart")},k=()=>{e.autoplay.running=!1,clearTimeout(s),cancelAnimationFrame(o),i("autoplayStop")},w=(B,D)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(s),B||(b=!0);const V=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",g):P()};if(e.autoplay.paused=!0,D){y&&(c=e.params.autoplay.delay),y=!1,V();return}c=(c||e.params.autoplay.delay)-(new Date().getTime()-u),!(e.isEnd&&c<0&&!e.params.loop)&&(c<0&&(c=0),V())},P=()=>{e.isEnd&&c<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(u=new Date().getTime(),b?(b=!1,E(c)):E(),e.autoplay.paused=!1,i("autoplayResume"))},R=()=>{if(e.destroyed||!e.autoplay.running)return;const B=Ut();B.visibilityState==="hidden"&&(b=!0,w(!0)),B.visibilityState==="visible"&&P()},L=B=>{B.pointerType==="mouse"&&(b=!0,h=!0,!(e.animating||e.autoplay.paused)&&w(!0))},C=B=>{B.pointerType==="mouse"&&(h=!1,e.autoplay.paused&&P())},M=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",L),e.el.addEventListener("pointerleave",C))},F=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",L),e.el.removeEventListener("pointerleave",C))},K=()=>{Ut().addEventListener("visibilitychange",R)},ut=()=>{Ut().removeEventListener("visibilitychange",R)};n("init",()=>{e.params.autoplay.enabled&&(M(),K(),_())}),n("destroy",()=>{F(),ut(),e.autoplay.running&&k()}),n("_freeModeStaticRelease",()=>{(f||b)&&P()}),n("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?k():w(!0,!0)}),n("beforeTransitionStart",(B,D,V)=>{e.destroyed||!e.autoplay.running||(V||!e.params.autoplay.disableOnInteraction?w(!0,!0):k())}),n("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){k();return}v=!0,f=!1,b=!1,p=setTimeout(()=>{b=!0,f=!0,w(!0)},200)}}),n("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!v)){if(clearTimeout(p),clearTimeout(s),e.params.autoplay.disableOnInteraction){f=!1,v=!1;return}f&&e.params.cssMode&&P(),f=!1,v=!1}}),n("slideChange",()=>{e.destroyed||!e.autoplay.running||(y=!0)}),Object.assign(e.autoplay,{start:_,stop:k,pause:w,resume:P})}function nv(e){const{effect:t,swiper:n,on:i,setTranslate:r,setTransition:s,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=e;i("beforeInit",()=>{if(n.params.effect!==t)return;n.classNames.push(`${n.params.containerModifierClass}${t}`),a&&a()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const d=o?o():{};Object.assign(n.params,d),Object.assign(n.originalParams,d)}),i("setTranslate _virtualUpdated",()=>{n.params.effect===t&&r()}),i("setTransition",(d,v)=>{n.params.effect===t&&s(v)}),i("transitionEnd",()=>{if(n.params.effect===t&&l){if(!c||!c().slideShadows)return;n.slides.forEach(d=>{d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(v=>v.remove())}),l()}});let u;i("virtualUpdate",()=>{n.params.effect===t&&(n.slides.length||(u=!0),requestAnimationFrame(()=>{u&&n.slides&&n.slides.length&&(r(),u=!1)}))})}function iv(e,t){const n=Du(t);return n!==t&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function rv({swiper:e,duration:t,transformElements:n,allSlides:i}){const{activeIndex:r}=e;if(e.params.virtualTranslate&&t!==0){let s=!1,o;o=n,o.forEach(a=>{Hg(a,()=>{if(s||!e||e.destroyed)return;s=!0,e.animating=!1;const l=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(l)})})}}function sv({swiper:e,extendParams:t,on:n}){t({fadeEffect:{crossFade:!1}}),nv({effect:"fade",swiper:e,on:n,setTranslate:()=>{const{slides:s}=e,o=e.params.fadeEffect;for(let a=0;a<s.length;a+=1){const l=e.slides[a];let u=-l.swiperSlideOffset;e.params.virtualTranslate||(u-=e.translate);let d=0;e.isHorizontal()||(d=u,u=0);const v=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(l.progress),0):1+Math.min(Math.max(l.progress,-1),0),f=iv(o,l);f.style.opacity=v,f.style.transform=`translate3d(${u}px, ${d}px, 0px)`}},setTransition:s=>{const o=e.slides.map(a=>Du(a));o.forEach(a=>{a.style.transitionDuration=`${s}ms`}),rv({swiper:e,duration:s,transformElements:o,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}ho.plugin(Dg);window.Alpine=ho;window.Swiper=Tt;window.SwiperModules={Autoplay:ev,EffectFade:sv,Pagination:tv,Navigation:Qb};ho.start();
